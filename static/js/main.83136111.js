!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/MedLeY/",n(n.s=78)}([function(t,e,n){"use strict";n.d(e,"e",function(){return r}),n.d(e,"d",function(){return o}),n.d(e,"b",function(){return s}),n.d(e,"c",function(){return a}),n.d(e,"a",function(){return u});var i=n(4),r=function(){function t(t,e){this.x=t,this.y=e}return t.fromAngle=function(e){return new t(Math.cos(e),Math.sin(e))},t.isValid=function(t){return null!==t&&void 0!==t&&(!isNaN(t.x)&&!isNaN(t.y)&&(t.x!==1/0&&t.y!==1/0&&t.x!==-1/0&&t.y!==-1/0))},t.distance=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},t.prototype.setTo=function(t,e){this.x=t,this.y=e},t.prototype.equals=function(t,e){return void 0===e&&(e=.001),Math.abs(this.x-t.x)<=e&&Math.abs(this.y-t.y)<=e},t.prototype.distance=function(e){return e||(e=t.Zero),Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))},t.prototype.magnitude=function(){return this.distance()},t.prototype.normalize=function(){var e=this.distance();return e>0?new t(this.x/e,this.y/e):new t(0,1)},t.prototype.average=function(t){return this.add(t).scale(.5)},t.prototype.scale=function(e){return new t(this.x*e,this.y*e)},t.prototype.add=function(e){return new t(this.x+e.x,this.y+e.y)},t.prototype.sub=function(e){return new t(this.x-e.x,this.y-e.y)},t.prototype.addEqual=function(t){return this.x+=t.x,this.y+=t.y,this},t.prototype.subEqual=function(t){return this.x-=t.x,this.y-=t.y,this},t.prototype.scaleEqual=function(t){return this.x*=t,this.y*=t,this},t.prototype.dot=function(t){return this.x*t.x+this.y*t.y},t.prototype.cross=function(e){return e instanceof t?this.x*e.y-this.y*e.x:"number"===typeof e?new t(e*this.y,-e*this.x):void 0},t.prototype.perpendicular=function(){return new t(this.y,-this.x)},t.prototype.normal=function(){return this.perpendicular().normalize()},t.prototype.negate=function(){return this.scale(-1)},t.prototype.toAngle=function(){return Math.atan2(this.y,this.x)},t.prototype.rotate=function(e,n){n||(n=new t(0,0));var i=Math.sin(e),r=Math.cos(e);return new t(r*(this.x-n.x)-i*(this.y-n.y)+n.x,i*(this.x-n.x)+r*(this.y-n.y)+n.y)},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.toString=function(){return"("+this.x+", "+this.y+")"},t.Zero=new t(0,0),t.One=new t(1,1),t.Half=new t(.5,.5),t.Up=new t(0,-1),t.Down=new t(0,1),t.Left=new t(-1,0),t.Right=new t(1,0),t}(),o=function(){function t(t,e){this.pos=t,this.dir=e.normalize()}return t.prototype.intersect=function(t){var e=t.begin.sub(this.pos);if(0===this.dir.cross(t.getSlope())&&0!==e.cross(this.dir))return-1;var n=this.dir.cross(t.getSlope());if(0===n)return-1;var i=e.cross(t.getSlope())/n;if(i>=0){var r=e.cross(this.dir)/n/t.getLength();if(r>=0&&r<=1)return i}return-1},t.prototype.getPoint=function(t){return this.pos.add(this.dir.scale(t))},t}(),s=function(){function t(t,e){this.begin=t,this.end=e}return Object.defineProperty(t.prototype,"slope",{get:function(){return(this.end.y-this.begin.y)/(this.end.x-this.begin.x)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"intercept",{get:function(){return this.begin.y-this.slope*this.begin.x},enumerable:!0,configurable:!0}),t.prototype.normal=function(){return this.end.sub(this.begin).normal()},t.prototype.getSlope=function(){var t=this.begin,e=this.end,n=t.distance(e);return e.sub(t).scale(1/n)},t.prototype.getLength=function(){var t=this.begin,e=this.end;return t.distance(e)},t.prototype.distanceToPoint=function(t){var e=t.x,n=t.y,i=this.getLength(),r=this.end.y-this.begin.y,o=this.end.x-this.begin.x;return Math.abs(r*e-o*n+this.end.x*this.begin.y-this.end.y*this.begin.x)/i},t.prototype.findPoint=function(t,e){void 0===t&&(t=null),void 0===e&&(e=null);var n=this.slope,i=this.intercept;if(null!==t)return new r(t,n*t+i);if(null!==e)return new r((e-i)/n,e);throw new Error("You must provide an X or a Y value")},t.prototype.hasPoint=function(){var t,e=0;if("number"===typeof arguments[0]&&"number"===typeof arguments[1])t=new r(arguments[0],arguments[1]),e=arguments[2]||0;else{if(!(arguments[0]instanceof r))throw"Could not determine the arguments for Vector.hasPoint";t=arguments[0],e=arguments[1]||0}var n=t.x-this.begin.x,i=t.y-this.begin.y,o=this.end.x-this.begin.x,s=this.end.y-this.begin.y,a=n*s-i*o;return!(Math.abs(a)>e)&&(Math.abs(o)>=Math.abs(s)?o>0?this.begin.x<=t.x&&t.x<=this.end.x:this.end.x<=t.x&&t.x<=this.begin.x:s>0?this.begin.y<=t.y&&t.y<=this.end.y:this.end.y<=t.y&&t.y<=this.begin.y)},t}(),a=function(){function t(t,e){this.min=t,this.max=e}return t.prototype.overlaps=function(t){return this.max>t.min&&t.max>this.min},t.prototype.getOverlap=function(t){return this.overlaps(t)?this.max>t.max?t.max-this.min:this.max-t.min:0},t}(),u=function(){function t(t,e,n){this.worldPos=t,this.pagePos=e,this.screenPos=n}return t.fromPagePosition=function(e,n,o){var s,a,u,c;3===arguments.length?(u=new r(s=e,a=n),c=o):(s=(u=e).x,a=u.y,c=n);var l=s-i.h(c.canvas).x,h=a-i.h(c.canvas).y,p=new r(l,h);return new t(c.screenToWorldCoordinates(p),u,p)},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(t,e,n,i){this.r=t,this.g=e,this.b=n,this.a=null!=i?i:1}return t.fromRGB=function(e,n,i,r){return new t(e,n,i,r)},t.fromHex=function(e){var n;if(n=e.match(/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})?$/i)){var i=parseInt(n[1],16),r=parseInt(n[2],16),o=parseInt(n[3],16),s=1;return n[4]&&(s=parseInt(n[4],16)/255),new t(i,r,o,s)}throw new Error("Invalid hex string: "+e)},t.fromHSL=function(t,e,n,i){return void 0===i&&(i=1),new r(t,e,n,i).toRGBA()},t.prototype.lighten=function(t){void 0===t&&(t=.1);var e=r.fromRGBA(this.r,this.g,this.b,this.a);return e.l+=e.l*t,e.toRGBA()},t.prototype.darken=function(t){void 0===t&&(t=.1);var e=r.fromRGBA(this.r,this.g,this.b,this.a);return e.l-=e.l*t,e.toRGBA()},t.prototype.saturate=function(t){void 0===t&&(t=.1);var e=r.fromRGBA(this.r,this.g,this.b,this.a);return e.s+=e.s*t,e.toRGBA()},t.prototype.desaturate=function(t){void 0===t&&(t=.1);var e=r.fromRGBA(this.r,this.g,this.b,this.a);return e.s-=e.s*t,e.toRGBA()},t.prototype.mulitiply=function(e){return new t(e.r/255*this.r/255*255,e.g/255*this.g/255*255,e.b/255*this.b/255*255,e.a*this.a)},t.prototype.screen=function(t){var e=t.invert(),n=t.invert();return e.mulitiply(n).invert()},t.prototype.invert=function(){return new t(255-this.r,255-this.g,255-this.b,1-this.a)},t.prototype.average=function(e){return new t((e.r+this.r)/2,(e.g+this.g)/2,(e.b+this.b)/2,(e.a+this.a)/2)},t.prototype.toString=function(t){switch(void 0===t&&(t="rgb"),t){case"rgb":return this.toRGBA();case"hsl":return this.toHSLA();case"hex":return this.toHex();default:throw new Error("Invalid Color format")}},t.prototype._componentToHex=function(t){var e=t.toString(16);return 1===e.length?"0"+e:e},t.prototype.toHex=function(){return"#"+this._componentToHex(this.r)+this._componentToHex(this.g)+this._componentToHex(this.b)},t.prototype.toRGBA=function(){var t=String(this.r.toFixed(0))+", "+String(this.g.toFixed(0))+", "+String(this.b.toFixed(0));return void 0!==this.a||null!==this.a?"rgba("+t+", "+String(this.a)+")":"rgb("+t+")"},t.prototype.toHSLA=function(){return r.fromRGBA(this.r,this.g,this.b,this.a).toString()},t.prototype.fillStyle=function(){return this.toString()},t.prototype.clone=function(){return new t(this.r,this.g,this.b,this.a)},t.Black=t.fromHex("#000000"),t.White=t.fromHex("#FFFFFF"),t.Gray=t.fromHex("#808080"),t.LightGray=t.fromHex("#D3D3D3"),t.DarkGray=t.fromHex("#A9A9A9"),t.Yellow=t.fromHex("#FFFF00"),t.Orange=t.fromHex("#FFA500"),t.Red=t.fromHex("#FF0000"),t.Vermillion=t.fromHex("#FF5B31"),t.Rose=t.fromHex("#FF007F"),t.Magenta=t.fromHex("#FF00FF"),t.Violet=t.fromHex("#7F00FF"),t.Blue=t.fromHex("#0000FF"),t.Azure=t.fromHex("#007FFF"),t.Cyan=t.fromHex("#00FFFF"),t.Viridian=t.fromHex("#59978F"),t.Green=t.fromHex("#00FF00"),t.Chartreuse=t.fromHex("#7FFF00"),t.Transparent=t.fromHex("#FFFFFF00"),t}(),r=function(){function t(t,e,n,i){this.h=t,this.s=e,this.l=n,this.a=i}return t.hue2rgb=function(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t},t.fromRGBA=function(e,n,i,r){e/=255,n/=255,i/=255;var o,s,a=Math.max(e,n,i),u=Math.min(e,n,i),c=(a+u)/2;if(a===u)o=s=0;else{var l=a-u;switch(s=c>.5?l/(2-a-u):l/(a+u),a){case e:o=(n-i)/l+(n<i?6:0);break;case n:o=(i-e)/l+2;break;case i:o=(e-n)/l+4}o/=6}return new t(o,s,c,r)},t.prototype.toRGBA=function(){var e,n,r;if(0===this.s)e=n=r=this.l;else{var o=this.l<.5?this.l*(1+this.s):this.l+this.s-this.l*this.s,s=2*this.l-o;e=t.hue2rgb(s,o,this.h+1/3),n=t.hue2rgb(s,o,this.h),r=t.hue2rgb(s,o,this.h-1/3)}return new i(255*e,255*n,255*r,this.a)},t.prototype.toString=function(){return"hsla("+this.h.toFixed(0)+", "+this.s.toFixed(0)+", "+this.l.toFixed(0)+", "+this.a.toFixed(0)+")"},t}()},function(t,e,n){"use strict";n.d(e,"i",function(){return o}),n.d(e,"r",function(){return s}),n.d(e,"C",function(){return a}),n.d(e,"w",function(){return u}),n.d(e,"j",function(){return c}),n.d(e,"k",function(){return l}),n.d(e,"A",function(){return h}),n.d(e,"u",function(){return p}),n.d(e,"z",function(){return f}),n.d(e,"t",function(){return d}),n.d(e,"D",function(){return y}),n.d(e,"x",function(){return g}),n.d(e,"B",function(){return _}),n.d(e,"v",function(){return v}),n.d(e,"n",function(){return m}),n.d(e,"o",function(){return b}),n.d(e,"m",function(){return w}),n.d(e,"l",function(){return x}),n.d(e,"E",function(){return P}),n.d(e,"F",function(){return S}),n.d(e,"G",function(){return E}),n.d(e,"p",function(){return T}),n.d(e,"y",function(){return C}),n.d(e,"s",function(){return k}),n.d(e,"c",function(){return O}),n.d(e,"b",function(){return A}),n.d(e,"q",function(){return D}),n.d(e,"a",function(){return M}),n.d(e,"d",function(){return R}),n.d(e,"h",function(){return j}),n.d(e,"f",function(){return I}),n.d(e,"e",function(){return F}),n.d(e,"g",function(){return N});var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=function(){function t(){this.bubbles=!0,this._path=[],this._name=""}return Object.defineProperty(t.prototype,"eventPath",{get:function(){return this._path},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),t.prototype.stopPropagation=function(){this.bubbles=!1},t.prototype.action=function(){var t=this.eventPath.pop();t&&(this._onActionStart(t),t.eventDispatcher.emit(this._name,this),this._onActionEnd(t))},t.prototype.propagate=function(){this.eventPath.length&&(this.action(),this.bubbles&&this.propagate())},t.prototype.layPath=function(t){var e=t.getAncestors();this._path=e.length>this._path.length?e:this._path},t.prototype._onActionStart=function(t){},t.prototype._onActionEnd=function(t){},t}(),s=function(t){function e(e){var n=t.call(this)||this;return n.target=e,n}return r(e,t),e}(o),a=function(t){function e(e){var n=t.call(this)||this;return n.target=e,n}return r(e,t),e}(o),u=function(t){function e(e){var n=t.call(this)||this;return n.target=e,n}return r(e,t),e}(o),c=function(t){function e(e){var n=t.call(this)||this;return n.target=e,n}return r(e,t),e}(o),l=function(t){function e(e){var n=t.call(this)||this;return n.target=e,n}return r(e,t),e}(o),h=function(t){function e(e,n,i){var r=t.call(this)||this;return r.ctx=e,r.delta=n,r.target=i,r}return r(e,t),e}(o),p=function(t){function e(e,n,i){var r=t.call(this)||this;return r.ctx=e,r.delta=n,r.target=i,r}return r(e,t),e}(o),f=function(t){function e(e,n){var i=t.call(this)||this;return i.ctx=e,i.target=n,i}return r(e,t),e}(o),d=function(t){function e(e,n){var i=t.call(this)||this;return i.ctx=e,i.target=n,i}return r(e,t),e}(o),y=function(t){function e(e,n,i){var r=t.call(this)||this;return r.engine=e,r.delta=n,r.target=i,r}return r(e,t),e}(o),g=function(t){function e(e,n,i){var r=t.call(this)||this;return r.engine=e,r.delta=n,r.target=i,r}return r(e,t),e}(o),_=function(t){function e(e,n){var i=t.call(this)||this;return i.engine=e,i.prevStats=n,i.target=e,i}return r(e,t),e}(o),v=function(t){function e(e,n){var i=t.call(this)||this;return i.engine=e,i.stats=n,i.target=e,i}return r(e,t),e}(o),m=function(t){function e(e,n){var i=t.call(this)||this;return i.index=e,i.gamepad=n,i.target=n,i}return r(e,t),e}(o),b=function(t){function e(e,n){var i=t.call(this)||this;return i.index=e,i.gamepad=n,i.target=n,i}return r(e,t),e}(o),w=function(t){function e(e,n,i){var r=t.call(this)||this;return r.button=e,r.value=n,r.target=i,r}return r(e,t),e}(o),x=function(t){function e(e,n,i){var r=t.call(this)||this;return r.axis=e,r.value=n,r.target=i,r}return r(e,t),e}(o),P=function(t){function e(e,n){var i=t.call(this)||this;return i.topic=e,i.handler=n,i}return r(e,t),e}(o),S=function(t){function e(e,n){var i=t.call(this)||this;return i.topic=e,i.handler=n,i}return r(e,t),e}(o),E=function(t){function e(e){var n=t.call(this)||this;return n.target=e,n}return r(e,t),e}(o),T=function(t){function e(e){var n=t.call(this)||this;return n.target=e,n}return r(e,t),e}(o),C=function(t){function e(e,n,i,r){var o=t.call(this)||this;return o.actor=e,o.other=n,o.side=i,o.intersection=r,o.target=e,o}return r(e,t),e}(o),k=function(t){function e(e,n,i,r){var o=t.call(this)||this;return o.actor=e,o.other=n,o.side=i,o.intersection=r,o.target=e,o}return r(e,t),e}(o),O=function(t){function e(e,n,i){var r=t.call(this)||this;return r.actor=e,r.other=n,r.pair=i,r.target=e,r}return r(e,t),e}(o),A=function(t){function e(e,n){var i=t.call(this)||this;return i.actor=e,i.other=n,i.target=e,i}return r(e,t),e}(o),D=function(t){function e(e,n){var i=t.call(this)||this;return i.engine=e,i.target=n,i}return r(e,t),e}(o),M=function(t){function e(e,n){var i=t.call(this)||this;return i.oldScene=e,i.target=n,i}return r(e,t),e}(o),R=function(t){function e(e,n){var i=t.call(this)||this;return i.newScene=e,i.target=n,i}return r(e,t),e}(o),j=function(t){function e(e){var n=t.call(this)||this;return n.target=e,n}return r(e,t),e}(o),I=function(t){function e(e){var n=t.call(this)||this;return n.target=e,n}return r(e,t),e}(o),F=function(t){function e(e,n){var i=t.call(this)||this;return i.target=e,i.actor=n,i}return r(e,t),e}(o),N=function(t){function e(e,n){var i=t.call(this)||this;return i.target=e,i.actor=n,i}return r(e,t),e}(o)},function(t,e,n){"use strict";var i;n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r}),function(t){t[t.Debug=0]="Debug",t[t.Info=1]="Info",t[t.Warn=2]="Warn",t[t.Error=3]="Error",t[t.Fatal=4]="Fatal"}(i||(i={}));var r=function(){function t(){if(this._appenders=[],this.defaultLevel=i.Info,t._instance)throw new Error("Logger is a singleton");return t._instance=this,t._instance.addAppender(new o),t._instance}return t.getInstance=function(){return null==t._instance&&(t._instance=new t),t._instance},t.prototype.addAppender=function(t){this._appenders.push(t)},t.prototype.clearAppenders=function(){this._appenders.length=0},t.prototype._log=function(t,e){null==t&&(t=this.defaultLevel);for(var n=0,i=this._appenders.length;n<i;n++)t>=this.defaultLevel&&this._appenders[n].log(t,e)},t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._log(i.Debug,t)},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._log(i.Info,t)},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._log(i.Warn,t)},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._log(i.Error,t)},t.prototype.fatal=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._log(i.Fatal,t)},t._instance=null,t}(),o=function(){function t(){}return t.prototype.log=function(t,e){if(console||console.log||!console.warn||!console.error){var n=[];n.unshift.apply(n,e),n.unshift("["+i[t]+"] : "),t<i.Warn?console.log.apply?console.log.apply(console,n):console.log(n.join(" ")):t<i.Error?console.warn.apply?console.warn.apply(console,n):console.warn(n.join(" ")):console.error.apply?console.error.apply(console,n):console.error(n.join(" "))}},t}();!function(){function t(t,e){this._messages=[],this._canvas=document.createElement("canvas"),this._canvas.width=t||window.innerWidth,this._canvas.height=e||window.innerHeight,this._canvas.style.position="absolute",this._ctx=this._canvas.getContext("2d"),document.body.appendChild(this._canvas)}t.prototype.log=function(t,e){var n=e.join(",");this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._messages.unshift("["+i[t]+"] : "+n);for(var r=10,o=1,s=0;s<this._messages.length;s++)this._ctx.fillStyle="rgba(255,255,255,"+o.toFixed(2)+")",this._ctx.fillText(this._messages[s],200,r),r+=10,o=o>0?o-.05:0}}()},function(t,e,n){"use strict";n.d(e,"b",function(){return s}),e.f=function t(){var e={};var n=!1;var i=0;var r=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(n=arguments[0],i++);var o="function"===typeof Object.assign;var s=null;s=o?Object.assign:function(i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n&&"[object Object]"===Object.prototype.toString.call(i[r])?e[r]=t(!0,e[r],i[r]):e[r]=i[r])};for(;i<r;i++){var a=arguments[i];o?s(e,a):s(a)}return e},e.d=function(t,e,n){return Math.min(Math.max(e,t),n)},e.j=a,e.h=function(t){var e=0,n=0,r=function(t){e+=t.offsetLeft,t.offsetParent&&r(t.offsetParent)},o=function(t){n+=t.offsetTop,t.offsetParent&&o(t.offsetParent)};return r(t),o(t),new i.e(e,n)},e.c=function(t,e){if(-1===e.indexOf(t))return e.push(t),!0;return!1},e.k=function(t,e){var n=-1;if((n=e.indexOf(t))>-1)return e.splice(n,1),!0;return!1},e.e=function(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return!0;return!1},e.g=function(t){if(t===o.a.Top)return o.a.Bottom;if(t===o.a.Bottom)return o.a.Top;if(t===o.a.Left)return o.a.Right;if(t===o.a.Right)return o.a.Left;return o.a.None},e.i=function(t){for(var e=[i.e.Left,i.e.Right,i.e.Up,i.e.Down],n=[o.a.Left,o.a.Right,o.a.Top,o.a.Bottom],r=-Number.MAX_VALUE,s=-1,a=0;a<e.length;a++)e[a].dot(t)>r&&(r=e[a].dot(t),s=a);return n[s]},n.d(e,"a",function(){return u});var i=n(0),r=n(17),o=n(18),s=2*Math.PI;function a(t,e,n){return void 0===n&&(n=new r.a),n?n.floating(t,e):t+Math.random()*(e-t)}var u=function(){function t(e){void 0===e&&(e=t.DefaultSize),this._internalArray=null,this._endPointer=0,this._internalArray=new Array(e)}return t.prototype._resize=function(){for(var t=2*this._internalArray.length,e=new Array(t),n=this.count(),i=0;i<n;i++)e[i]=this._internalArray[i];delete this._internalArray,this._internalArray=e},t.prototype.push=function(t){return this._endPointer===this._internalArray.length&&this._resize(),this._internalArray[this._endPointer++]=t},t.prototype.pop=function(){return this._endPointer=this._endPointer-1<0?0:this._endPointer-1,this._internalArray[this._endPointer]},t.prototype.count=function(){return this._endPointer},t.prototype.clear=function(){this._endPointer=0},t.prototype.internalSize=function(){return this._internalArray.length},t.prototype.elementAt=function(t){if(t>=this.count())throw new Error("Invalid index "+t);return this._internalArray[t]},t.prototype.insert=function(t,e){return t>=this.count()&&this._resize(),this._internalArray[t]=e},t.prototype.remove=function(t){var e=this.count();if(0===e)throw new Error("Invalid parameter "+t);for(var n=this._internalArray[t],i=t;i<e;i++)this._internalArray[i]=this._internalArray[i+1];return this._endPointer--,n},t.prototype.removeElement=function(t){var e=this._internalArray.indexOf(t);this.remove(e)},t.prototype.toArray=function(){return this._internalArray.slice(0,this._endPointer)},t.prototype.forEach=function(t){for(var e=0,n=this.count();e<n;e++)t.call(this,this._internalArray[e],e)},t.prototype.map=function(t){for(var e=this.count(),n=0;n<e;n++)this._internalArray[n]=t.call(this,this._internalArray[n],n)},t.DefaultSize=200,t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return S}),n.d(e,"b",function(){return r});var i,r,o=n(6),s=n(7),a=n(10),u=n(23),c=n(2),l=n(1),h=n(24),p=n(3),f=n(35),d=n(25),y=n(0),g=n(61),_=n(18),v=n(11),m=n(27),b=n(14),w=n(4),x=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),P=function(t){function e(n,i,o,s,a){var u=t.call(this)||this;if(u.id=e.maxId++,u.body=new g.a(u),u.oldAcc=y.e.Zero.clone(),u._height=0,u._width=0,u.scale=y.e.One.clone(),u.oldScale=y.e.One.clone(),u.sx=0,u.sy=0,u.isOffScreen=!1,u.visible=!0,u.opacity=1,u.previousOpacity=1,u.logger=p.b.getInstance(),u.scene=null,u.parent=null,u.children=[],u.collisionType=r.PreventCollision,u.collisionGroups=[],u._geometryDirty=!1,u._collisionHandlers={},u._isInitialized=!1,u.frames={},u._effectsDirty=!1,u.currentDrawing=null,u.traits=[],u.enableCapturePointer=!1,u.capturePointer={captureMoveEvents:!1,captureDragEvents:!1},u._zIndex=0,u._isKilled=!1,u._opacityFx=new b.h(u.opacity),u._capturePointerEvents=["pointerup","pointerdown","pointermove","pointerenter","pointerleave","pointerdragstart","pointerdragend","pointerdragmove","pointerdragenter","pointerdragleave"],u._captureMoveEvents=["pointermove","pointerenter","pointerleave","pointerdragmove","pointerdragenter","pointerdragleave"],u._captureDragEvents=["pointerdragstart","pointerdragend","pointerdragmove","pointerdragenter","pointerdragleave"],n&&"object"===typeof n){var c=n;n=c.pos?c.pos.x:c.x,i=c.pos?c.pos.y:c.y,o=c.width,s=c.height}return u.pos.x=n||0,u.pos.y=i||0,u._width=o||0,u._height=s||0,a&&(u.color=a,u.opacity=a.a),u.traits.push(new m.c),u.traits.push(new m.b),u.traits.push(new m.a),u.actionQueue=new d.ActionQueue(u),u.actions=new f.a(u),u._initDefaults(),u.body.useBoxCollision(),u}return x(e,t),Object.defineProperty(e.prototype,"collisionArea",{get:function(){return this.body.collisionArea},set:function(t){this.body.collisionArea=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"x",{get:function(){return this.body.pos.x},set:function(t){this.body.pos.x=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.body.pos.y},set:function(t){this.body.pos.y=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pos",{get:function(){return this.body.pos},set:function(t){this.body.pos.setTo(t.x,t.y)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"oldPos",{get:function(){return this.body.oldPos},set:function(t){this.body.oldPos.setTo(t.x,t.y)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"vel",{get:function(){return this.body.vel},set:function(t){this.body.vel.setTo(t.x,t.y)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"oldVel",{get:function(){return this.body.oldVel},set:function(t){this.body.oldVel.setTo(t.x,t.y)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"acc",{get:function(){return this.body.acc},set:function(t){this.body.acc.setTo(t.x,t.y)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.body.rotation},set:function(t){this.body.rotation=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rx",{get:function(){return this.body.rx},set:function(t){this.body.rx=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"torque",{get:function(){return this.body.torque},set:function(t){this.body.torque=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mass",{get:function(){return this.body.mass},set:function(t){this.body.mass=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"moi",{get:function(){return this.body.moi},set:function(t){this.body.moi=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"friction",{get:function(){return this.body.friction},set:function(t){this.body.friction=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"restitution",{get:function(){return this.body.restitution},set:function(t){this.body.restitution=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(t){this._color=t.clone()},enumerable:!0,configurable:!0}),e.prototype.onInitialize=function(t){},Object.defineProperty(e.prototype,"isInitialized",{get:function(){return this._isInitialized},enumerable:!0,configurable:!0}),e.prototype._initialize=function(e){this.isInitialized||(this.onInitialize(e),t.prototype.emit.call(this,"initialize",new c.q(e,this)),this._isInitialized=!0);for(var n=0,i=this.children;n<i.length;n++){i[n]._initialize(e)}},e.prototype._initDefaults=function(){this.anchor=S.defaults.anchor.clone()},e.prototype._checkForPointerOptIn=function(t){if(t){var e=t.toLowerCase();-1!==this._capturePointerEvents.indexOf(e)&&(this.enableCapturePointer=!0,-1!==this._captureMoveEvents.indexOf(e)&&(this.capturePointer.captureMoveEvents=!0),-1!==this._captureDragEvents.indexOf(e)&&(this.capturePointer.captureDragEvents=!0))}},e.prototype.on=function(e,n){this._checkForPointerOptIn(e),t.prototype.on.call(this,e,n)},e.prototype.once=function(e,n){this._checkForPointerOptIn(e),t.prototype.once.call(this,e,n)},e.prototype.off=function(e,n){t.prototype.off.call(this,e,n)},e.prototype._prekill=function(e){t.prototype.emit.call(this,"prekill",new c.C(this)),this.onPreKill(e)},e.prototype.onPreKill=function(t){},e.prototype._postkill=function(e){t.prototype.emit.call(this,"postkill",new c.w(this)),this.onPostKill(e)},e.prototype.onPostKill=function(t){},e.prototype.kill=function(){this.scene?(this._prekill(this.scene),this.emit("kill",new c.r(this)),this._isKilled=!0,this.scene.remove(this),this._postkill(this.scene)):this.logger.warn("Cannot kill actor, it was never added to the Scene")},e.prototype.unkill=function(){this._isKilled=!1},e.prototype.isKilled=function(){return this._isKilled},e.prototype.add=function(t){t.collisionType=r.PreventCollision,w.c(t,this.children)&&(t.parent=this)},e.prototype.remove=function(t){w.k(t,this.children)&&(t.parent=null)},e.prototype.setDrawing=function(t){t=t.toString(),this.currentDrawing!==this.frames[t]&&(null!=this.frames[t]?(this.frames[t].reset(),this.currentDrawing=this.frames[t]):p.b.getInstance().error("the specified drawing key "+t+" does not exist"))},e.prototype.addDrawing=function(){2===arguments.length?(this.frames[arguments[0]]=arguments[1],this.currentDrawing||(this.currentDrawing=arguments[1]),this._effectsDirty=!0):(arguments[0]instanceof h.a&&this.addDrawing("default",arguments[0]),arguments[0]instanceof u.a&&this.addDrawing("default",arguments[0].asSprite()))},Object.defineProperty(e.prototype,"z",{get:function(){return this.getZIndex()},set:function(t){this.setZIndex(t)},enumerable:!0,configurable:!0}),e.prototype.getZIndex=function(){return this._zIndex},e.prototype.setZIndex=function(t){this.scene.cleanupDrawTree(this),this._zIndex=t,this.scene.updateDrawTree(this)},e.prototype.addCollisionGroup=function(t){this.collisionGroups.push(t)},e.prototype.removeCollisionGroup=function(t){var e=this.collisionGroups.indexOf(t);-1!==e&&this.collisionGroups.splice(e,1)},e.prototype.getCenter=function(){return new y.e(this.pos.x+this.getWidth()/2-this.anchor.x*this.getWidth(),this.pos.y+this.getHeight()/2-this.anchor.y*this.getHeight())},e.prototype.getWidth=function(){return this._width*this.getGlobalScale().x},e.prototype.setWidth=function(t){this._width=t/this.scale.x,this._geometryDirty=!0},e.prototype.getHeight=function(){return this._height*this.getGlobalScale().y},e.prototype.setHeight=function(t){this._height=t/this.scale.y,this._geometryDirty=!0},e.prototype.getLeft=function(){return this.getBounds().left},e.prototype.getRight=function(){return this.getBounds().right},e.prototype.getTop=function(){return this.getBounds().top},e.prototype.getBottom=function(){return this.getBounds().bottom},e.prototype.getWorldRotation=function(){return this.parent?this.rotation+this.parent.getWorldRotation():this.rotation},e.prototype.getWorldPos=function(){if(!this.parent)return this.pos.clone();var t=[],e=this;for(t.push(this);e.parent;)e=e.parent,t.push(e);var n=t.reduceRight(function(t,e){return e.parent?t+e.pos.x*e.getGlobalScale().x:t+e.pos.x},0),i=t.reduceRight(function(t,e){return e.parent?t+e.pos.y*e.getGlobalScale().y:t+e.pos.y},0),r=e.getWorldPos(),o=this.getWorldRotation();return new y.e(n,i).rotate(o,r)},e.prototype.getGlobalScale=function(){if(!this.parent)return new y.e(this.scale.x,this.scale.y);var t=this.parent.getGlobalScale();return new y.e(this.scale.x*t.x,this.scale.y*t.y)},e.prototype.getBounds=function(t){void 0===t&&(t=!0);var e=this._getCalculatedAnchor(),n=this.getWorldPos(),i=new a.a(n.x-e.x,n.y-e.y,n.x+this.getWidth()-e.x,n.y+this.getHeight()-e.y);return t?i.rotate(this.rotation,n):i},e.prototype.getRelativeBounds=function(t){void 0===t&&(t=!0);var e=this._getCalculatedAnchor(),n=new a.a(-e.x,-e.y,this.getWidth()-e.x,this.getHeight()-e.y);return t?n.rotate(this.rotation):n},e.prototype.getGeometry=function(){return this.getBounds(!1).getPoints()},e.prototype.getRelativeGeometry=function(){return this.getRelativeBounds(!1).getPoints()},Object.defineProperty(e.prototype,"isGeometryDirty",{get:function(){return this._geometryDirty},enumerable:!0,configurable:!0}),e.prototype.contains=function(t,e,n){void 0===n&&(n=!1);var i=this.getBounds().contains(new y.e(t,e));return n?i||this.children.some(function(n){return n.contains(t,e,!0)}):i},e.prototype.getSideFromIntersect=function(t){return t?Math.abs(t.x)>Math.abs(t.y)?t.x<0?_.a.Right:_.a.Left:t.y<0?_.a.Bottom:_.a.Top:_.a.None},e.prototype.collidesWithSide=function(t){var e=this.collides(t);return e?Math.abs(e.x)>Math.abs(e.y)?this.pos.x<t.pos.x?_.a.Right:_.a.Left:this.pos.y<t.pos.y?_.a.Bottom:_.a.Top:_.a.None},e.prototype.collides=function(t){var e=this.getBounds(),n=t.getBounds();return e.collides(n)},e.prototype.onCollidesWith=function(t,e){this._collisionHandlers[t]||(this._collisionHandlers[t]=[]),this._collisionHandlers[t].push(e)},e.prototype.getCollisionHandlers=function(){return this._collisionHandlers},e.prototype.removeCollidesWith=function(t){this._collisionHandlers[t]=[]},e.prototype.within=function(t,e){return Math.sqrt(Math.pow(this.pos.x-t.pos.x,2)+Math.pow(this.pos.y-t.pos.y,2))<=e},e.prototype._getCalculatedAnchor=function(){return new y.e(this.getWidth()*this.anchor.x,this.getHeight()*this.anchor.y)},e.prototype._reapplyEffects=function(t){t.removeEffect(this._opacityFx),t.addEffect(this._opacityFx)},e.prototype.integrate=function(t){var e=t/1e3,n=this.acc.clone();this.collisionType===r.Active&&n.addEqual(o.b.acc),this.vel.addEqual(n.scale(e)),this.pos.addEqual(this.vel.scale(e)).addEqual(n.scale(.5*e*e)),this.rx+=this.torque*(1/this.moi)*e,this.rotation+=this.rx*e,this.scale.x+=this.sx*t/1e3,this.scale.y+=this.sy*t/1e3,this.scale.equals(this.oldScale)||(this._geometryDirty=!0),this.body.update(),this._geometryDirty=!1},e.prototype.update=function(t,e){this._initialize(t),this._preupdate(t,e),this.actionQueue.update(e),this.color&&(this.color.a=this.opacity),this.previousOpacity!==this.opacity&&(this.previousOpacity=this.opacity,this._opacityFx.opacity=this.opacity,this._effectsDirty=!0),this.oldVel.setTo(this.vel.x,this.vel.y),this.oldPos.setTo(this.pos.x,this.pos.y),this.oldAcc.setTo(this.acc.x,this.acc.y),this.oldScale.setTo(this.scale.x,this.scale.y),this.integrate(e);for(var n=0,i=this.traits;n<i.length;n++){i[n].update(this,t,e)}for(var r=0;r<this.children.length;r++)this.children[r].update(t,e);this._postupdate(t,e)},e.prototype.onPreUpdate=function(t,e){},e.prototype.onPostUpdate=function(t,e){},e.prototype._preupdate=function(t,e){this.emit("preupdate",new c.D(t,e,this)),this.onPreUpdate(t,e)},e.prototype._postupdate=function(t,e){this.emit("postupdate",new c.D(t,e,this)),this.onPostUpdate(t,e)},e.prototype.draw=function(t,e){if(t.save(),t.translate(this.pos.x,this.pos.y),t.rotate(this.rotation),t.scale(this.scale.x,this.scale.y),t.save(),t.translate(-this._width*this.anchor.x,-this._height*this.anchor.y),this._predraw(t,e),this.currentDrawing){var n=this.currentDrawing,i=(this._width-n.width*n.scale.x)*this.anchor.x,r=(this._height-n.height*n.scale.y)*this.anchor.y;this._effectsDirty&&(this._reapplyEffects(this.currentDrawing),this._effectsDirty=!1),this.currentDrawing.draw(t,i,r)}else this.color&&(t.fillStyle=this.color.toString(),t.fillRect(0,0,this._width,this._height));t.restore();for(var o=0;o<this.children.length;o++)this.children[o].visible&&this.children[o].draw(t,e);this._postdraw(t,e),t.restore()},e.prototype.onPreDraw=function(t,e){},e.prototype.onPostDraw=function(t,e){},e.prototype._predraw=function(t,e){this.emit("predraw",new c.A(t,e,this)),this.onPreDraw(t,e)},e.prototype._postdraw=function(t,e){this.emit("postdraw",new c.A(t,e,this)),this.onPostDraw(t,e)},e.prototype.debugDraw=function(t){this.emit("predebugdraw",new c.z(t,this)),this.body.debugDraw(t);var e=this.getBounds();e.debugDraw(t),t.fillText("id: "+this.id,e.left+3,e.top+10),t.fillStyle=l.a.Yellow.toString(),t.beginPath(),t.arc(this.getWorldPos().x,this.getWorldPos().y,3,0,2*Math.PI),t.closePath(),t.fill();for(var n=0;n<this.traits.length;n++)this.traits[n]instanceof m.b&&this.traits[n].cullingBox.debugDraw(t);t.strokeStyle=l.a.Yellow.toString(),t.beginPath();var i=Math.min(this.getWidth(),this.getHeight());t.arc(this.getWorldPos().x,this.getWorldPos().y,i,0,2*Math.PI),t.closePath(),t.stroke();var r={"0 Pi":0,"Pi/2":Math.PI/2,Pi:Math.PI,"3/2 Pi":3*Math.PI/2},o=t.font;for(var s in r)t.fillStyle=l.a.Yellow.toString(),t.font="14px",t.textAlign="center",t.fillText(s,this.getWorldPos().x+Math.cos(r[s])*(i+10),this.getWorldPos().y+Math.sin(r[s])*(i+10));t.font=o;for(var a=0;a<this.children.length;a++)this.children[a].debugDraw(t);this.emit("postdebugdraw",new c.t(t,this))},e.prototype.getAncestors=function(){for(var t,e=[this],n=this;t=n.parent;)n=t,e.push(n);return e.reverse()},e.defaults={anchor:y.e.Half.clone()},e.maxId=0,e}(s.a),S=function(t){function e(e,n,i,r,o){return t.call(this,e,n,i,r,o)||this}return x(e,t),e}(Object(v.a)(P));!function(t){t[t.PreventCollision=0]="PreventCollision",t[t.Passive=1]="Passive",t[t.Active=2]="Active",t[t.Fixed=3]="Fixed"}(r||(r={}))},function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return a});var i,r,o,s=n(0);!function(t){t[t.Box=0]="Box",t[t.RigidBody=1]="RigidBody"}(i||(i={})),function(t){t[t.Naive=0]="Naive",t[t.DynamicAABBTree=1]="DynamicAABBTree"}(r||(r={})),function(t){t[t.Euler=0]="Euler"}(o||(o={}));var a=function(){function t(){}return t.useBoxPhysics=function(){t.collisionResolutionStrategy=i.Box},t.useRigidBodyPhysics=function(){t.collisionResolutionStrategy=i.RigidBody},t.acc=new s.e(0,0),t.enabled=!0,t.collisionPasses=5,t.broadphaseStrategy=r.DynamicAABBTree,t.broadphaseDebug=!1,t.showCollisionNormals=!1,t.showMotionVectors=!1,t.showBounds=!1,t.showArea=!1,t.showContacts=!1,t.showNormals=!1,t.collisionResolutionStrategy=i.Box,t.defaultMass=10,t.integrator=o.Euler,t.integrationSteps=1,t.allowRigidBodyRotation=!0,t.collisionShift=.001,t.dynamicTreeVelocityMultiplyer=2,t.boundsPadding=5,t.surfaceEpsilon=.1,t.checkForFastBodies=!0,t.disableMinimumSpeedForFastBody=!1,t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(32),r=function(){function t(){this.eventDispatcher=new i.a(this)}return t.prototype.on=function(t,e){this.eventDispatcher.on(t,e)},t.prototype.off=function(t,e){this.eventDispatcher.off(t,e)},t.prototype.emit=function(t,e){this.eventDispatcher.emit(t,e)},t.prototype.once=function(t,e){this.eventDispatcher.once(t,e)},t.extend=function(e){var n,i=this;n=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return i.apply(this,arguments)};var r=function(){this.constructor=n};if(r.prototype=i.prototype,n.prototype=new r,e)for(var o in e)e.hasOwnProperty(o)&&(n.prototype[o]=e[o]);return n.extend=t.extend,n},t}()},function(t,e,n){"use strict";t.exports=n(87)},function(t,e,n){"use strict";var i;n.d(e,"b",function(){return i}),n.d(e,"a",function(){return r}),function(t){t[t.Resolved=0]="Resolved",t[t.Rejected=1]="Rejected",t[t.Pending=2]="Pending"}(i||(i={}));var r=function(){function t(){this._state=i.Pending,this._successCallbacks=[],this._rejectCallback=function(){}}return t.resolve=function(e){return(new t).resolve(e)},t.reject=function(e){return(new t).reject(e)},t.join=function(){var e=[];if(arguments.length>0&&!Array.isArray(arguments[0]))for(var n=0;n<arguments.length;n++)e[n-0]=arguments[n];else 1===arguments.length&&Array.isArray(arguments[0])&&(e=arguments[0]);var i=new t;if(!e||!e.length)return i.resolve();var r=e.length,o=0,s=0,a=[];return e.forEach(function(t){t.then(function(){(o+=1)===r?i.resolve():o+s+a.length===r&&i.reject(a)},function(){o+(s+=1)+a.length===r&&i.reject(a)}).error(function(t){a.push(t),a.length+o+s===r&&i.reject(a)})}),i},t.prototype.then=function(t,e){if(t&&(this._successCallbacks.push(t),this.state()===i.Resolved))try{t.call(this,this._value)}catch(t){this._handleError(t)}if(e&&(this._rejectCallback=e,this.state()===i.Rejected))try{e.call(this,this._value)}catch(t){this._handleError(t)}return this},t.prototype.error=function(t){return t&&(this._errorCallback=t),this},t.prototype.resolve=function(t){var e=this;if(this._state!==i.Pending)throw new Error("Cannot resolve a promise that is not in a pending state!");this._value=t;try{this._state=i.Resolved,this._successCallbacks.forEach(function(t){t.call(e,e._value)})}catch(t){this._handleError(t)}return this},t.prototype.reject=function(t){if(this._state!==i.Pending)throw new Error("Cannot reject a promise that is not in a pending state!");this._value=t;try{this._state=i.Rejected,this._rejectCallback.call(this,this._value)}catch(t){this._handleError(t)}return this},t.prototype.state=function(){return this._state},t.prototype._handleError=function(t){if(!this._errorCallback)throw t;this._errorCallback.call(this,t)},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(12),r=n(0),o=n(1),s=function(){function t(t,e,n,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=0),this.left=t,this.top=e,this.right=n,this.bottom=i}return t.fromPoints=function(e){for(var n=1/0,i=1/0,r=-1/0,o=-1/0,s=0;s<e.length;s++)e[s].x<n&&(n=e[s].x),e[s].x>r&&(r=e[s].x),e[s].y<i&&(i=e[s].y),e[s].y>o&&(o=e[s].y);return new t(n,i,r,o)},t.prototype.getWidth=function(){return this.right-this.left},t.prototype.getHeight=function(){return this.bottom-this.top},t.prototype.rotate=function(e,n){void 0===n&&(n=r.e.Zero.clone());var i=this.getPoints().map(function(t){return t.rotate(e,n)});return t.fromPoints(i)},t.prototype.getPerimeter=function(){return 2*(this.getWidth()+this.getHeight())},t.prototype.getPoints=function(){var t=[];return t.push(new r.e(this.left,this.top)),t.push(new r.e(this.right,this.top)),t.push(new r.e(this.right,this.bottom)),t.push(new r.e(this.left,this.bottom)),t},t.prototype.toPolygon=function(t){return new i.a({body:t?t.body:null,points:this.getPoints(),pos:r.e.Zero.clone()})},t.prototype.rayCast=function(t,e){void 0===e&&(e=1/0);var n=-1/0,i=1/0,r=0===t.dir.x?Number.MAX_VALUE:1/t.dir.x,o=0===t.dir.y?Number.MAX_VALUE:1/t.dir.y,s=(this.left-t.pos.x)*r,a=(this.right-t.pos.x)*r;n=Math.min(s,a),i=Math.max(s,a);var u=(this.top-t.pos.y)*o,c=(this.bottom-t.pos.y)*o;return n=Math.max(n,Math.min(u,c)),(i=Math.min(i,Math.max(u,c)))>=Math.max(0,n)&&n<e},t.prototype.rayCastTime=function(t,e){void 0===e&&(e=1/0);var n=-1/0,i=1/0,r=0===t.dir.x?Number.MAX_VALUE:1/t.dir.x,o=0===t.dir.y?Number.MAX_VALUE:1/t.dir.y,s=(this.left-t.pos.x)*r,a=(this.right-t.pos.x)*r;n=Math.min(s,a),i=Math.max(s,a);var u=(this.top-t.pos.y)*o,c=(this.bottom-t.pos.y)*o;return n=Math.max(n,Math.min(u,c)),(i=Math.min(i,Math.max(u,c)))>=Math.max(0,n)&&n<e?n:-1},t.prototype.contains=function(e){return e instanceof r.e?this.left<=e.x&&this.top<=e.y&&this.bottom>=e.y&&this.right>=e.x:e instanceof t&&(this.left<e.left&&this.top<e.top&&e.bottom<this.bottom&&e.right<this.right)},t.prototype.combine=function(e){return new t(Math.min(this.left,e.left),Math.min(this.top,e.top),Math.max(this.right,e.right),Math.max(this.bottom,e.bottom))},t.prototype.collides=function(e){if(e instanceof t){var n=e,i=this.combine(n);if(i.getWidth()<n.getWidth()+this.getWidth()&&i.getHeight()<n.getHeight()+this.getHeight()){var o=0;o=this.right>=n.left&&this.right<=n.right?n.left-this.right:n.right-this.left;var s=0;return s=this.top<=n.bottom&&this.top>=n.top?n.bottom-this.top:n.top-this.bottom,Math.abs(o)<Math.abs(s)?new r.e(o,0):new r.e(0,s)}return null}return null},t.prototype.debugDraw=function(t,e){void 0===e&&(e=o.a.Yellow),t.strokeStyle=e.toString(),t.strokeRect(this.left,this.top,this.getWidth(),this.getHeight())},t}()},function(t,e,n){"use strict";e.a=function(t){return function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=t.apply(this,e)||this,r=e.filter(function(t){return void 0!==t}).length;return 1!==r||!e[0]||"object"!==typeof e[0]||e[0]instanceof Array||i.assign(e[0]),i}return r(e,t),e.prototype.assign=function(t){for(var e in t)"function"!==typeof this[e]&&(this[e]=t[e])},e}(t)};var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n(1),r=n(6),o=n(10),s=n(20),a=n(21),u=n(22),c=n(0),l=function(){function t(t){this._transformedPoints=[],this._axes=[],this._sides=[],this.pos=t.pos||c.e.Zero.clone();var e=!!t.clockwiseWinding;this.points=(e?t.points.reverse():t.points)||[],this.body=t.body||null,this._calculateTransformation()}return t.prototype.getCenter=function(){return this.body?this.body.pos.add(this.pos):this.pos},t.prototype._calculateTransformation=function(){var t=this.body?this.body.pos.add(this.pos):this.pos,e=this.body?this.body.rotation:0,n=this.points.length;this._transformedPoints.length=0;for(var i=0;i<n;i++)this._transformedPoints[i]=this.points[i].rotate(e).add(t)},t.prototype.getTransformedPoints=function(){return this._transformedPoints.length||this._calculateTransformation(),this._transformedPoints},t.prototype.getSides=function(){if(this._sides.length)return this._sides;for(var t=[],e=this.getTransformedPoints(),n=e.length,i=0;i<n;i++)t.push(new c.b(e[i],e[(i-1+n)%n]));return this._sides=t,this._sides},t.prototype.recalc=function(){this._sides.length=0,this._axes.length=0,this._transformedPoints.length=0,this.getTransformedPoints(),this.getAxes(),this.getSides()},t.prototype.contains=function(t){var e=new c.d(t,new c.e(1,0));return this.getSides().reduce(function(t,n){return e.intersect(n)>=0?t+1:t},0)%2!==0},t.prototype.collide=function(e){if(e instanceof u.a)return a.a.CollideCirclePolygon(e,this);if(e instanceof t)return a.a.CollidePolygonPolygon(this,e);if(e instanceof s.a)return a.a.CollidePolygonEdge(this,e);throw new Error("Polygon could not collide with unknown ICollisionArea "+typeof e)},t.prototype.getFurthestPoint=function(t){for(var e=this.getTransformedPoints(),n=null,i=-Number.MAX_VALUE,r=0;r<e.length;r++){var o=t.dot(e[r]);o>i&&(i=o,n=e[r])}return n},t.prototype.getClosestFace=function(t){for(var e=this.getSides(),n=Number.POSITIVE_INFINITY,i=-1,r=-1,o=0;o<e.length;o++){var s=e[o].distanceToPoint(t);s<n&&(n=s,i=o,r=s)}return-1!==i?{distance:e[i].normal().scale(r),face:e[i]}:null},t.prototype.getBounds=function(){var t=this.getTransformedPoints(),e=t.reduce(function(t,e){return Math.min(t,e.x)},999999999),n=t.reduce(function(t,e){return Math.max(t,e.x)},-99999999),i=t.reduce(function(t,e){return Math.min(t,e.y)},9999999999),r=t.reduce(function(t,e){return Math.max(t,e.y)},-9999999999);return new o.a(e,i,n,r)},t.prototype.getMomentOfInertia=function(){for(var t=this.body?this.body.mass:r.b.defaultMass,e=0,n=0,i=0;i<this.points.length;i++){var o=(i+1)%this.points.length,s=this.points[o].cross(this.points[i]);e+=s*(this.points[i].dot(this.points[i])+this.points[i].dot(this.points[o])+this.points[o].dot(this.points[o])),n+=s}return t/6*(e/n)},t.prototype.rayCast=function(t,e){void 0===e&&(e=1/0);for(var n=this.getSides(),i=n.length,r=Number.MAX_VALUE,o=-1,s=0;s<i;s++){var a=t.intersect(n[s]);a>=0&&a<r&&a<=e&&(r=a,o=s)}return o>=0?t.getPoint(r):null},t.prototype.getAxes=function(){if(this._axes.length)return this._axes;for(var t=[],e=this.getTransformedPoints(),n=e.length,i=0;i<n;i++)t.push(e[i].sub(e[(i+1)%n]).normal());return this._axes=t,this._axes},t.prototype.testSeparatingAxisTheorem=function(t){for(var e=t,n=this.getAxes().concat(e.getAxes()),i=Number.MAX_VALUE,r=null,o=-1,s=0;s<n.length;s++){var a=this.project(n[s]),u=e.project(n[s]),c=a.getOverlap(u);if(c<=0)return null;c<i&&(i=c,r=n[s],o=s)}return-1===o?null:r.normalize().scale(i)},t.prototype.project=function(t){for(var e=this.getTransformedPoints(),n=e.length,i=Number.MAX_VALUE,r=-Number.MAX_VALUE,o=0;o<n;o++){var s=e[o].dot(t);i=Math.min(i,s),r=Math.max(r,s)}return new c.c(i,r)},t.prototype.debugDraw=function(t,e){void 0===e&&(e=i.a.Red.clone()),t.beginPath(),t.strokeStyle=e.toString();var n=this.getTransformedPoints()[0];t.moveTo(n.x,n.y),this.getTransformedPoints().forEach(function(e){t.lineTo(e.x,e.y)}),t.lineTo(n.x,n.y),t.closePath(),t.stroke()},t}()},function(t,e,n){"use strict";n.d(e,"d",function(){return l});var i=n(31);n.d(e,"e",function(){return i.a});var r=n(5);n.d(e,"a",function(){return r.a}),n.d(e,"b",function(){return r.b});var o=n(0);n.d(e,"i",function(){return o.e});n(70),n(7),n(11),n(72),n(32),n(74),n(2),n(69);var s=n(40);n.d(e,"g",function(){return s.b});n(63),n(137),n(6),n(9),n(65),n(38),n(37);var a=n(41);n.d(e,"h",function(){return a.a});n(19),n(138),n(139);var u=n(141);n.d(e,"c",function(){return u.a});n(144),n(145),n(147),n(149);var c=n(73);n.d(e,"f",function(){return c});n(27),n(154),n(42),n(64),n(62),n(36),n(3),n(68);var l="0.17.0"},function(t,e,n){"use strict";n.d(e,"e",function(){return r}),n.d(e,"f",function(){return o}),n.d(e,"h",function(){return s}),n.d(e,"a",function(){return a}),n.d(e,"g",function(){return u}),n.d(e,"b",function(){return c}),n.d(e,"i",function(){return l}),n.d(e,"c",function(){return h}),n.d(e,"d",function(){return p});var i=n(1),r=function(){function t(){}return t.prototype.updatePixel=function(t,e,n){var i=4*(t+e*n.width),r=n.data,o=(r[i+0]+r[i+1]+r[i+2])/3;r[i+0]=o,r[i+1]=o,r[i+2]=o},t}(),o=function(){function t(){}return t.prototype.updatePixel=function(t,e,n){var i=4*(t+e*n.width),r=n.data;r[i+0]=255-r[i+0],r[i+1]=255-r[i+1],r[i+2]=255-r[i+2]},t}(),s=function(){function t(t){this.opacity=t}return t.prototype.updatePixel=function(t,e,n){var i=4*(t+e*n.width),r=n.data;0!==r[i+3]&&(r[i+3]=Math.round(this.opacity*r[i+3]))},t}(),a=function(){function t(t){this.color=t}return t.prototype.updatePixel=function(t,e,n){var i=4*(t+e*n.width),r=n.data;0!==r[i+3]&&(r[i+0]=(r[i+0]+this.color.r)/2,r[i+1]=(r[i+1]+this.color.g)/2,r[i+2]=(r[i+2]+this.color.b)/2)},t}(),u=function(){function t(t){void 0===t&&(t=.1),this.factor=t}return t.prototype.updatePixel=function(t,e,n){var r=4*(t+e*n.width),o=n.data,s=i.a.fromRGB(o[r+0],o[r+1],o[r+2],o[r+3]).lighten(this.factor);o[r+0]=s.r,o[r+1]=s.g,o[r+2]=s.b,o[r+3]=s.a},t}(),c=function(){function t(t){void 0===t&&(t=.1),this.factor=t}return t.prototype.updatePixel=function(t,e,n){var r=4*(t+e*n.width),o=n.data,s=i.a.fromRGB(o[r+0],o[r+1],o[r+2],o[r+3]).darken(this.factor);o[r+0]=s.r,o[r+1]=s.g,o[r+2]=s.b,o[r+3]=s.a},t}(),l=function(){function t(t){void 0===t&&(t=.1),this.factor=t}return t.prototype.updatePixel=function(t,e,n){var r=4*(t+e*n.width),o=n.data,s=i.a.fromRGB(o[r+0],o[r+1],o[r+2],o[r+3]).saturate(this.factor);o[r+0]=s.r,o[r+1]=s.g,o[r+2]=s.b,o[r+3]=s.a},t}(),h=function(){function t(t){void 0===t&&(t=.1),this.factor=t}return t.prototype.updatePixel=function(t,e,n){var r=4*(t+e*n.width),o=n.data,s=i.a.fromRGB(o[r+0],o[r+1],o[r+2],o[r+3]).desaturate(this.factor);o[r+0]=s.r,o[r+1]=s.g,o[r+2]=s.b,o[r+3]=s.a},t}(),p=function(){function t(t){this.color=t}return t.prototype.updatePixel=function(t,e,n){var i=4*(t+e*n.width),r=n.data;0!==r[i+3]&&(r[i+0]=this.color.r,r[i+1]=this.color.g,r[i+2]=this.color.b)},t}()},function(t,e,n){"use strict";e.a=function(t,e,n,r,o,s,a,u){void 0===e&&(e=i.a.Red.clone());void 0===a&&(a=1);void 0===u&&(u="butt");t.beginPath(),t.lineWidth=a,t.lineCap=u,t.strokeStyle=e.toString(),t.moveTo(n,r),t.lineTo(o,s),t.closePath(),t.stroke()},e.b=function(t,e,n){void 0===e&&(e=i.a.Red.clone());t.beginPath(),t.strokeStyle=e.toString(),t.arc(n.x,n.y,5,0,2*Math.PI),t.closePath(),t.stroke()},e.d=function(t,e,n,i,r){void 0===r&&(r=1);var o=e?e.toString():"blue",s=i.scale(r);t.beginPath(),t.strokeStyle=o,t.moveTo(n.x,n.y),t.lineTo(n.x+s.x,n.y+s.y),t.closePath(),t.stroke()},e.c=function(t,e,n,r,o,s,a,u){void 0===s&&(s=5);void 0===a&&(a=i.a.White);void 0===u&&(u=null);var c;if("number"===typeof s)c={tl:s,tr:s,br:s,bl:s};else{var l={tl:0,tr:0,br:0,bl:0};for(var h in l)if(l.hasOwnProperty(h)){var p=h;c[p]=s[p]||l[p]}}t.beginPath(),t.moveTo(e+c.tl,n),t.lineTo(e+r-c.tr,n),t.quadraticCurveTo(e+r,n,e+r,n+c.tr),t.lineTo(e+r,n+o-c.br),t.quadraticCurveTo(e+r,n+o,e+r-c.br,n+o),t.lineTo(e+c.bl,n+o),t.quadraticCurveTo(e,n+o,e,n+o-c.bl),t.lineTo(e,n+c.tl),t.quadraticCurveTo(e,n,e+c.tl,n),t.closePath(),u&&(t.fillStyle=u.toString(),t.fill());a&&(t.strokeStyle=a.toString(),t.stroke())};var i=n(1)},function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"c",function(){return s}),n.d(e,"b",function(){return a}),n.d(e,"d",function(){return u});var i=n(58),r=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},o="SELECT_DIALOG",s=function(t){return{type:o,path:t}},a={playerState:{timesTalked:0}},u=function(t,e){if(void 0===t&&(t=a),e.type!==o)return t;var n;if(null==(n=null!=t.currentConversation?t.currentConversation.choices[e.path]:Object(i.a)(e.path)))return r({},t,{currentConversation:void 0});var s=null==n.data.onVisit?t.playerState:n.data.onVisit(t.playerState),u=n.renderDialogNode(s);return r({},t,{currentConversation:u,playerState:s})}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(t){this.seed=t,this._lowerMask=2147483647,this._upperMask=2147483648,this._w=32,this._n=624,this._m=397,this._a=2567483615,this._u=11,this._s=7,this._b=2636928640,this._t=15,this._c=4022730752,this._l=18,this._f=1812433253,this._mt=new Array(this._n),this._mt[0]=(t||Date.now())>>>0;for(var e=1;e<this._n;e++){var n=this._mt[e-1]^this._mt[e-1]>>>this._w-2;this._mt[e]=(this._f*((4294901760&n)>>>16)<<16)+this._f*(65535&n)+e>>>0}this._index=this._n}return t.prototype._twist=function(){for(var t=[0,this._a],e=0,n=0;n<this._n-this._m;n++)e=this._mt[n]&this._upperMask|this._mt[n+1]&this._lowerMask,this._mt[n]=this._mt[n+this._m]^e>>>1^4294967295&t[1&e];for(;n<this._n-1;n++)e=this._mt[n]&this._upperMask|this._mt[n+1]&this._lowerMask,this._mt[n]=this._mt[n+(this._m-this._n)]^e>>>1^4294967295&t[1&e];e=this._mt[this._n-1]&this._upperMask|this._mt[0]&this._lowerMask,this._mt[this._n-1]=this._mt[this._m-1]^e>>>1^4294967295&t[1&e],this._index=0},t.prototype.nextInt=function(){this._index>=this._n&&this._twist();var t=this._mt[this._index++];return t^=t>>>this._u,t^=t<<this._s&this._b,t^=t<<this._t&this._c,(t^=t>>>this._l)>>>0},t.prototype.next=function(){return this.nextInt()*(1/4294967296)},t.prototype.floating=function(t,e){return(e-t)*this.next()+t},t.prototype.integer=function(t,e){return Math.floor((e-t+1)*this.next()+t)},t.prototype.bool=function(t){return void 0===t&&(t=.5),this.next()<=t},t.prototype.pickOne=function(t){return t[this.integer(0,t.length-1)]},t.prototype.pickSet=function(t,e,n){return void 0===n&&(n=!1),n?this._pickSetWithDuplicates(t,e):this._pickSetWithoutDuplicates(t,e)},t.prototype._pickSetWithoutDuplicates=function(t,e){if(e>t.length||e<0)throw new Error("Invalid number of elements to pick, must pick a value 0 < n <= length");if(e===t.length)return t;for(var n=new Array(e),i=0,r=t.slice(0);i<e;){var o=this.integer(0,r.length-1);n[i++]=r[o],r.splice(o,1)}return n},t.prototype._pickSetWithDuplicates=function(t,e){if(e<0)throw new Error("Invalid number of elements to pick, must pick a value 0 <= n < MAX_INT");for(var n=new Array(e),i=0;i<e;i++)n[i]=this.pickOne(t);return n},t.prototype.shuffle=function(t){for(var e=t.slice(0),n=null,i=0;i<e.length-2;i++){var r=this.integer(i,e.length-1);n=e[i],e[i]=e[r],e[r]=n}return e},t.prototype.range=function(t,e,n){for(var i=new Array(t),r=0;r<t;r++)i[r]=this.integer(e,n);return i},t.prototype.d4=function(){return this.integer(1,4)},t.prototype.d6=function(){return this.integer(1,6)},t.prototype.d8=function(){return this.integer(1,8)},t.prototype.d10=function(){return this.integer(1,10)},t.prototype.d12=function(){return this.integer(1,12)},t.prototype.d20=function(){return this.integer(1,20)},t}()},function(t,e,n){"use strict";var i;n.d(e,"a",function(){return i}),function(t){t[t.None=0]="None",t[t.Top=1]="Top",t[t.Bottom=2]="Bottom",t[t.Left=3]="Left",t[t.Right=4]="Right"}(i||(i={}))},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i,r=n(0),o=n(5),s=n(27),a=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(t){function e(e,n,i,r){var a=this;return(a=t.call(this,e,n,i,r)||this).traits=[],a.traits.push(new s.a),a.anchor.setTo(0,0),a.collisionType=o.b.PreventCollision,a.enableCapturePointer=!0,a}return a(e,t),e.prototype._initialize=function(e){this._engine=e,t.prototype._initialize.call(this,e)},e.prototype.contains=function(e,n,i){if(void 0===i&&(i=!0),i)return t.prototype.contains.call(this,e,n);var o=this._engine.worldToScreenCoordinates(new r.e(e,n));return t.prototype.contains.call(this,o.x,o.y)},e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n(10),r=n(21),o=n(22),s=n(12),a=n(0),u=n(6),c=n(1),l=function(){function t(t){this.begin=t.begin||a.e.Zero.clone(),this.end=t.end||a.e.Zero.clone(),this.body=t.body||null,this.pos=this.getCenter()}return t.prototype.getCenter=function(){return this.begin.average(this.end).add(this._getBodyPos())},t.prototype._getBodyPos=function(){var t=a.e.Zero.clone();return this.body.pos&&(t=this.body.pos),t},t.prototype._getTransformedBegin=function(){var t=this.body?this.body.rotation:0;return this.begin.rotate(t).add(this._getBodyPos())},t.prototype._getTransformedEnd=function(){var t=this.body?this.body.rotation:0;return this.end.rotate(t).add(this._getBodyPos())},t.prototype.getSlope=function(){var t=this._getTransformedBegin(),e=this._getTransformedEnd(),n=t.distance(e);return e.sub(t).scale(1/n)},t.prototype.getLength=function(){var t=this._getTransformedBegin(),e=this._getTransformedEnd();return t.distance(e)},t.prototype.contains=function(){return!1},t.prototype.rayCast=function(t,e){void 0===e&&(e=1/0);var n=this._getTransformedBegin().sub(t.pos);if(0===t.dir.cross(this.getSlope())&&0!==n.cross(t.dir))return null;var i=t.dir.cross(this.getSlope());if(0===i)return null;var r=n.cross(this.getSlope())/i;if(r>=0&&r<=e){var o=n.cross(t.dir)/i/this.getLength();if(o>=0&&o<=1)return t.getPoint(r)}return null},t.prototype.collide=function(e){if(e instanceof o.a)return r.a.CollideCircleEdge(e,this);if(e instanceof s.a)return r.a.CollidePolygonEdge(e,this);if(e instanceof t)return r.a.CollideEdgeEdge();throw new Error("Edge could not collide with unknown ICollisionArea "+typeof e)},t.prototype.getFurthestPoint=function(t){var e=this._getTransformedBegin(),n=this._getTransformedEnd();return t.dot(e)>0?e:n},t.prototype.getBounds=function(){var t=this._getTransformedBegin(),e=this._getTransformedEnd();return new i.a(Math.min(t.x,e.x),Math.min(t.y,e.y),Math.max(t.x,e.x),Math.max(t.y,e.y))},t.prototype.getAxes=function(){var t=this._getTransformedEnd().sub(this._getTransformedBegin()).normal(),e=[];return e.push(t),e.push(t.negate()),e.push(t.normal()),e.push(t.normal().negate()),e},t.prototype.getMomentOfInertia=function(){var t=this.body?this.body.mass:u.b.defaultMass,e=this.end.sub(this.begin).distance()/2;return t*e*e},t.prototype.recalc=function(){},t.prototype.project=function(t){for(var e=[],n=[this._getTransformedBegin(),this._getTransformedEnd()],i=n.length,r=0;r<i;r++)e.push(n[r].dot(t));return new a.c(Math.min.apply(Math,e),Math.max.apply(Math,e))},t.prototype.debugDraw=function(t,e){void 0===e&&(e=c.a.Red.clone()),t.strokeStyle=e.toString(),t.beginPath(),t.moveTo(this.begin.x,this.begin.y),t.lineTo(this.end.x,this.end.y),t.closePath(),t.stroke()},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(33),r=n(12),o={CollideCircleCircle:function(t,e){var n=t.radius+e.radius,r=t.body.pos.add(t.pos),o=e.body.pos.add(e.pos);if(r.distance(o)>n)return null;var s=o.sub(r).normalize(),a=s.scale(n-o.distance(r)),u=t.getFurthestPoint(s);return new i.a(t,e,a,u,s)},CollideCirclePolygon:function(t,e){var n=t.testSeparatingAxisTheorem(e);if(!n)return null;n=n.dot(e.getCenter().sub(t.getCenter()))<0?n.negate():n;var r=[],o=e.getFurthestPoint(n.negate()),s=t.getFurthestPoint(n);return t.contains(o)&&r.push(o),e.contains(s)&&r.push(s),0===r.length?null:new i.a(t,e,n,2===r.length?r[0].average(r[1]):r[0],n.normalize())},CollideCircleEdge:function(t,e){var n=t.getCenter(),r=e.end.sub(e.begin),o=r.dot(e.end.sub(n)),s=r.dot(n.sub(e.begin));if(s<=0){var a=e.begin.sub(n),u=a.dot(a);return u>t.radius*t.radius?null:new i.a(t,e,a.normalize().scale(t.radius-Math.sqrt(u)),e.begin,a.normalize())}if(o<=0){var c=e.end.sub(n),l=c.dot(c);return l>t.radius*t.radius?null:new i.a(t,e,c.normalize().scale(t.radius-Math.sqrt(l)),e.end,c.normalize())}var h=r.dot(r),p=e.begin.scale(o).add(e.end.scale(s)).scale(1/h),f=n.sub(p),d=f.dot(f);if(d>t.radius*t.radius)return null;var y=r.perpendicular();y.dot(n.sub(e.begin))<0&&(y.x=-y.x,y.y=-y.y);var g=(y=y.normalize()).scale(Math.abs(t.radius-Math.sqrt(d)));return new i.a(t,e,g.negate(),p,y.negate())},CollideEdgeEdge:function(){return null},CollidePolygonEdge:function(t,e){var n=e.end.sub(e.begin).normal();if(t.contains(e.begin)){var o=t.getClosestFace(e.begin),s=o.distance,a=o.face;if(s)return new i.a(t,e,s.negate(),e.begin.add(s.negate()),a.normal().negate())}if(t.contains(e.end)){var u=t.getClosestFace(e.end);s=u.distance,a=u.face;if(s)return new i.a(t,e,s.negate(),e.end.add(s.negate()),a.normal().negate())}var c=t.getCenter(),l=e.getCenter().sub(c).normalize(),h=new r.a({points:[e.begin,e.end,e.end.add(l.scale(30)),e.begin.add(l.scale(30))]}),p=t.testSeparatingAxisTheorem(h);return p?(n=n.dot(l)<0?n.negate():n,p=p.dot(l)<0?p.negate():p,new i.a(t,e,p,t.getFurthestPoint(n),n)):null},CollidePolygonPolygon:function(t,e){var n=t.testSeparatingAxisTheorem(e);if(!n)return null;n=n.dot(e.getCenter().sub(t.getCenter()))<0?n.negate():n;var r=[],o=t.getFurthestPoint(n),s=e.getFurthestPoint(n.negate());e.contains(o)&&r.push(o),t.contains(s)&&r.push(s),0===r.length&&r.push(s);var a=2===r.length?r[0].add(r[1]).scale(.5):r[0];return new i.a(t,e,n,a,n.normalize())}}},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n(10),r=n(12),o=n(20),s=n(21),a=n(0),u=n(6),c=n(1),l=function(){function t(t){this.pos=a.e.Zero.clone(),this.pos=t.pos||a.e.Zero.clone(),this.radius=t.radius||0,this.body=t.body||null}return t.prototype.getCenter=function(){return this.body?this.pos.add(this.body.pos):this.pos},t.prototype.contains=function(t){return this.body.pos.distance(t)<=this.radius},t.prototype.rayCast=function(t,e){void 0===e&&(e=1/0);var n=this.getCenter(),i=t.dir,r=t.pos,o=Math.sqrt(Math.pow(i.dot(r.sub(n)),2)-Math.pow(r.sub(n).distance(),2)+Math.pow(this.radius,2));if(o<0)return null;var s=0;if(0===o)return(s=-i.dot(r.sub(n)))>0&&s<e?t.getPoint(s):null;var a=-i.dot(r.sub(n))+o,u=-i.dot(r.sub(n))-o,c=Math.min(a,u);return c<=e?t.getPoint(c):null},t.prototype.collide=function(e){if(e instanceof t)return s.a.CollideCircleCircle(this,e);if(e instanceof r.a)return s.a.CollideCirclePolygon(this,e);if(e instanceof o.a)return s.a.CollideCircleEdge(this,e);throw new Error("Circle could not collide with unknown ICollisionArea "+typeof e)},t.prototype.getFurthestPoint=function(t){return this.getCenter().add(t.normalize().scale(this.radius))},t.prototype.getBounds=function(){return new i.a(this.pos.x+this.body.pos.x-this.radius,this.pos.y+this.body.pos.y-this.radius,this.pos.x+this.body.pos.x+this.radius,this.pos.y+this.body.pos.y+this.radius)},t.prototype.getAxes=function(){return null},t.prototype.getMomentOfInertia=function(){return(this.body?this.body.mass:u.b.defaultMass)*this.radius*this.radius/2},t.prototype.testSeparatingAxisTheorem=function(t){var e=t.getAxes(),n=t.getCenter(),i=t.getFurthestPoint(this.pos.sub(n));e.push(this.pos.sub(i).normalize());for(var r=Number.MAX_VALUE,o=null,s=-1,a=0;a<e.length;a++){var u=t.project(e[a]),c=this.project(e[a]),l=u.getOverlap(c);if(l<=0)return null;l<r&&(r=l,o=e[a],s=a)}return s<0?null:o.normalize().scale(r)},t.prototype.recalc=function(){},t.prototype.project=function(t){var e=[],n=this.getCenter().dot(t);return e.push(n),e.push(n+this.radius),e.push(n-this.radius),new a.c(Math.min.apply(Math,e),Math.max.apply(Math,e))},t.prototype.debugDraw=function(t,e){void 0===e&&(e=c.a.Green.clone());var n=this.body?this.body.pos.add(this.pos):this.pos,i=this.body?this.body.rotation:0;t.beginPath(),t.strokeStyle=e.toString(),t.arc(n.x,n.y,this.radius,0,2*Math.PI),t.closePath(),t.stroke(),t.beginPath(),t.moveTo(n.x,n.y),t.lineTo(Math.cos(i)*this.radius+n.x,Math.sin(i)*this.radius+n.y),t.closePath(),t.stroke()},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i,r=n(34),o=n(9),s=n(24),a=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(t){function e(e,n){void 0===n&&(n=!0);var i=t.call(this,e,"blob",n)||this;return i.path=e,i.bustCache=n,i.loaded=new o.a,i._isLoaded=!1,i._sprite=null,i._sprite=new s.a(i,0,0,0,0),i}return a(e,t),e.prototype.isLoaded=function(){return this._isLoaded},e.prototype.load=function(){var e=this,n=new o.a;return t.prototype.load.call(this).then(function(){e.image=new Image,e.image.addEventListener("load",function(){e._isLoaded=!0,e.width=e._sprite.width=e.image.naturalWidth,e.height=e._sprite.height=e.image.naturalHeight,e.loaded.resolve(e.image),n.resolve(e.image)}),e.image.src=t.prototype.getData.call(e)},function(){n.reject("Error loading texture.")}),n},e.prototype.asSprite=function(){return this._sprite},e}(r.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return f});var i,r=n(14),o=n(1),s=n(23),a=n(0),u=n(3),c=n(4),l=n(11),h=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),p=function(){function t(t,e,n,i,r){var o=this;this.x=0,this.y=0,this.rotation=0,this.anchor=new a.e(0,0),this.scale=new a.e(1,1),this.logger=u.b.getInstance(),this.flipVertical=!1,this.flipHorizontal=!1,this.effects=[],this.width=0,this.height=0,this._spriteCanvas=null,this._spriteCtx=null,this._pixelData=null,this._pixelsLoaded=!1,this._dirtyEffect=!1;var c=t;if(t&&!(t instanceof s.a)&&(e=t.x||t.x,n=t.y||t.y,i=t.drawWidth||t.width,r=t.drawHeight||t.height,!(c=t.image))){throw new Error("An image texture is required to contsruct a sprite")}this.x=e||0,this.y=n||0,this._texture=c,this._spriteCanvas=document.createElement("canvas"),this._spriteCanvas.width=i,this._spriteCanvas.height=r,this._spriteCtx=this._spriteCanvas.getContext("2d"),this._texture.loaded.then(function(){o._spriteCanvas.width=o._spriteCanvas.width||o._texture.image.naturalWidth,o._spriteCanvas.height=o._spriteCanvas.height||o._texture.image.naturalHeight,o._loadPixels(),o._dirtyEffect=!0}).error(function(t){o.logger.error("Error loading texture ",o._texture.path,t)}),this.width=i,this.height=r}return Object.defineProperty(t.prototype,"drawWidth",{get:function(){return this.width*this.scale.x},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"drawHeight",{get:function(){return this.height*this.scale.y},enumerable:!0,configurable:!0}),t.prototype._loadPixels=function(){if(this._texture.isLoaded()&&!this._pixelsLoaded){var t=this._texture.image.naturalWidth||0,e=this._texture.image.naturalHeight||0;this.width>t&&this.logger.warn("The sprite width "+this.width+" exceeds the width \n                              "+t+" of the backing texture "+this._texture.path),this.height>e&&this.logger.warn("The sprite height "+this.height+" exceeds the height \n                              "+e+" of the backing texture "+this._texture.path),this._spriteCtx.drawImage(this._texture.image,Object(c.d)(this.x,0,t),Object(c.d)(this.y,0,e),Object(c.d)(this.width,0,t),Object(c.d)(this.height,0,e),0,0,this.width,this.height),this._pixelsLoaded=!0}},t.prototype.opacity=function(t){this.addEffect(new r.h(t))},t.prototype.grayscale=function(){this.addEffect(new r.e)},t.prototype.invert=function(){this.addEffect(new r.f)},t.prototype.fill=function(t){this.addEffect(new r.d(t))},t.prototype.colorize=function(t){this.addEffect(new r.a(t))},t.prototype.lighten=function(t){void 0===t&&(t=.1),this.addEffect(new r.g(t))},t.prototype.darken=function(t){void 0===t&&(t=.1),this.addEffect(new r.b(t))},t.prototype.saturate=function(t){void 0===t&&(t=.1),this.addEffect(new r.i(t))},t.prototype.desaturate=function(t){void 0===t&&(t=.1),this.addEffect(new r.c(t))},t.prototype.addEffect=function(t){this.effects.push(t),this._texture.isLoaded()&&this._pixelsLoaded?this._applyEffects():this._dirtyEffect=!0},t.prototype.removeEffect=function(t){var e=-1;(e="number"===typeof t?t:this.effects.indexOf(t))<0||e>=this.effects.length||(this.effects.splice(e,1),this._texture.isLoaded()&&this._pixelsLoaded?this._applyEffects():this._dirtyEffect=!0)},t.prototype._applyEffects=function(){var t=this._texture.image.naturalWidth||0,e=this._texture.image.naturalHeight||0;this._spriteCtx.clearRect(0,0,this.width,this.height),this._spriteCtx.drawImage(this._texture.image,Object(c.d)(this.x,0,t),Object(c.d)(this.y,0,e),Object(c.d)(this.width,0,t),Object(c.d)(this.height,0,e),0,0,this.width,this.height),this._pixelData=this._spriteCtx.getImageData(0,0,this.width,this.height);for(var n=0,i=0,r=0,o=this.effects.length;n<o;n++)for(r=0;r<this.height;r++)for(i=0;i<this.width;i++)this.effects[n].updatePixel(i,r,this._pixelData);this._spriteCtx.clearRect(0,0,this.width,this.height),this._spriteCtx.putImageData(this._pixelData,0,0),this._dirtyEffect=!1},t.prototype.clearEffects=function(){this.effects.length=0,this._applyEffects()},t.prototype.reset=function(){},t.prototype.debugDraw=function(t,e,n){t.save(),t.translate(e,n),t.rotate(this.rotation);var i=this.drawWidth*this.anchor.x,r=this.drawHeight*this.anchor.y;t.strokeStyle=o.a.Black.toString(),t.strokeRect(-i,-r,this.drawWidth,this.drawHeight),t.restore()},t.prototype.draw=function(t,e,n){this._dirtyEffect&&this._applyEffects(),t.save();var i=this.drawWidth*this.anchor.x,r=this.drawHeight*this.anchor.y;t.translate(e,n),t.rotate(this.rotation),this.flipHorizontal&&(t.translate(this.drawWidth,0),t.scale(-1,1)),this.flipVertical&&(t.translate(0,this.drawHeight),t.scale(1,-1)),t.drawImage(this._spriteCanvas,0,0,this.width,this.height,-i,-r,this.drawWidth,this.drawHeight),t.restore()},t.prototype.clone=function(){var t=new f(this._texture,this.x,this.y,this.width,this.height);t.scale=this.scale.clone(),t.rotation=this.rotation,t.flipHorizontal=this.flipHorizontal,t.flipVertical=this.flipVertical;for(var e=0,n=this.effects.length;e<n;e++)t.addEffect(this.effects[e]);return t},t}(),f=function(t){function e(e,n,i,r,o){return t.call(this,e,n,i,r,o)||this}return h(e,t),e}(Object(l.a)(p))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"EaseTo",function(){return a}),n.d(e,"MoveTo",function(){return u}),n.d(e,"MoveBy",function(){return c}),n.d(e,"Follow",function(){return l}),n.d(e,"Meet",function(){return h}),n.d(e,"RotateTo",function(){return p}),n.d(e,"RotateBy",function(){return f}),n.d(e,"ScaleTo",function(){return d}),n.d(e,"ScaleBy",function(){return y}),n.d(e,"Delay",function(){return g}),n.d(e,"Blink",function(){return _}),n.d(e,"Fade",function(){return v}),n.d(e,"Die",function(){return m}),n.d(e,"CallMethod",function(){return b}),n.d(e,"Repeat",function(){return w}),n.d(e,"RepeatForever",function(){return x}),n.d(e,"ActionQueue",function(){return P});var i=n(60),r=n(0),o=n(3),s=n(4),a=function(){function t(t,e,n,i,o){this.actor=t,this.easingFcn=o,this._currentLerpTime=0,this._lerpDuration=1e3,this._lerpStart=new r.e(0,0),this._lerpEnd=new r.e(0,0),this._initialized=!1,this._stopped=!1,this._distance=0,this._lerpDuration=i,this._lerpEnd=new r.e(e,n)}return t.prototype._initialize=function(){this._lerpStart=new r.e(this.actor.pos.x,this.actor.pos.y),this._currentLerpTime=0,this._distance=this._lerpStart.distance(this._lerpEnd)},t.prototype.update=function(t){this._initialized||(this._initialize(),this._initialized=!0);var e=this.actor.pos.x,n=this.actor.pos.y;this._currentLerpTime<this._lerpDuration?(e=this._lerpEnd.x<this._lerpStart.x?this._lerpStart.x-(this.easingFcn(this._currentLerpTime,this._lerpEnd.x,this._lerpStart.x,this._lerpDuration)-this._lerpEnd.x):this.easingFcn(this._currentLerpTime,this._lerpStart.x,this._lerpEnd.x,this._lerpDuration),n=this._lerpEnd.y<this._lerpStart.y?this._lerpStart.y-(this.easingFcn(this._currentLerpTime,this._lerpEnd.y,this._lerpStart.y,this._lerpDuration)-this._lerpEnd.y):this.easingFcn(this._currentLerpTime,this._lerpStart.y,this._lerpEnd.y,this._lerpDuration),this.actor.pos.x=e,this.actor.pos.y=n,this._currentLerpTime+=t):(this.actor.pos.x=this._lerpEnd.x,this.actor.pos.y=this._lerpEnd.y)},t.prototype.isComplete=function(t){return this._stopped||new r.e(t.pos.x,t.pos.y).distance(this._lerpStart)>=this._distance},t.prototype.reset=function(){this._initialized=!1},t.prototype.stop=function(){this._stopped=!0},t}(),u=function(){function t(t,e,n,i){this._started=!1,this._stopped=!1,this._actor=t,this._end=new r.e(e,n),this._speed=i}return t.prototype.update=function(t){this._started||(this._started=!0,this._start=new r.e(this._actor.pos.x,this._actor.pos.y),this._distance=this._start.distance(this._end),this._dir=this._end.sub(this._start).normalize());var e=this._dir.scale(this._speed);this._actor.vel.x=e.x,this._actor.vel.y=e.y,this.isComplete(this._actor)&&(this._actor.pos.x=this._end.x,this._actor.pos.y=this._end.y,this._actor.vel.y=0,this._actor.vel.x=0)},t.prototype.isComplete=function(t){return this._stopped||new r.e(t.pos.x,t.pos.y).distance(this._start)>=this._distance},t.prototype.stop=function(){this._actor.vel.y=0,this._actor.vel.x=0,this._stopped=!0},t.prototype.reset=function(){this._started=!1},t}(),c=function(){function t(t,e,n,i){if(this._started=!1,this._stopped=!1,this._actor=t,this._end=new r.e(e,n),i<=0)throw o.b.getInstance().error("Attempted to moveBy time less than or equal to zero : "+i),new Error("Cannot move in time <= 0");this._time=i}return t.prototype.update=function(t){this._started||(this._started=!0,this._start=new r.e(this._actor.pos.x,this._actor.pos.y),this._distance=this._start.distance(this._end),this._dir=this._end.sub(this._start).normalize(),this._speed=this._distance/(this._time/1e3));var e=this._dir.scale(this._speed);this._actor.vel.x=e.x,this._actor.vel.y=e.y,this.isComplete(this._actor)&&(this._actor.pos.x=this._end.x,this._actor.pos.y=this._end.y,this._actor.vel.y=0,this._actor.vel.x=0)},t.prototype.isComplete=function(t){return this._stopped||new r.e(t.pos.x,t.pos.y).distance(this._start)>=this._distance},t.prototype.stop=function(){this._actor.vel.y=0,this._actor.vel.x=0,this._stopped=!0},t.prototype.reset=function(){this._started=!1},t}(),l=function(){function t(t,e,n){this._started=!1,this._stopped=!1,this._actor=t,this._actorToFollow=e,this._current=new r.e(this._actor.pos.x,this._actor.pos.y),this._end=new r.e(e.pos.x,e.pos.y),this._maximumDistance=void 0!==n?n:this._current.distance(this._end),this._speed=0}return t.prototype.update=function(t){this._started||(this._started=!0,this._distanceBetween=this._current.distance(this._end),this._dir=this._end.sub(this._current).normalize());var e=Math.sqrt(Math.pow(this._actorToFollow.vel.x,2)+Math.pow(this._actorToFollow.vel.y,2));if(0!==e&&(this._speed=e),this._current.x=this._actor.pos.x,this._current.y=this._actor.pos.y,this._end.x=this._actorToFollow.pos.x,this._end.y=this._actorToFollow.pos.y,this._distanceBetween=this._current.distance(this._end),this._dir=this._end.sub(this._current).normalize(),this._distanceBetween>=this._maximumDistance){var n=this._dir.scale(this._speed);this._actor.vel.x=n.x,this._actor.vel.y=n.y}else this._actor.vel.x=0,this._actor.vel.y=0;this.isComplete()&&(this._actor.pos.x=this._end.x,this._actor.pos.y=this._end.y,this._actor.vel.y=0,this._actor.vel.x=0)},t.prototype.stop=function(){this._actor.vel.y=0,this._actor.vel.x=0,this._stopped=!0},t.prototype.isComplete=function(){return this._stopped},t.prototype.reset=function(){this._started=!1},t}(),h=function(){function t(t,e,n){this._started=!1,this._stopped=!1,this._speedWasSpecified=!1,this._actor=t,this._actorToMeet=e,this._current=new r.e(this._actor.pos.x,this._actor.pos.y),this._end=new r.e(e.pos.x,e.pos.y),this._speed=n||0,void 0!==n&&(this._speedWasSpecified=!0)}return t.prototype.update=function(t){this._started||(this._started=!0,this._distanceBetween=this._current.distance(this._end),this._dir=this._end.sub(this._current).normalize());var e=Math.sqrt(Math.pow(this._actorToMeet.vel.x,2)+Math.pow(this._actorToMeet.vel.y,2));0===e||this._speedWasSpecified||(this._speed=e),this._current.x=this._actor.pos.x,this._current.y=this._actor.pos.y,this._end.x=this._actorToMeet.pos.x,this._end.y=this._actorToMeet.pos.y,this._distanceBetween=this._current.distance(this._end),this._dir=this._end.sub(this._current).normalize();var n=this._dir.scale(this._speed);this._actor.vel.x=n.x,this._actor.vel.y=n.y,this.isComplete()&&(this._actor.pos.x=this._end.x,this._actor.pos.y=this._end.y,this._actor.vel.y=0,this._actor.vel.x=0)},t.prototype.isComplete=function(){return this._stopped||this._distanceBetween<=1},t.prototype.stop=function(){this._actor.vel.y=0,this._actor.vel.x=0,this._stopped=!0},t.prototype.reset=function(){this._started=!1},t}(),p=function(){function t(t,e,n,r){this._started=!1,this._stopped=!1,this._actor=t,this._end=e,this._speed=n,this._rotationType=r||i.a.ShortestPath}return t.prototype.update=function(t){if(!this._started){this._started=!0,this._start=this._actor.rotation;var e=Math.abs(this._end-this._start),n=s.b-e;switch(e>n?(this._shortDistance=n,this._longDistance=e):(this._shortDistance=e,this._longDistance=n),this._shortestPathIsPositive=(this._start-this._end+s.b)%s.b>=Math.PI,this._rotationType){case i.a.ShortestPath:this._distance=this._shortDistance,this._shortestPathIsPositive?this._direction=1:this._direction=-1;break;case i.a.LongestPath:this._distance=this._longDistance,this._shortestPathIsPositive?this._direction=-1:this._direction=1;break;case i.a.Clockwise:this._direction=1,this._shortestPathIsPositive?this._distance=this._shortDistance:this._distance=this._longDistance;break;case i.a.CounterClockwise:this._direction=-1,this._shortestPathIsPositive?this._distance=this._longDistance:this._distance=this._shortDistance}}this._actor.rx=this._direction*this._speed,this.isComplete()&&(this._actor.rotation=this._end,this._actor.rx=0,this._stopped=!0)},t.prototype.isComplete=function(){var t=Math.abs(this._actor.rotation-this._start);return this._stopped||t>=Math.abs(this._distance)},t.prototype.stop=function(){this._actor.rx=0,this._stopped=!0},t.prototype.reset=function(){this._started=!1},t}(),f=function(){function t(t,e,n,r){this._started=!1,this._stopped=!1,this._actor=t,this._end=e,this._time=n,this._rotationType=r||i.a.ShortestPath}return t.prototype.update=function(t){if(!this._started){this._started=!0,this._start=this._actor.rotation;var e=Math.abs(this._end-this._start),n=s.b-e;switch(e>n?(this._shortDistance=n,this._longDistance=e):(this._shortDistance=e,this._longDistance=n),this._shortestPathIsPositive=(this._start-this._end+s.b)%s.b>=Math.PI,this._rotationType){case i.a.ShortestPath:this._distance=this._shortDistance,this._shortestPathIsPositive?this._direction=1:this._direction=-1;break;case i.a.LongestPath:this._distance=this._longDistance,this._shortestPathIsPositive?this._direction=-1:this._direction=1;break;case i.a.Clockwise:this._direction=1,this._shortDistance>=0?this._distance=this._shortDistance:this._distance=this._longDistance;break;case i.a.CounterClockwise:this._direction=-1,this._shortDistance<=0?this._distance=this._shortDistance:this._distance=this._longDistance}this._speed=Math.abs(this._distance/this._time*1e3)}this._actor.rx=this._direction*this._speed,this.isComplete()&&(this._actor.rotation=this._end,this._actor.rx=0,this._stopped=!0)},t.prototype.isComplete=function(){var t=Math.abs(this._actor.rotation-this._start);return this._stopped||t>=Math.abs(this._distance)},t.prototype.stop=function(){this._actor.rx=0,this._stopped=!0},t.prototype.reset=function(){this._started=!1},t}(),d=function(){function t(t,e,n,i,r){this._started=!1,this._stopped=!1,this._actor=t,this._endX=e,this._endY=n,this._speedX=i,this._speedY=r}return t.prototype.update=function(t){if(this._started||(this._started=!0,this._startX=this._actor.scale.x,this._startY=this._actor.scale.y,this._distanceX=Math.abs(this._endX-this._startX),this._distanceY=Math.abs(this._endY-this._startY)),Math.abs(this._actor.scale.x-this._startX)>=this._distanceX)this._actor.sx=0;else{var e=this._endY<this._startY?-1:1;this._actor.sx=this._speedX*e}if(Math.abs(this._actor.scale.y-this._startY)>=this._distanceY)this._actor.sy=0;else{var n=this._endY<this._startY?-1:1;this._actor.sy=this._speedY*n}this.isComplete()&&(this._actor.scale.x=this._endX,this._actor.scale.y=this._endY,this._actor.sx=0,this._actor.sy=0)},t.prototype.isComplete=function(){return this._stopped||Math.abs(this._actor.scale.y-this._startX)>=this._distanceX&&Math.abs(this._actor.scale.y-this._startY)>=this._distanceY},t.prototype.stop=function(){this._actor.sx=0,this._actor.sy=0,this._stopped=!0},t.prototype.reset=function(){this._started=!1},t}(),y=function(){function t(t,e,n,i){this._started=!1,this._stopped=!1,this._actor=t,this._endX=e,this._endY=n,this._speedX=(this._endX-this._actor.scale.x)/i*1e3,this._speedY=(this._endY-this._actor.scale.y)/i*1e3}return t.prototype.update=function(t){this._started||(this._started=!0,this._startX=this._actor.scale.x,this._startY=this._actor.scale.y,this._distanceX=Math.abs(this._endX-this._startX),this._distanceY=Math.abs(this._endY-this._startY));var e=this._endX<this._startX?-1:1,n=this._endY<this._startY?-1:1;this._actor.sx=this._speedX*e,this._actor.sy=this._speedY*n,this.isComplete()&&(this._actor.scale.x=this._endX,this._actor.scale.y=this._endY,this._actor.sx=0,this._actor.sy=0)},t.prototype.isComplete=function(){return this._stopped||Math.abs(this._actor.scale.x-this._startX)>=this._distanceX&&Math.abs(this._actor.scale.y-this._startY)>=this._distanceY},t.prototype.stop=function(){this._actor.sx=0,this._actor.sy=0,this._stopped=!0},t.prototype.reset=function(){this._started=!1},t}(),g=function(){function t(t,e){this._elapsedTime=0,this._started=!1,this._stopped=!1,this._actor=t,this._delay=e}return t.prototype.update=function(t){this._started||(this._started=!0),this.x=this._actor.pos.x,this.y=this._actor.pos.y,this._elapsedTime+=t},t.prototype.isComplete=function(){return this._stopped||this._elapsedTime>=this._delay},t.prototype.stop=function(){this._stopped=!0},t.prototype.reset=function(){this._elapsedTime=0,this._started=!1},t}(),_=function(){function t(t,e,n,i){void 0===i&&(i=1),this._timeVisible=0,this._timeNotVisible=0,this._elapsedTime=0,this._totalTime=0,this._stopped=!1,this._started=!1,this._actor=t,this._timeVisible=e,this._timeNotVisible=n,this._duration=(e+n)*i}return t.prototype.update=function(t){this._started||(this._started=!0),this._elapsedTime+=t,this._totalTime+=t,this._actor.visible&&this._elapsedTime>=this._timeVisible&&(this._actor.visible=!1,this._elapsedTime=0),!this._actor.visible&&this._elapsedTime>=this._timeNotVisible&&(this._actor.visible=!0,this._elapsedTime=0),this.isComplete()&&(this._actor.visible=!0)},t.prototype.isComplete=function(){return this._stopped||this._totalTime>=this._duration},t.prototype.stop=function(){this._actor.visible=!0,this._stopped=!0},t.prototype.reset=function(){this._started=!1,this._elapsedTime=0,this._totalTime=0},t}(),v=function(){function t(t,e,n){this._multiplier=1,this._started=!1,this._stopped=!1,this._actor=t,this._endOpacity=e,this._speed=n}return t.prototype.update=function(t){this._started||(this._started=!0,this._endOpacity<this._actor.opacity?this._multiplier=-1:this._multiplier=1),this._speed>0&&(this._actor.opacity+=this._multiplier*(Math.abs(this._actor.opacity-this._endOpacity)*t)/this._speed),this._speed-=t,this.isComplete()&&(this._actor.opacity=this._endOpacity),o.b.getInstance().debug("[Action fade] Actor opacity:",this._actor.opacity)},t.prototype.isComplete=function(){return this._stopped||Math.abs(this._actor.opacity-this._endOpacity)<.05},t.prototype.stop=function(){this._stopped=!0},t.prototype.reset=function(){this._started=!1},t}(),m=function(){function t(t){this._stopped=!1,this._actor=t}return t.prototype.update=function(t){this._actor.actionQueue.clearActions(),this._actor.kill(),this._stopped=!0},t.prototype.isComplete=function(){return this._stopped},t.prototype.stop=function(){},t.prototype.reset=function(){},t}(),b=function(){function t(t,e){this._method=null,this._actor=null,this._hasBeenCalled=!1,this._actor=t,this._method=e}return t.prototype.update=function(t){this._method.call(this._actor),this._hasBeenCalled=!0},t.prototype.isComplete=function(){return this._hasBeenCalled},t.prototype.reset=function(){this._hasBeenCalled=!1},t.prototype.stop=function(){this._hasBeenCalled=!0},t}(),w=function(){function t(t,e,n){this._stopped=!1,this._actor=t,this._actionQueue=new P(t),this._repeat=e,this._originalRepeat=e;for(var i=0,r=n.length;i<r;i++)n[i].reset(),this._actionQueue.add(n[i])}return t.prototype.update=function(t){this.x=this._actor.pos.x,this.y=this._actor.pos.y,this._actionQueue.hasNext()||(this._actionQueue.reset(),this._repeat--),this._actionQueue.update(t)},t.prototype.isComplete=function(){return this._stopped||this._repeat<=0},t.prototype.stop=function(){this._stopped=!0},t.prototype.reset=function(){this._repeat=this._originalRepeat},t}(),x=function(){function t(t,e){this._stopped=!1,this._actor=t,this._actionQueue=new P(t);for(var n=0,i=e.length;n<i;n++)e[n].reset(),this._actionQueue.add(e[n])}return t.prototype.update=function(t){this.x=this._actor.pos.x,this.y=this._actor.pos.y,this._stopped||(this._actionQueue.hasNext()||this._actionQueue.reset(),this._actionQueue.update(t))},t.prototype.isComplete=function(){return this._stopped},t.prototype.stop=function(){this._stopped=!0,this._actionQueue.clearActions()},t.prototype.reset=function(){},t}(),P=function(){function t(t){this._actions=[],this._completedActions=[],this._actor=t}return t.prototype.add=function(t){this._actions.push(t)},t.prototype.remove=function(t){var e=this._actions.indexOf(t);this._actions.splice(e,1)},t.prototype.clearActions=function(){this._actions.length=0,this._completedActions.length=0,this._currentAction&&this._currentAction.stop()},t.prototype.getActions=function(){return this._actions.concat(this._completedActions)},t.prototype.hasNext=function(){return this._actions.length>0},t.prototype.reset=function(){this._actions=this.getActions();for(var t=0,e=this._actions.length;t<e;t++)this._actions[t].reset();this._completedActions=[]},t.prototype.update=function(t){this._actions.length>0&&(this._currentAction=this._actions[0],this._currentAction.update(t),this._currentAction.isComplete(this._actor)&&this._completedActions.push(this._actions.shift()))},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(6),r=n(1),o=n(5),s=n(15),a=function(){function t(e,n){this.bodyA=e,this.bodyB=n,this.id=null,this.collision=null,this.id=t.calculatePairHash(e,n)}return Object.defineProperty(t.prototype,"canCollide",{get:function(){var t=this.bodyA.actor,e=this.bodyB.actor;return(t.collisionType!==o.b.Fixed||e.collisionType!==o.b.Fixed)&&(e.collisionType!==o.b.PreventCollision&&!e.isKilled())},enumerable:!0,configurable:!0}),t.prototype.collide=function(){this.collision=this.bodyA.collisionArea.collide(this.bodyB.collisionArea)},t.prototype.resolve=function(t){this.collision&&this.collision.resolve(t)},t.calculatePairHash=function(t,e){return t.actor.id<e.actor.id?"#"+t.actor.id+"+"+e.actor.id:"#"+e.actor.id+"+"+t.actor.id},t.prototype.debugDraw=function(t){this.collision&&(i.b.showContacts&&s.b(t,r.a.Red,this.collision.point),i.b.showCollisionNormals&&s.d(t,r.a.Cyan,this.collision.point,this.collision.normal,30))},t}()},function(t,e,n){"use strict";var i=n(129);n.d(e,"a",function(){return i.a});n(130);var r=n(131);n.d(e,"b",function(){return r.a});var o=n(132);n.d(e,"c",function(){return o.a})},function(t,e,n){"use strict";e.a=function(t){"undefined"!==typeof console&&"function"===typeof console.error&&console.error(t);try{throw new Error(t)}catch(t){}}},function(t,e,n){"use strict";var i=n(16),r=n(59),o=n(52),s=Object(o.b)({gameState:i.d,uiState:r.a}),a=Object(o.c)(s,{gameState:i.b,uiState:r.b},window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());e.a=a},function(t,e,n){"use strict";n.d(e,"a",function(){return c}),e.b=function(){new(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shouldEnter=function(t){return 0==t.timesTalked},e.shouldExit=function(t){return t.timesTalked>4},e.dispatchActionCreator=function(){return{type:o.a,path:"root://testing.counter"}},e}return a(e,t),e}(s.a))(200,0).add(u),u.add(c),u.add(new r.g("(WASD to walk) Walk up to the blue square and press E",100,-100,"20px Arial")),u.currentScene.camera.strategy.elasticToActor(c,1,.1),u.start()};var i,r=n(13),o=n(16),s=n(155),a=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=new r.e,c=new s.b},function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return E});var i,r,o,s=n(13),a=n(9),u=n(0),c=n(19),l=n(5),h=n(37),p=n(38),f=n(63),d=n(64),y=n(2),g=n(3),_=n(1),v=n(65),m=n(72),b=n(7),w=n(73),x=n(4),P=n(10),S=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});!function(t){t[t.FullScreen=0]="FullScreen",t[t.Container=1]="Container",t[t.Fixed=2]="Fixed",t[t.Position=3]="Position"}(r||(r={})),function(t){t[t.None=0]="None",t[t.Canvas=1]="Canvas",t[t.All=2]="All"}(o||(o={}));var E=function(t){function e(n){var i=t.call(this)||this;i._hasStarted=!1,i.debug=new m.a,i.postProcessors=[],i.scenes={},i._animations=[],i.isFullscreen=!1,i.displayMode=r.FullScreen,i._suppressHiDPIScaling=!1,i.pauseAudioWhenHidden=!0,i.isDebug=!1,i.debugColor=new _.a(255,255,255),i.onFatalException=function(t){g.b.getInstance().fatal(t)},i._isSmoothingEnabled=!0,i._timescale=1,i._isLoading=!1,i._isInitialized=!1,n=x.f({},e._DefaultEngineOptions,n);var o=new d.a;if(!n.suppressMinimumBrowserFeatureDetection&&!(i._compatible=o.test())){var a=document.createElement("div");if(a.innerText="Sorry, your browser does not support all the features needed for Excalibur",document.body.appendChild(a),o.failedTests.forEach(function(t){var e=document.createElement("div");e.innerText="Browser feature missing "+t,document.body.appendChild(e)}),n.canvasElementId){var u=document.getElementById(n.canvasElementId);u&&u.parentElement.removeChild(u)}return i}return i._compatible=!0,console.log&&!n.suppressConsoleBootMessage&&(console.log("%cPowered by Excalibur.js (v"+s.d+")","background: #176BAA; color: white; border-radius: 5px; padding: 15px; font-size: 1.5em; line-height: 80px;"),console.log("\n      /| ________________\nO|===|* >________________>\n      \\|"),console.log("Visit","http://excaliburjs.com","for more information")),i._logger=g.b.getInstance(),i._logger.defaultLevel===g.a.Debug&&o.logBrowserFeatures(),i._logger.debug("Building engine..."),i.canvasElementId=n.canvasElementId,n.canvasElementId?(i._logger.debug("Using Canvas element specified: "+n.canvasElementId),i.canvas=document.getElementById(n.canvasElementId)):(i._logger.debug("Using generated canvas element"),i.canvas=document.createElement("canvas")),n.width&&n.height?(void 0===n.displayMode&&(i.displayMode=r.Fixed),i._logger.debug("Engine viewport is size "+n.width+" x "+n.height),i.canvas.width=n.width,i.canvas.height=n.height):n.displayMode||(i._logger.debug("Engine viewport is fullscreen"),i.displayMode=r.FullScreen),n.backgroundColor&&(i.backgroundColor=n.backgroundColor.clone()),i._loader=new f.a,i._initialize(n),i.rootScene=i.currentScene=new v.a(i),i.addScene("root",i.rootScene),i.goToScene("root"),i}return S(e,t),Object.defineProperty(e.prototype,"canvasWidth",{get:function(){return this.canvas.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"halfCanvasWidth",{get:function(){return this.canvas.width/2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canvasHeight",{get:function(){return this.canvas.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"halfCanvasHeight",{get:function(){return this.canvas.height/2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"drawWidth",{get:function(){return this.currentScene&&this.currentScene.camera?this.canvasWidth/this.currentScene.camera.getZoom()/this.pixelRatio:this.canvasWidth/this.pixelRatio},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"halfDrawWidth",{get:function(){return this.drawWidth/2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"drawHeight",{get:function(){return this.currentScene&&this.currentScene.camera?this.canvasHeight/this.currentScene.camera.getZoom()/this.pixelRatio:this.canvasHeight/this.pixelRatio},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"halfDrawHeight",{get:function(){return this.drawHeight/2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isHiDpi",{get:function(){return 1!==this.pixelRatio},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stats",{get:function(){return this.debug.stats},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pixelRatio",{get:function(){return this._suppressHiDPIScaling?1:window.devicePixelRatio<1?1:window.devicePixelRatio||1},enumerable:!0,configurable:!0}),e.prototype.on=function(e,n){t.prototype.on.call(this,e,n)},e.prototype.once=function(e,n){t.prototype.once.call(this,e,n)},e.prototype.off=function(e,n){t.prototype.off.call(this,e,n)},e.prototype.getWorldBounds=function(){var t=this.screenToWorldCoordinates(u.e.Zero).x,e=this.screenToWorldCoordinates(u.e.Zero).y,n=t+this.drawWidth,i=e+this.drawHeight;return new P.a(t,e,n,i)},Object.defineProperty(e.prototype,"timescale",{get:function(){return this._timescale},set:function(t){t<=0?g.b.getInstance().error("Cannot set engine.timescale to a value of 0 or less than 0."):this._timescale=t},enumerable:!0,configurable:!0}),e.prototype.playAnimation=function(t,e,n){this._animations.push(new T(t,e,n))},e.prototype.addTileMap=function(t){this.currentScene.addTileMap(t)},e.prototype.removeTileMap=function(t){this.currentScene.removeTileMap(t)},e.prototype.addTimer=function(t){return this.currentScene.addTimer(t)},e.prototype.removeTimer=function(t){return this.currentScene.removeTimer(t)},e.prototype.addScene=function(t,e){this.scenes[t]&&this._logger.warn("Scene",t,"already exists overwriting"),this.scenes[t]=e,e.engine=this},e.prototype.removeScene=function(t){if(t instanceof v.a)for(var e in this.scenes)this.scenes.hasOwnProperty(e)&&this.scenes[e]===t&&delete this.scenes[e];"string"===typeof t&&delete this.scenes[t]},e.prototype.add=function(t){t instanceof c.a?this.currentScene.addUIActor(t):(t instanceof l.a&&this._addChild(t),t instanceof h.a&&this.addTimer(t),t instanceof p.a&&this.addTileMap(t),2===arguments.length&&this.addScene(arguments[0],arguments[1]))},e.prototype.remove=function(t){t instanceof c.a?this.currentScene.removeUIActor(t):(t instanceof l.a&&this._removeChild(t),t instanceof h.a&&this.removeTimer(t),t instanceof p.a&&this.removeTileMap(t),t instanceof v.a&&this.removeScene(t),"string"===typeof t&&this.removeScene(t))},e.prototype._addChild=function(t){this.currentScene.add(t)},e.prototype._removeChild=function(t){this.currentScene.remove(t)},e.prototype.goToScene=function(t){if(this.scenes[t]){var e=this.currentScene,n=this.scenes[t];this._logger.debug("Going to scene:",t),this.currentScene.isInitialized&&(this.currentScene._deactivate.call(this.currentScene,[e,n]),this.currentScene.eventDispatcher.emit("deactivate",new y.d(n,this.currentScene))),this.currentScene=n,this.currentScene._initialize(this),this.currentScene._activate.call(this.currentScene,[e,n]),this.currentScene.eventDispatcher.emit("activate",new y.a(e,this.currentScene))}else this._logger.error("Scene",t,"does not exist!")},e.prototype.screenToWorldCoordinates=function(t){var e=t.x,n=t.y;if(e=e/this.canvas.clientWidth*this.drawWidth,n=n/this.canvas.clientHeight*this.drawHeight,e-=this.halfDrawWidth,n-=this.halfDrawHeight,this.currentScene&&this.currentScene.camera){var i=this.currentScene.camera.getFocus();e+=i.x,n+=i.y}return new u.e(Math.floor(e),Math.floor(n))},e.prototype.worldToScreenCoordinates=function(t){var e=t.x,n=t.y;if(this.currentScene&&this.currentScene.camera){var i=this.currentScene.camera.getFocus();e-=i.x,n-=i.y}return e+=this.halfDrawWidth,n+=this.halfDrawHeight,e=e*this.canvas.clientWidth/this.drawWidth,n=n*this.canvas.clientHeight/this.drawHeight,new u.e(Math.floor(e),Math.floor(n))},e.prototype._setHeightByDisplayMode=function(t){this.displayMode===r.Container&&(this.canvas.width=t.clientWidth,this.canvas.height=t.clientHeight),this.displayMode===r.FullScreen&&(document.body.style.margin="0px",document.body.style.overflow="hidden",this.canvas.width=t.innerWidth,this.canvas.height=t.innerHeight)},e.prototype._initialize=function(t){var e,n,i=this;if(t.displayMode&&(this.displayMode=t.displayMode),this.displayMode===r.FullScreen||this.displayMode===r.Container){var o=this.displayMode===r.Container?this.canvas.parentElement||document.body:window;this._setHeightByDisplayMode(o),window.addEventListener("resize",function(){i._logger.debug("View port resized"),i._setHeightByDisplayMode(o),i._logger.info("parent.clientHeight "+o.clientHeight),i.setAntialiasing(i._isSmoothingEnabled)})}else this.displayMode===r.Position&&this._intializeDisplayModePosition(t);this.input={keyboard:new w.Keyboard,pointers:new w.Pointers(this),gamepads:new w.Gamepads},this.input.keyboard.init(),this.input.pointers.init(t&&t.pointerScope===w.PointerScope.Document?document:this.canvas),this.input.gamepads.init(),this.pageScrollPreventionMode=t.scrollPreventionMode,"undefined"!==typeof document.hidden?(e="hidden",n="visibilitychange"):"msHidden"in document?(e="msHidden",n="msvisibilitychange"):"webkitHidden"in document&&(e="webkitHidden",n="webkitvisibilitychange"),document.addEventListener(n,function(){document[e]?(i.eventDispatcher.emit("hidden",new y.p(i)),i._logger.debug("Window hidden")):(i.eventDispatcher.emit("visible",new y.G(i)),i._logger.debug("Window visible"))}),this.ctx=this.canvas.getContext("2d"),this._suppressHiDPIScaling=!!t.suppressHiDPIScaling,t.suppressHiDPIScaling||this._initializeHiDpi(),this.canvasElementId||document.body.appendChild(this.canvas)},e.prototype.onInitialize=function(t){},e.prototype._intializeDisplayModePosition=function(t){if(!t.position)throw new Error("DisplayMode of Position was selected but no position option was given");if(this.canvas.style.display="block",this.canvas.style.position="absolute","string"===typeof t.position){var e=t.position.split(" ");switch(e[0]){case"top":this.canvas.style.top="0px";break;case"bottom":this.canvas.style.bottom="0px";break;case"middle":this.canvas.style.top="50%";var n=-this.halfDrawHeight;this.canvas.style.marginTop=n.toString();break;default:throw new Error("Invalid Position Given")}if(e[1])switch(e[1]){case"left":this.canvas.style.left="0px";break;case"right":this.canvas.style.right="0px";break;case"center":this.canvas.style.left="50%";var i=-this.halfDrawWidth;this.canvas.style.marginLeft=i.toString();break;default:throw new Error("Invalid Position Given")}}else t.position.top&&("number"===typeof t.position.top?this.canvas.style.top=t.position.top.toString()+"px":this.canvas.style.top=t.position.top),t.position.right&&("number"===typeof t.position.right?this.canvas.style.right=t.position.right.toString()+"px":this.canvas.style.right=t.position.right),t.position.bottom&&("number"===typeof t.position.bottom?this.canvas.style.bottom=t.position.bottom.toString()+"px":this.canvas.style.bottom=t.position.bottom),t.position.left&&("number"===typeof t.position.left?this.canvas.style.left=t.position.left.toString()+"px":this.canvas.style.left=t.position.left)},e.prototype._initializeHiDpi=function(){if(this.isHiDpi){var t=this.canvas.width,e=this.canvas.height;this.canvas.width=t*this.pixelRatio,this.canvas.height=e*this.pixelRatio,this.canvas.style.width=t+"px",this.canvas.style.height=e+"px",this._logger.warn("Hi DPI screen detected, resetting canvas resolution from \n                           "+t+"x"+e+" to "+this.canvas.width+"x"+this.canvas.height+" \n                           css size will remain "+t+"x"+e),this.ctx.scale(this.pixelRatio,this.pixelRatio),this._logger.warn("Canvas drawing context was scaled by "+this.pixelRatio)}},e.prototype.setAntialiasing=function(t){this._isSmoothingEnabled=t;var e=this.ctx;e.imageSmoothingEnabled=t;for(var n=0,i=["webkitImageSmoothingEnabled","mozImageSmoothingEnabled","msImageSmoothingEnabled"];n<i.length;n++){var r=i[n];r in e&&(e[r]=t)}},e.prototype.getAntialiasing=function(){return this.ctx.imageSmoothingEnabled||this.ctx.webkitImageSmoothingEnabled||this.ctx.mozImageSmoothingEnabled||this.ctx.msImageSmoothingEnabled},Object.defineProperty(e.prototype,"isInitialized",{get:function(){return this._isInitialized},enumerable:!0,configurable:!0}),e.prototype._overrideInitialize=function(e){this.isInitialized||(this.onInitialize(e),t.prototype.emit.call(this,"initialize",new y.q(e,this)),this._isInitialized=!0)},e.prototype._update=function(t){if(this._isLoading)return this._loader.update(this,t),this.input.keyboard.update(),this.input.pointers.update(),void this.input.gamepads.update();this._overrideInitialize(this),this._preupdate(t),this.currentScene.update(this,t),this._animations=this._animations.filter(function(t){return!t.animation.isDone()}),this.input.keyboard.update(),this.input.pointers.update(),this.input.gamepads.update(),this._postupdate(t)},e.prototype._preupdate=function(t){this.emit("preupdate",new y.D(this,t,this)),this.onPreUpdate(this,t)},e.prototype.onPreUpdate=function(t,e){},e.prototype._postupdate=function(t){this.emit("postupdate",new y.x(this,t,this)),this.onPostUpdate(this,t)},e.prototype.onPostUpdate=function(t,e){},e.prototype._draw=function(t){var e=this.ctx;if(this._predraw(e,t),this._isLoading)this._loader.draw(e,t);else{e.clearRect(0,0,this.canvasWidth,this.canvasHeight),e.fillStyle=this.backgroundColor.toString(),e.fillRect(0,0,this.canvasWidth,this.canvasHeight),this.currentScene.draw(this.ctx,t);for(var n=0,i=this._animations.length;n<i;n++)this._animations[n].animation.draw(e,this._animations[n].x,this._animations[n].y);if(this.isDebug){this.ctx.font="Consolas",this.ctx.fillStyle=this.debugColor.toString();for(var r=this.input.keyboard.getKeys(),o=0;o<r.length;o++)this.ctx.fillText(r[o].toString()+" : "+(w.Keys[r[o]]?w.Keys[r[o]]:"Not Mapped"),100,10*o+10);this.ctx.fillText("FPS:"+this.stats.currFrame.fps.toFixed(2).toString(),10,10)}for(var s=0;s<this.postProcessors.length;s++)this.postProcessors[s].process(this.ctx.getImageData(0,0,this.canvasWidth,this.canvasHeight),this.ctx);this._postdraw(e,t)}},e.prototype._predraw=function(t,e){this.emit("predraw",new y.A(t,e,this)),this.onPreDraw(t,e)},e.prototype.onPreDraw=function(t,e){},e.prototype._postdraw=function(t,e){this.emit("postdraw",new y.u(t,e,this)),this.onPostDraw(t,e)},e.prototype.onPostDraw=function(t,e){},e.prototype.start=function(t){var n,i=this;return this._compatible?(t?(this._loader=t,this._loader.wireEngine(this),n=this.load(this._loader)):n=a.a.resolve(),n.then(function(){i.emit("start",new y.j(i))}),this._hasStarted||(this._hasStarted=!0,this._logger.debug("Starting game..."),e.createMainLoop(this,window.requestAnimationFrame,Date.now)(),this._logger.debug("Game started")),n):(new a.a).reject("Excalibur is incompatible with your browser")},e.createMainLoop=function(t,e,n){var i=n();return function r(){if(t._hasStarted)try{t._requestId=e(r),t.emit("preframe",new y.B(t,t.stats.prevFrame));var o=n(),s=Math.floor(o-i)||1;s>200&&(s=1);var a=s*t.timescale,u=t.stats.prevFrame.id+1;t.stats.prevFrame.reset(t.stats.currFrame),t.stats.currFrame.reset(),t.stats.currFrame.id=u,t.stats.currFrame.delta=a,t.stats.currFrame.fps=1/(a/1e3);var c=n();t._update(a);var l=n();t._draw(a);var h=n();t.stats.currFrame.duration.update=l-c,t.stats.currFrame.duration.draw=h-l,i=o,t.emit("postframe",new y.v(t,t.stats.currFrame))}catch(e){window.cancelAnimationFrame(t._requestId),t.stop(),t.onFatalException(e)}}},e.prototype.stop=function(){this._hasStarted&&(this.emit("stop",new y.k(this)),this._hasStarted=!1,this._logger.debug("Game stopped"))},e.prototype.isPaused=function(){return!this._hasStarted},e.prototype.screenshot=function(){var t=new Image,e=this.canvas.toDataURL("image/png");return t.src=e,t},e.prototype.load=function(t){var e=this,n=new a.a;return this._isLoading=!0,t.load().then(function(){setTimeout(function(){e._isLoading=!1,n.resolve()},500)}),n},e._DefaultEngineOptions={width:0,height:0,canvasElementId:"",pointerScope:w.PointerScope.Document,suppressConsoleBootMessage:null,suppressMinimumBrowserFeatureDetection:null,suppressHiDPIScaling:null,scrollPreventionMode:o.Canvas,backgroundColor:_.a.fromHex("#2185d0")},e}(b.a),T=function(){return function(t,e,n){this.animation=t,this.x=e,this.y=n}}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(2),r=function(){function t(t){this._handlers={},this._wiredEventDispatchers=[],this._target=t}return t.prototype.emit=function(t,e){if(t){t=t.toLowerCase();var n,r,o=this._target;if(e||(e=new i.i),e.target=o,this._handlers[t])for(n=0,r=this._handlers[t].length;n<r;n++)this._handlers[t][n].call(o,e);for(n=0,r=this._wiredEventDispatchers.length;n<r;n++)this._wiredEventDispatchers[n].emit(t,e)}},t.prototype.on=function(t,e){t=t.toLowerCase(),this._handlers[t]||(this._handlers[t]=[]),this._handlers[t].push(e),"unsubscribe"!==t&&"subscribe"!==t&&this.emit("subscribe",new i.E(t,e))},t.prototype.off=function(t,e){t=t.toLowerCase();var n=this._handlers[t];if(n)if(e){var r=n.indexOf(e);this._handlers[t].splice(r,1)}else this._handlers[t].length=0;"unsubscribe"!==t&&"subscribe"!==t&&this.emit("unsubscribe",new i.F(t,e))},t.prototype.once=function(t,e){var n=this;this.on(t,function(r){var o=r||new i.i;o.target=o.target||n._target,n.off(t,e),e.call(o.target,o)})},t.prototype.wire=function(t){t._wiredEventDispatchers.push(this)},t.prototype.unwire=function(t){var e=t._wiredEventDispatchers.indexOf(this);e>-1&&t._wiredEventDispatchers.splice(e,1)},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n(5),r=n(0),o=n(6),s=n(2),a=n(4),u=function(){function t(t,e,n,i,r){this.bodyA=t,this.bodyB=e,this.mtv=n,this.point=i,this.normal=r}return t.prototype.resolve=function(t){if(t===o.a.RigidBody)this._resolveRigidBodyCollision();else{if(t!==o.a.Box)throw new Error("Unknown collision resolution strategy");this._resolveBoxCollision()}},t.prototype._applyBoxImpulse=function(t,e,n){if(t.collisionType===i.b.Active&&e.collisionType!==i.b.Passive){if(t.collisionType===i.b.Active&&e.collisionType===i.b.Active&&(n=n.scale(.5)),t.pos.y+=n.y,t.pos.x+=n.x,0!==this.mtv.x){var r=0;t.vel.x<0&&e.vel.x<0?r=Math.min(t.vel.x,e.vel.x):t.vel.x>0&&e.vel.x>0?r=Math.max(t.vel.x,e.vel.x):e.collisionType===i.b.Fixed&&(r=t.pos.sub(e.pos).dot(t.vel)>0?t.vel.x:e.vel.x),t.vel.x=r}if(0!==this.mtv.y){var o=0;t.vel.y<0&&e.vel.y<0?o=Math.min(t.vel.y,e.vel.y):t.vel.y>0&&e.vel.y>0?o=Math.max(t.vel.y,e.vel.y):e.collisionType===i.b.Fixed&&(o=t.pos.sub(e.pos).dot(t.vel)>0?t.vel.y:e.vel.y),t.vel.y=o}t.emit("postcollision",new s.s(t,e,a.i(n),n))}},t.prototype._resolveBoxCollision=function(){var t=this.bodyA.body.actor,e=this.bodyB.body.actor,n=a.i(this.mtv),i=this.mtv.negate();t.emit("precollision",new s.y(t,e,n,i)),e.emit("precollision",new s.y(e,t,a.g(n),i.negate())),this._applyBoxImpulse(t,e,i),this._applyBoxImpulse(e,t,i.negate())},t.prototype._resolveRigidBodyCollision=function(){var t=this.bodyA.body,e=this.bodyB.body,n=this.mtv,u=this.normal;if(t.actor!==e.actor){var c=a.i(this.mtv);if(t.actor.emit("precollision",new s.y(this.bodyA.body.actor,this.bodyB.body.actor,c,this.mtv)),e.actor.emit("precollision",new s.y(this.bodyB.body.actor,this.bodyA.body.actor,a.g(c),this.mtv.negate())),t.actor.collisionType!==i.b.Passive&&e.actor.collisionType!==i.b.Passive){var l=t.actor.collisionType===i.b.Fixed?0:1/t.mass,h=e.actor.collisionType===i.b.Fixed?0:1/e.mass,p=t.actor.collisionType===i.b.Fixed?0:1/t.moi,f=e.actor.collisionType===i.b.Fixed?0:1/e.moi,d=Math.min(t.restitution,e.restitution),y=Math.min(t.friction,e.friction),g=(u=u.normalize()).normal().normalize(),_=this.point.sub(this.bodyA.getCenter()),v=this.point.sub(this.bodyB.getCenter()),m=e.vel.add(v.cross(-e.rx)).sub(t.vel.sub(_.cross(t.rx))),b=m.dot(u),w=m.dot(g),x=_.dot(g),P=_.dot(u),S=v.dot(g),E=v.dot(u);if(!(b>0)){var T=-(1+d)*b/(l+h+p*x*x+f*S*S);if(t.actor.collisionType===i.b.Fixed?(e.vel=e.vel.add(u.scale(T*h)),o.b.allowRigidBodyRotation&&(e.rx-=T*f*-v.cross(u)),e.addMtv(n)):e.actor.collisionType===i.b.Fixed?(t.vel=t.vel.sub(u.scale(T*l)),o.b.allowRigidBodyRotation&&(t.rx+=T*p*-_.cross(u)),t.addMtv(n.negate())):(e.vel=e.vel.add(u.scale(T*h)),t.vel=t.vel.sub(u.scale(T*l)),o.b.allowRigidBodyRotation&&(e.rx-=T*f*-v.cross(u),t.rx+=T*p*-_.cross(u)),e.addMtv(n.scale(.5)),t.addMtv(n.scale(-.5))),y&&w){var C=m.sub(u.scale(m.dot(u))).normalize(),k=m.dot(C)/(l+h+P*P*p+E*E*f),O=new r.e(0,0);O=Math.abs(k)<=T*y?C.scale(k).negate():C.scale(-T*y),t.actor.collisionType===i.b.Fixed?(e.vel=e.vel.add(O.scale(h)),o.b.allowRigidBodyRotation&&(e.rx+=O.dot(C)*f*v.cross(C))):e.actor.collisionType===i.b.Fixed?(t.vel=t.vel.sub(O.scale(l)),o.b.allowRigidBodyRotation&&(t.rx-=O.dot(C)*p*_.cross(C))):(e.vel=e.vel.add(O.scale(h)),t.vel=t.vel.sub(O.scale(l)),o.b.allowRigidBodyRotation&&(e.rx+=O.dot(C)*f*v.cross(C),t.rx-=O.dot(C)*p*_.cross(C)))}t.actor.emit("postcollision",new s.s(this.bodyA.body.actor,this.bodyB.body.actor,c,this.mtv)),e.actor.emit("postcollision",new s.s(this.bodyB.body.actor,this.bodyA.body.actor,a.g(c),this.mtv.negate()))}}}},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i,r=n(7),o=n(9),s=n(3),a=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(t){function e(e,n,i){void 0===i&&(i=!0);var r=t.call(this)||this;return r.path=e,r.responseType=n,r.bustCache=i,r.data=null,r.logger=s.b.getInstance(),r.onprogress=function(){},r.oncomplete=function(){},r.onerror=function(){},r}return a(e,t),e.prototype.isLoaded=function(){return null!==this.data},e.prototype.wireEngine=function(t){},e.prototype._cacheBust=function(t){return/\?\w*=\w*/.test(t)?t+="&__="+Date.now():t+="?__="+Date.now(),t},e.prototype._start=function(){this.logger.debug("Started loading resource "+this.path)},e.prototype.load=function(){var t=this,e=new o.a;if(null!==this.data)return this.logger.debug("Already have data for resource",this.path),e.resolve(this.data),this.oncomplete(),e;var n=new XMLHttpRequest;return n.open("GET",this.bustCache?this._cacheBust(this.path):this.path,!0),n.responseType=this.responseType,n.onloadstart=function(){t._start()},n.onprogress=this.onprogress,n.onerror=this.onerror,n.onload=function(){if(0!==n.status&&200!==n.status)return t.logger.error("Failed to load resource ",t.path," server responded with error code",n.status),t.onerror(n.response),void e.resolve(n.response);t.data=t.processData(n.response),t.oncomplete(),t.logger.debug("Completed loading resource",t.path),e.resolve(t.data)},n.send(),e},e.prototype.getData=function(){return this.data},e.prototype.setData=function(t){this.data=this.processData(t)},e.prototype.processData=function(t){return"blob"===this.responseType?URL.createObjectURL(t):t},e}(r.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(25),r=n(9),o=n(36),s=function(){function t(){this._actors=[],this._queues=[],null!==arguments&&(this._actors=Array.prototype.slice.call(arguments,0),this._queues=this._actors.map(function(t){return t.actionQueue}))}return t.prototype.clearActions=function(){for(var t=0,e=this._queues.length;t<e;t++)this._queues[t].clearActions()},t.prototype.addActorToContext=function(t){this._actors.push(t),this._queues.push(t.actionQueue)},t.prototype.removeActorFromContext=function(t){var e=this._actors.indexOf(t);e>-1&&(this._actors.splice(e,1),this._queues.splice(e,1))},t.prototype.easeTo=function(t,e,n,r){void 0===r&&(r=o.a.Linear);for(var s=0,a=this._queues.length;s<a;s++)this._queues[s].add(new i.EaseTo(this._actors[s],t,e,n,r));return this},t.prototype.moveTo=function(t,e,n){for(var r=0,o=this._queues.length;r<o;r++)this._queues[r].add(new i.MoveTo(this._actors[r],t,e,n));return this},t.prototype.moveBy=function(t,e,n){for(var r=0,o=this._queues.length;r<o;r++)this._queues[r].add(new i.MoveBy(this._actors[r],t,e,n));return this},t.prototype.rotateTo=function(t,e,n){for(var r=0,o=this._queues.length;r<o;r++)this._queues[r].add(new i.RotateTo(this._actors[r],t,e,n));return this},t.prototype.rotateBy=function(t,e,n){for(var r=0,o=this._queues.length;r<o;r++)this._queues[r].add(new i.RotateBy(this._actors[r],t,e,n));return this},t.prototype.scaleTo=function(t,e,n,r){for(var o=0,s=this._queues.length;o<s;o++)this._queues[o].add(new i.ScaleTo(this._actors[o],t,e,n,r));return this},t.prototype.scaleBy=function(t,e,n){for(var r=0,o=this._queues.length;r<o;r++)this._queues[r].add(new i.ScaleBy(this._actors[r],t,e,n));return this},t.prototype.blink=function(t,e,n){void 0===n&&(n=1);for(var r=0,o=this._queues.length;r<o;r++)this._queues[r].add(new i.Blink(this._actors[r],t,e,n));return this},t.prototype.fade=function(t,e){for(var n=0,r=this._queues.length;n<r;n++)this._queues[n].add(new i.Fade(this._actors[n],t,e));return this},t.prototype.delay=function(t){for(var e=0,n=this._queues.length;e<n;e++)this._queues[e].add(new i.Delay(this._actors[e],t));return this},t.prototype.die=function(){for(var t=0,e=this._queues.length;t<e;t++)this._queues[t].add(new i.Die(this._actors[t]));return this},t.prototype.callMethod=function(t){for(var e=0,n=this._queues.length;e<n;e++)this._queues[e].add(new i.CallMethod(this._actors[e],t));return this},t.prototype.repeat=function(t){if(!t)return this.repeatForever(),this;for(var e=0,n=this._queues.length;e<n;e++)this._queues[e].add(new i.Repeat(this._actors[e],t,this._actors[e].actionQueue.getActions()));return this},t.prototype.repeatForever=function(){for(var t=0,e=this._queues.length;t<e;t++)this._queues[t].add(new i.RepeatForever(this._actors[t],this._actors[t].actionQueue.getActions()));return this},t.prototype.follow=function(t,e){for(var n=0,r=this._queues.length;n<r;n++)void 0===e?this._queues[n].add(new i.Follow(this._actors[n],t)):this._queues[n].add(new i.Follow(this._actors[n],t,e));return this},t.prototype.meet=function(t,e){for(var n=0,r=this._queues.length;n<r;n++)void 0===e?this._queues[n].add(new i.Meet(this._actors[n],t)):this._queues[n].add(new i.Meet(this._actors[n],t,e));return this},t.prototype.asPromise=function(){var t=this,e=this._queues.map(function(e,n){var o=new r.a;return e.add(new i.CallMethod(t._actors[n],function(){o.resolve()})),o});return r.a.join.apply(this,e)},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(0),r=function(){function t(){}return t.CreateReversableEasingFunction=function(t){return function(e,n,i,r){return i<n?n-(t(e,i,n,r)-i):t(e,n,i,r)}},t.CreateVectorEasingFunction=function(t){return function(e,n,r,o){return new i.e(t(e,n.x,r.x,o),t(e,n.y,r.y,o))}},t.Linear=t.CreateReversableEasingFunction(function(t,e,n,i){return(n-=e)*t/i+e}),t.EaseInQuad=t.CreateReversableEasingFunction(function(t,e,n,i){return(n-=e)*(t/=i)*t+e}),t.EaseOutQuad=t.CreateReversableEasingFunction(function(t,e,n,i){return-(n-=e)*(t/=i)*(t-2)+e}),t.EaseInOutQuad=t.CreateReversableEasingFunction(function(t,e,n,i){return n-=e,(t/=i/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e}),t.EaseInCubic=t.CreateReversableEasingFunction(function(t,e,n,i){return(n-=e)*(t/=i)*t*t+e}),t.EaseOutCubic=t.CreateReversableEasingFunction(function(t,e,n,i){return t/=i,(n-=e)*(--t*t*t+1)+e}),t.EaseInOutCubic=t.CreateReversableEasingFunction(function(t,e,n,i){return n-=e,(t/=i/2)<1?n/2*t*t*t+e:n/2*((t-=2)*t*t+2)+e}),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(e,n,i,r){if(this.id=0,this.interval=10,this.fcn=function(){},this.repeats=!1,this.maxNumberOfRepeats=-1,this._elapsedTime=0,this._totalTimeAlive=0,this._paused=!1,this._numberOfTicks=0,this.complete=!1,this.scene=null,r&&r>=0&&(this.maxNumberOfRepeats=r,!i))throw new Error("repeats must be set to true if numberOfRepeats is set");this.id=t.id++,this.interval=n||this.interval,this.fcn=e||this.fcn,this.repeats=i||this.repeats}return t.prototype.update=function(t){this._paused||(this._totalTimeAlive+=t,this._elapsedTime+=t,this.maxNumberOfRepeats>-1&&this._numberOfTicks>=this.maxNumberOfRepeats&&(this.complete=!0),!this.complete&&this._elapsedTime>=this.interval&&(this.fcn.call(this),this._numberOfTicks++,this.repeats?this._elapsedTime=0:this.complete=!0))},t.prototype.reset=function(t,e){if(t&&t>=0&&(this.interval=t),this.maxNumberOfRepeats&&this.maxNumberOfRepeats>=0&&(this.maxNumberOfRepeats=e,!this.repeats))throw new Error("repeats must be set to true if numberOfRepeats is set");this.complete=!1,this._elapsedTime=0,this._numberOfTicks=0},Object.defineProperty(t.prototype,"timesRepeated",{get:function(){return this._numberOfTicks},enumerable:!0,configurable:!0}),t.prototype.getTimeRunning=function(){return this._totalTimeAlive},t.prototype.pause=function(){this._paused=!0},t.prototype.unpause=function(){this._paused=!1},t.prototype.cancel=function(){this.scene&&this.scene.cancelTimer(this)},t.id=0,t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return f});var i,r=n(10),o=n(1),s=n(7),a=n(0),u=n(3),c=n(2),l=n(11),h=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),p=function(t){function e(e,n,i,r,o,s){var a,c=t.call(this)||this;if(c._collidingX=-1,c._collidingY=-1,c._onScreenXStart=0,c._onScreenXEnd=9999,c._onScreenYStart=0,c._onScreenYEnd=9999,c._spriteSheets={},c.logger=u.b.getInstance(),c.data=[],e&&"object"===typeof e){var l=e;e=l.x,n=l.y,i=l.cellWidth,r=l.cellHeight,o=l.rows,s=l.cols}c.x=e,c.y=n,c.cellWidth=i,c.cellHeight=r,c.rows=o,c.cols=s,c.data=new Array(o*s);for(var h=0;h<s;h++)for(var p=0;p<o;p++)void 0,a=new y(h*i+e,p*r+n,i,r,h+p*s),c.data[h+p*s]=a;return c}return h(e,t),e.prototype.on=function(e,n){t.prototype.on.call(this,e,n)},e.prototype.registerSpriteSheet=function(t,e){this._spriteSheets[t]=e},e.prototype.collides=function(t){for(var e=t.pos.x+t.getWidth(),n=t.pos.y+t.getHeight(),i=t.getBounds(),r=[],o=i.left;o<=e;o+=Math.min(t.getWidth()/2,this.cellWidth/2))for(var s=i.top;s<=n;s+=Math.min(t.getHeight()/2,this.cellHeight/2)){var u=this.getCellByPoint(o,s);if(u&&u.solid){var c=i.collides(u.getBounds()),l=t.getCenter().sub(u.getCenter());c&&c.dot(l)>0&&r.push(c)}}return 0===r.length?null:r.reduce(function(t,e){var n=t.x,i=t.y;return Math.abs(t.x)<Math.abs(e.x)&&(n=e.x),Math.abs(t.y)<Math.abs(e.y)&&(i=e.y),new a.e(n,i)})},e.prototype.getCellByIndex=function(t){return this.data[t]},e.prototype.getCell=function(t,e){return t<0||e<0||t>=this.cols||e>=this.rows?null:this.data[t+e*this.cols]},e.prototype.getCellByPoint=function(t,e){t=Math.floor((t-this.x)/this.cellWidth),e=Math.floor((e-this.y)/this.cellHeight);var n=this.getCell(t,e);return t>=0&&e>=0&&t<this.cols&&e<this.rows&&n?n:null},e.prototype.update=function(t,e){this.emit("preupdate",new c.D(t,e,this));var n=t.screenToWorldCoordinates(new a.e(0,0)),i=t.screenToWorldCoordinates(new a.e(t.canvas.clientWidth,t.canvas.clientHeight));this._onScreenXStart=Math.max(Math.floor((n.x-this.x)/this.cellWidth)-2,0),this._onScreenYStart=Math.max(Math.floor((n.y-this.y)/this.cellHeight)-2,0),this._onScreenXEnd=Math.max(Math.floor((i.x-this.x)/this.cellWidth)+2,0),this._onScreenYEnd=Math.max(Math.floor((i.y-this.y)/this.cellHeight)+2,0),this.emit("postupdate",new c.x(t,e,this))},e.prototype.draw=function(t,e){this.emit("predraw",new c.A(t,e,this)),t.save(),t.translate(this.x,this.y);for(var n,i,r,o=this._onScreenXStart,s=Math.min(this._onScreenXEnd,this.cols),a=this._onScreenYStart,u=Math.min(this._onScreenYEnd,this.rows);o<s;o++){for(;a<u;a++)for(i=0,r=(n=this.getCell(o,a).sprites.filter(function(t){return t.spriteId>-1})).length;i<r;i++){var l=this._spriteSheets[n[i].spriteSheetKey];if(l){var h=l.getSprite(n[i].spriteId);h?h.draw(t,o*this.cellWidth,a*this.cellHeight):this.logger.warn("Sprite does not exist for id",n[i].spriteId,"in sprite sheet",n[i].spriteSheetKey,h,l)}else this.logger.warn("Sprite sheet",n[i].spriteSheetKey,"does not exist",l)}a=this._onScreenYStart}t.restore(),this.emit("postdraw",new c.u(t,e,this))},e.prototype.debugDraw=function(t){var e=this.cols*this.cellWidth,n=this.rows*this.cellHeight;t.save(),t.strokeStyle=o.a.Red.toString();for(var i=0;i<this.cols+1;i++)t.beginPath(),t.moveTo(this.x+i*this.cellWidth,this.y),t.lineTo(this.x+i*this.cellWidth,this.y+n),t.stroke();for(var r=0;r<this.rows+1;r++)t.beginPath(),t.moveTo(this.x,this.y+r*this.cellHeight),t.lineTo(this.x+e,this.y+r*this.cellHeight),t.stroke();var s=o.a.Red.clone();s.a=.3,this.data.filter(function(t){return t.solid}).forEach(function(e){t.fillStyle=s.toString(),t.fillRect(e.x,e.y,e.width,e.height)}),this._collidingY>-1&&this._collidingX>-1&&(t.fillStyle=o.a.Cyan.toString(),t.fillRect(this.x+this._collidingX*this.cellWidth,this.y+this._collidingY*this.cellHeight,this.cellWidth,this.cellHeight)),t.restore()},e}(s.a),f=function(t){function e(e,n,i,r,o,s){return t.call(this,e,n,i,r,o,s)||this}return h(e,t),e}(Object(l.a)(p)),d=(function(){}(),function(){function t(t,e,n,i,o,s,a){if(void 0===s&&(s=!1),void 0===a&&(a=[]),this.solid=!1,this.sprites=[],t&&"object"===typeof t){var u=t;t=u.x,e=u.y,n=u.width,i=u.height,o=u.index,s=u.solid,a=u.sprites}this.x=t,this.y=e,this.width=n,this.height=i,this.index=o,this.solid=s,this.sprites=a,this._bounds=new r.a(this.x,this.y,this.x+this.width,this.y+this.height)}return t.prototype.getBounds=function(){return this._bounds},t.prototype.getCenter=function(){return new a.e(this.x+this.width/2,this.y+this.height/2)},t.prototype.pushSprite=function(t){this.sprites.push(t)},t.prototype.removeSprite=function(t){var e;(e=this.sprites.indexOf(t))>-1&&this.sprites.splice(e,1)},t.prototype.clearSprites=function(){this.sprites.length=0},t}()),y=function(t){function e(e,n,i,r,o,s,a){return t.call(this,e,n,i,r,o,s,a)||this}return h(e,t),e}(Object(l.a)(d))},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){}return t.create=function(){return this._INSTANCE||(window.AudioContext||window.webkitAudioContext)&&(this._INSTANCE=new window.AudioContext||new window.webkitAudioContext),this._INSTANCE},t._INSTANCE=null,t}()},function(t,e,n){"use strict";n.d(e,"c",function(){return o}),n.d(e,"a",function(){return s}),n.d(e,"b",function(){return f});var i,r,o,s,a,u=n(1),c=n(5),l=n(11),h=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});!function(t){t[t.Em=0]="Em",t[t.Rem=1]="Rem",t[t.Px=2]="Px",t[t.Pt=3]="Pt",t[t.Percent=4]="Percent"}(r||(r={})),function(t){t[t.Left=0]="Left",t[t.Right=1]="Right",t[t.Center=2]="Center",t[t.Start=3]="Start",t[t.End=4]="End"}(o||(o={})),function(t){t[t.Top=0]="Top",t[t.Hanging=1]="Hanging",t[t.Middle=2]="Middle",t[t.Alphabetic=3]="Alphabetic",t[t.Ideographic=4]="Ideographic",t[t.Bottom=5]="Bottom"}(s||(s={})),function(t){t[t.Normal=0]="Normal",t[t.Italic=1]="Italic",t[t.Oblique=2]="Oblique"}(a||(a={}));var p=function(t){function e(e,n,i,l,h){var p=t.call(this,e&&"object"===typeof e?{x:e.x,y:e.y}:{x:n,y:i})||this;p.bold=!1,p.fontSize=10,p.fontStyle=a.Normal,p.fontUnit=r.Px,p.textAlign=o.Left,p.baseAlign=s.Bottom,p.letterSpacing=0,p.caseInsensitive=!0;var f="";return e&&"object"===typeof e?(l=e.fontFamily,h=e.spriteFont,f=e.text):f=e,p.text=f||"",p.color=u.a.Black.clone(),p.spriteFont=h,p.collisionType=c.b.PreventCollision,p.fontFamily=l||"sans-serif",p._textShadowOn=!1,p._shadowOffsetX=0,p._shadowOffsetY=0,p}return h(e,t),e.prototype.getTextWidth=function(t){var e=t.font;t.font=this._fontString;var n=t.measureText(this.text).width;return t.font=e,n},e.prototype._lookupFontUnit=function(t){switch(t){case r.Em:return"em";case r.Rem:return"rem";case r.Pt:return"pt";case r.Px:return"px";case r.Percent:return"%";default:return"px"}},e.prototype._lookupTextAlign=function(t){switch(t){case o.Left:return"left";case o.Right:return"right";case o.Center:return"center";case o.End:return"end";case o.Start:default:return"start"}},e.prototype._lookupBaseAlign=function(t){switch(t){case s.Alphabetic:return"alphabetic";case s.Bottom:return"bottom";case s.Hanging:return"hangin";case s.Ideographic:return"ideographic";case s.Middle:return"middle";case s.Top:return"top";default:return"alphabetic"}},e.prototype._lookupFontStyle=function(t){var e=this.bold?" bold":"";switch(t){case a.Italic:return"italic"+e;case a.Normal:return"normal"+e;case a.Oblique:return"oblique"+e;default:return"normal"+e}},e.prototype.setTextShadow=function(t,e,n){this.spriteFont.setTextShadow(t,e,n)},e.prototype.useTextShadow=function(t){this.spriteFont.useTextShadow(t)},e.prototype.clearTextShadow=function(){this._textShadowOn=!1,this._shadowOffsetX=0,this._shadowOffsetY=0},e.prototype.update=function(e,n){t.prototype.update.call(this,e,n)},e.prototype.draw=function(e,n){e.save(),e.translate(this.pos.x,this.pos.y),e.scale(this.scale.x,this.scale.y),e.rotate(this.rotation),this._textShadowOn&&(e.save(),e.translate(this._shadowOffsetX,this._shadowOffsetY),this._fontDraw(e),e.restore()),this._fontDraw(e),t.prototype.draw.call(this,e,n),e.restore()},e.prototype._fontDraw=function(t){if(this.spriteFont)this.spriteFont.draw(t,this.text,0,0,{color:this.color.clone(),baseAlign:this.baseAlign,textAlign:this.textAlign,fontSize:this.fontSize,letterSpacing:this.letterSpacing,opacity:this.opacity});else{var e=t.textAlign,n=t.textBaseline;t.textAlign=this._lookupTextAlign(this.textAlign),t.textBaseline=this._lookupBaseAlign(this.baseAlign),this.color&&(this.color.a=this.opacity),t.fillStyle=this.color.toString(),t.font=this._fontString,this.maxWidth?t.fillText(this.text,0,0,this.maxWidth):t.fillText(this.text,0,0),t.textAlign=e,t.textBaseline=n}},Object.defineProperty(e.prototype,"_fontString",{get:function(){return this._lookupFontStyle(this.fontStyle)+" "+this.fontSize+this._lookupFontUnit(this.fontUnit)+" "+this.fontFamily},enumerable:!0,configurable:!0}),e.prototype.debugDraw=function(e){t.prototype.debugDraw.call(this,e)},e}(c.a),f=function(t){function e(e,n,i,r,o){return t.call(this,e,n,i,r,o)||this}return h(e,t),e}(Object(l.a)(p))},function(t,e,n){"use strict";n.d(e,"a",function(){return f});var i,r=n(1),o=n(25),s=n(32),a=n(5),u=n(0),c=n(2),l=n(4),h=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),p={pos:u.e.Zero.clone(),width:10,height:10,visible:!1,action:function(){},filter:function(){return!0},repeat:-1},f=function(t){function e(e){var n=t.call(this,e.pos.x,e.pos.y,e.width,e.height)||this;return n.action=function(){},n.filter=function(){return!0},n.repeat=-1,e=l.f({},p,e),n.filter=e.filter||n.filter,n.repeat=e.repeat||n.repeat,n.action=e.action||n.action,e.target&&(n.target=e.target),n.visible=e.visible,n.collisionType=a.b.Passive,n.eventDispatcher=new s.a(n),n.actionQueue=new o.ActionQueue(n),n.on("collisionstart",function(t){n.filter(t.other)&&(n.emit("enter",new c.e(n,t.other)),n._dispatchAction(),0===n.repeat&&n.kill())}),n.on("collisionend",function(t){n.filter(t.other)&&n.emit("exit",new c.g(n,t.other))}),n}return h(e,t),Object.defineProperty(e.prototype,"target",{get:function(){return this._target},set:function(t){this._target=t,this.filter=function(e){return e===t}},enumerable:!0,configurable:!0}),e.prototype._initialize=function(e){t.prototype._initialize.call(this,e)},e.prototype._dispatchAction=function(){this.action.call(this),this.repeat--},e.prototype.debugDraw=function(e){t.prototype.debugDraw.call(this,e),e.save(),e.translate(this.pos.x,this.pos.y);var n=this.getBounds(),i=this.getWorldPos();n.left=n.left-i.x,n.right=n.right-i.x,n.top=n.top-i.y,n.bottom=n.bottom-i.y,e.fillStyle=r.a.Violet.toString(),e.strokeStyle=r.a.Violet.toString(),e.fillText("Trigger",10,10),n.debugDraw(e),e.restore()},e}(a.a)},function(t,e,n){"use strict";e.a=function(t){return t=r.f({},{message:"This method will be removed in future versions of Excalibur.",alternateMethod:null},t),function(e,n,o){if("function"!==typeof o.value&&"function"!==typeof o.get&&"function"!==typeof o.set)throw new SyntaxError("Only functions/getters/setters can be marked as obsolete");var s=(e.name||"")+(e.name?".":"")+n+" is marked obsolete: "+t.message+(t.alternateMethod?" Use "+t.alternateMethod+" instead":""),a=r.f({},o);return o.value?(a.value=function(){return i.b.getInstance().warn(s),o.value.apply(this,arguments)},a):(o.get&&(a.get=function(){return i.b.getInstance().warn(s),o.get.apply(this,arguments)}),o.set&&(a.set=function(){return i.b.getInstance().warn(s),o.set.apply(this,arguments)}),a)}};var i=n(3),r=n(4)},function(t,e,n){"use strict";var i=n(81);function r(){}var o=null,s={};function a(t){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof t)throw new TypeError("Promise constructor's argument is not a function");this._75=0,this._83=0,this._18=null,this._38=null,t!==r&&f(t,this)}function u(t,e){for(;3===t._83;)t=t._18;if(a._47&&a._47(t),0===t._83)return 0===t._75?(t._75=1,void(t._38=e)):1===t._75?(t._75=2,void(t._38=[t._38,e])):void t._38.push(e);!function(t,e){i(function(){var n=1===t._83?e.onFulfilled:e.onRejected;if(null!==n){var i=function(t,e){try{return t(e)}catch(t){return o=t,s}}(n,t._18);i===s?l(e.promise,o):c(e.promise,i)}else 1===t._83?c(e.promise,t._18):l(e.promise,t._18)})}(t,e)}function c(t,e){if(e===t)return l(t,new TypeError("A promise cannot be resolved with itself."));if(e&&("object"===typeof e||"function"===typeof e)){var n=function(t){try{return t.then}catch(t){return o=t,s}}(e);if(n===s)return l(t,o);if(n===t.then&&e instanceof a)return t._83=3,t._18=e,void h(t);if("function"===typeof n)return void f(n.bind(e),t)}t._83=1,t._18=e,h(t)}function l(t,e){t._83=2,t._18=e,a._71&&a._71(t,e),h(t)}function h(t){if(1===t._75&&(u(t,t._38),t._38=null),2===t._75){for(var e=0;e<t._38.length;e++)u(t,t._38[e]);t._38=null}}function p(t,e,n){this.onFulfilled="function"===typeof t?t:null,this.onRejected="function"===typeof e?e:null,this.promise=n}function f(t,e){var n=!1,i=function(t,e,n){try{t(e,n)}catch(t){return o=t,s}}(t,function(t){n||(n=!0,c(e,t))},function(t){n||(n=!0,l(e,t))});n||i!==s||(n=!0,l(e,o))}t.exports=a,a._47=null,a._71=null,a._44=r,a.prototype.then=function(t,e){if(this.constructor!==a)return function(t,e,n){return new t.constructor(function(i,o){var s=new a(r);s.then(i,o),u(t,new p(e,n,s))})}(this,t,e);var n=new a(r);return u(this,new p(t,e,n)),n}},function(t,e,n){"use strict";var i=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(t){i[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,s,a=function(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),u=1;u<arguments.length;u++){for(var c in n=Object(arguments[u]))r.call(n,c)&&(a[c]=n[c]);if(i){s=i(n);for(var l=0;l<s.length;l++)o.call(n,s[l])&&(a[s[l]]=n[s[l]])}}return a}},function(t,e,n){"use strict";var i=function(t){};t.exports=function(t,e,n,r,o,s,a,u){if(i(e),!t){var c;if(void 0===e)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,o,s,a,u],h=0;(c=new Error(e.replace(/%s/g,function(){return l[h++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}}},function(t,e,n){"use strict";var i={};t.exports=i},function(t,e,n){"use strict";function i(t){return function(){return t}}var r=function(){};r.thatReturns=i,r.thatReturnsFalse=i(!1),r.thatReturnsTrue=i(!0),r.thatReturnsNull=i(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(t){return t},t.exports=r},function(t,e,n){"use strict";var i=n(99),r=(n(51),n(105));n.d(e,"a",function(){return i.a}),n.d(e,"b",function(){return r.a})},function(t,e,n){t.exports=n(100)()},function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return s});var i=n(49),r=n.n(i),o=r.a.shape({trySubscribe:r.a.func.isRequired,tryUnsubscribe:r.a.func.isRequired,notifyNestedSubs:r.a.func.isRequired,isSubscribed:r.a.func.isRequired}),s=r.a.shape({subscribe:r.a.func.isRequired,dispatch:r.a.func.isRequired,getState:r.a.func.isRequired})},function(t,e,n){"use strict";e.a=function(t){var e,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=i.getDisplayName,d=void 0===o?function(t){return"ConnectAdvanced("+t+")"}:o,y=i.methodName,g=void 0===y?"connectAdvanced":y,_=i.renderCountProp,v=void 0===_?void 0:_,m=i.shouldHandleStateChanges,b=void 0===m||m,w=i.storeKey,x=void 0===w?"store":w,P=i.withRef,S=void 0!==P&&P,E=function(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}(i,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),T=x+"Subscription",C=h++,k=((e={})[x]=c.a,e[T]=c.b,e),O=((n={})[T]=c.b,n);return function(e){s()("function"==typeof e,"You must pass a component to the function returned by "+g+". Instead received "+JSON.stringify(e));var n=e.displayName||e.name||"Component",i=d(n),o=l({},E,{getDisplayName:d,methodName:g,renderCountProp:v,shouldHandleStateChanges:b,storeKey:x,withRef:S,displayName:i,wrappedComponentName:n,WrappedComponent:e}),c=function(n){function r(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,n.call(this,t,e));return o.version=C,o.state={},o.renderCount=0,o.store=t[x]||e[x],o.propsMode=Boolean(t[x]),o.setWrappedInstance=o.setWrappedInstance.bind(o),s()(o.store,'Could not find "'+x+'" in either the context or props of "'+i+'". Either wrap the root component in a <Provider>, or explicitly pass "'+x+'" as a prop to "'+i+'".'),o.initSelector(),o.initSubscription(),o}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,n),r.prototype.getChildContext=function(){var t,e=this.propsMode?null:this.subscription;return(t={})[T]=e||this.context[T],t},r.prototype.componentDidMount=function(){b&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},r.prototype.componentWillReceiveProps=function(t){this.selector.run(t)},r.prototype.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},r.prototype.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=f,this.store=null,this.selector.run=f,this.selector.shouldComponentUpdate=!1},r.prototype.getWrappedInstance=function(){return s()(S,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+g+"() call."),this.wrappedInstance},r.prototype.setWrappedInstance=function(t){this.wrappedInstance=t},r.prototype.initSelector=function(){var e=t(this.store.dispatch,o);this.selector=function(t,e){var n={run:function(i){try{var r=t(e.getState(),i);(r!==n.props||n.error)&&(n.shouldComponentUpdate=!0,n.props=r,n.error=null)}catch(t){n.shouldComponentUpdate=!0,n.error=t}}};return n}(e,this.store),this.selector.run(this.props)},r.prototype.initSubscription=function(){if(b){var t=(this.propsMode?this.props:this.context)[T];this.subscription=new u.a(this.store,t,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},r.prototype.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(p)):this.notifyNestedSubs()},r.prototype.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},r.prototype.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},r.prototype.addExtraProps=function(t){if(!S&&!v&&(!this.propsMode||!this.subscription))return t;var e=l({},t);return S&&(e.ref=this.setWrappedInstance),v&&(e[v]=this.renderCount++),this.propsMode&&this.subscription&&(e[T]=this.subscription),e},r.prototype.render=function(){var t=this.selector;if(t.shouldComponentUpdate=!1,t.error)throw t.error;return Object(a.createElement)(e,this.addExtraProps(t.props))},r}(a.Component);return c.WrappedComponent=e,c.displayName=i,c.childContextTypes=O,c.contextTypes=k,c.propTypes=k,r()(c,e)}};var i=n(102),r=n.n(i),o=n(103),s=n.n(o),a=n(8),u=(n.n(a),n(104)),c=n(50),l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};var h=0,p={};function f(){}},function(t,e,n){"use strict";n.d(e,"c",function(){return a}),n.d(e,"b",function(){return c}),n.d(e,"a",function(){return h});var i=n(108),r={INIT:"@@redux/INIT"+Math.random().toString(36).substring(7).split("").join("."),REPLACE:"@@redux/REPLACE"+Math.random().toString(36).substring(7).split("").join(".")},o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};Object.assign;function s(t){if("object"!==("undefined"===typeof t?"undefined":o(t))||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function a(t,e,n){var u;if("function"===typeof e&&"undefined"===typeof n&&(n=e,e=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error("Expected the enhancer to be a function.");return n(a)(t,e)}if("function"!==typeof t)throw new Error("Expected the reducer to be a function.");var c=t,l=e,h=[],p=h,f=!1;function d(){p===h&&(p=h.slice())}function y(){if(f)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return l}function g(t){if("function"!==typeof t)throw new Error("Expected the listener to be a function.");if(f)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");var e=!0;return d(),p.push(t),function(){if(e){if(f)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");e=!1,d();var n=p.indexOf(t);p.splice(n,1)}}}function _(t){if(!s(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"===typeof t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(f)throw new Error("Reducers may not dispatch actions.");try{f=!0,l=c(l,t)}finally{f=!1}for(var e=h=p,n=0;n<e.length;n++){(0,e[n])()}return t}return _({type:r.INIT}),(u={dispatch:_,subscribe:g,getState:y,replaceReducer:function(t){if("function"!==typeof t)throw new Error("Expected the nextReducer to be a function.");c=t,_({type:r.REPLACE})}})[i.a]=function(){var t,e=g;return(t={subscribe:function(t){if("object"!==("undefined"===typeof t?"undefined":o(t))||null===t)throw new TypeError("Expected the observer to be an object.");function n(){t.next&&t.next(y())}return n(),{unsubscribe:e(n)}}})[i.a]=function(){return this},t},u}function u(t,e){var n=e&&e.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+t+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function c(t){for(var e=Object.keys(t),n={},i=0;i<e.length;i++){var o=e[i];0,"function"===typeof t[o]&&(n[o]=t[o])}var s=Object.keys(n);var a=void 0;try{!function(t){Object.keys(t).forEach(function(e){var n=t[e];if("undefined"===typeof n(void 0,{type:r.INIT}))throw new Error('Reducer "'+e+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if("undefined"===typeof n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+e+"\" returned undefined when probed with a random type. Don't try to handle "+r.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}(n)}catch(t){a=t}return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];if(a)throw a;for(var i=!1,r={},o=0;o<s.length;o++){var c=s[o],l=n[c],h=t[c],p=l(h,e);if("undefined"===typeof p){var f=u(c,e);throw new Error(f)}r[c]=p,i=i||p!==h}return i?r:t}}function l(t,e){return function(){return e(t.apply(this,arguments))}}function h(t,e){if("function"===typeof t)return l(t,e);if("object"!==("undefined"===typeof t?"undefined":o(t))||null===t)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===t?"null":"undefined"===typeof t?"undefined":o(t))+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(t),i={},r=0;r<n.length;r++){var s=n[r],a=t[s];"function"===typeof a&&(i[s]=l(a,e))}return i}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"===typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";e.a=function(t){return function(e,n){var i=t(e,n);function r(){return i}return r.dependsOnOwnProps=!1,r}},e.b=function(t,e){return function(e,n){n.displayName;var r=function(t,e){return r.dependsOnOwnProps?r.mapToProps(t,e):r.mapToProps(t)};return r.dependsOnOwnProps=!0,r.mapToProps=function(e,n){r.mapToProps=t,r.dependsOnOwnProps=i(t);var o=r(e,n);return"function"===typeof o&&(r.mapToProps=o,r.dependsOnOwnProps=i(o),o=r(e,n)),o},r}};n(55);function i(t){return null!==t.dependsOnOwnProps&&void 0!==t.dependsOnOwnProps?Boolean(t.dependsOnOwnProps):1!==t.length}},function(t,e,n){"use strict";n(111),n(28)},function(t,e,n){"use strict";var i=n(113).a.Symbol;e.a=i},function(t,e,n){"use strict";var i,r=n(8),o=(n.n(r),n(126)),s=n.n(o),a=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={typing:!0},e.finishTyping=function(){e.setState({typing:!1})},e}return a(e,t),e.prototype.render=function(){return r.createElement("div",{className:"dialogBox"},this.state.typing?r.createElement("div",{onClick:this.finishTyping,className:"dialog"},r.createElement(s.a,{cursor:{show:!1},onTypingDone:this.finishTyping},this.props.children)):r.createElement("div",{onClick:this.props.onFinish,className:"dialog"},this.props.children))},e.Delay=s.a.delay,e}(r.Component);e.a=u},function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n(127),r=n(8),o=(n.n(r),this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}),s=new i.a({title:"Bye!",messages:function(){return[{message:"Bye!",sprite:"byeNPC"}]},children:{},choices:function(){return null}}),a={testing:{counter:new i.a({title:"I'm a testing npc",onVisit:function(t){return o({},t,{timesTalked:t.timesTalked+1})},messages:function(t){return[{message:"I'm a testing NPC!",sprite:"countingNPC"},{message:"I've been visited "+t.timesTalked+" times!",sprite:"countingNPC"},{message:"",sprite:"countingNPC"}]},children:{greet:new i.a({title:"I'm a testing npc",messages:function(){return[{message:"Nice to meet you!",sprite:"countingNPC"},{message:r.createElement("h1",null,"What do you want to do?"),sprite:"countingNPC"}]},choices:function(){return{"Talk Again":"../",Bye:"root://bye"}},children:{}}),regreet:new i.a({title:"I'm a testing npc",messages:function(){return[{message:"Nice to see you again!",sprite:"countingNPC"},{message:r.createElement("h1",null,"What do you want to do?"),sprite:"countingNPC"}]},choices:function(){return{"Talk Again":"../",Bye:"root://bye"}},children:{}}),creepy:new i.a({title:"I'm a testing npc",messages:function(){return[{message:"It's really creepy how you keep talking to me.",sprite:"countingNPC"},{message:r.createElement("h1",null,"You've creeped them out and they won't talk to you anymore"),sprite:"countingNPC"}]},choices:function(){return{Bye:"root://bye"}},children:{}})},choices:function(t){return 1==t.timesTalked?"./greet":t.timesTalked>4?"./creepy":"./regreet"}})},bye:s},u=function(t){return new i.a({title:"You done fucked up",messages:function(){return[{message:r.createElement("p",null," Navigate failed! "),sprite:"SadSprite"},{message:r.createElement("p",null," Path was ",t," "),sprite:"SadSprite"},{message:r.createElement("p",null," Check console for more"),sprite:"SadSprite"},{message:r.createElement("p",null," If you're seeing this as a player please tell us about it here (insert link later)"),sprite:"SadSprite"}]},children:{},choices:function(t){return null},onVisit:function(t){return t}})},c=function(t){if(t.startsWith("root://")){for(var e=a,n=t.split("/",4),i=0,r=(n[2]||"").split(".");i<r.length;i++){var o=r[i];""!==o&&(e=e[o])}return 4==n.length?e.navigate(n[3])||u(t):e||u(t)}return console.error("Navigate failed! path was "+t),u(t)}},function(t,e,n){"use strict";n.d(e,"b",function(){return s}),n.d(e,"c",function(){return a}),n.d(e,"a",function(){return u});var i=n(16),r=n(128),o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},s={messageIndex:0},a=function(){return{type:"NEXT_MESSAGE"}},u=Object(r.a)(function(t,e){return void 0===t&&(t=s),"NEXT_MESSAGE"===e.type?o({},t,{messageIndex:t.messageIndex+1}):t},function(t,e){return void 0===t&&(t=s),e.type===i.a?o({},t,{messageIndex:0}):t})},function(t,e,n){"use strict";var i;n.d(e,"a",function(){return i}),function(t){t[t.ShortestPath=0]="ShortestPath",t[t.LongestPath=1]="LongestPath",t[t.Clockwise=2]="Clockwise",t[t.CounterClockwise=3]="CounterClockwise"}(i||(i={}))},function(t,e,n){"use strict";n.d(e,"a",function(){return h});var i=n(6),r=n(20),o=n(22),s=n(12),a=n(26),u=n(0),c=n(1),l=n(15),h=function(){function t(t){this.actor=t,this.collisionArea=null,this.pos=new u.e(0,0),this.oldPos=new u.e(0,0),this.vel=new u.e(0,0),this.oldVel=new u.e(0,0),this.acc=new u.e(0,0),this.torque=0,this.mass=1,this.moi=1e3,this.motion=10,this.friction=.99,this.restitution=.2,this.rotation=0,this.rx=0,this._totalMtv=u.e.Zero.clone()}return t.prototype.addMtv=function(t){this._totalMtv.addEqual(t)},t.prototype.applyMtv=function(){this.pos.addEqual(this._totalMtv),this._totalMtv.setTo(0,0)},t.prototype.getBounds=function(){return i.b.collisionResolutionStrategy===i.a.Box?this.actor.getBounds():this.collisionArea.getBounds()},t.prototype.getRelativeBounds=function(){return i.b.collisionResolutionStrategy,i.a.Box,this.actor.getRelativeBounds()},t.prototype.update=function(){this.collisionArea&&(this.actor&&this.actor.isGeometryDirty&&this.collisionArea instanceof s.a&&(this.collisionArea.points=this.actor.getRelativeGeometry()),this.collisionArea.recalc())},t.prototype.useBoxCollision=function(t){void 0===t&&(t=u.e.Zero.clone()),this.collisionArea=new s.a({body:this,points:this.actor.getRelativeGeometry(),pos:t}),this.moi=this.collisionArea.getMomentOfInertia()||this.moi},t.prototype.usePolygonCollision=function(t,e){void 0===e&&(e=u.e.Zero.clone()),this.collisionArea=new s.a({body:this,points:t,pos:e}),this.moi=this.collisionArea.getMomentOfInertia()||this.moi},t.prototype.useCircleCollision=function(t,e){void 0===e&&(e=u.e.Zero.clone()),t||(t=this.actor.getWidth()/2),this.collisionArea=new o.a({body:this,radius:t,pos:e}),this.moi=this.collisionArea.getMomentOfInertia()||this.moi},t.prototype.useEdgeCollision=function(t,e){this.collisionArea=new r.a({begin:t,end:e,body:this}),this.moi=this.collisionArea.getMomentOfInertia()||this.moi},t.prototype.debugDraw=function(t){i.b.showMotionVectors&&(l.d(t,c.a.Yellow,this.pos,this.acc.add(i.b.acc)),l.d(t,c.a.Red,this.pos,this.vel),l.b(t,c.a.Red,this.pos)),i.b.showBounds&&this.getBounds().debugDraw(t,c.a.Yellow),i.b.showArea&&this.collisionArea.debugDraw(t,c.a.Green)},t.prototype.touching=function(t){var e=new a.a(this,t.body);return e.collide(),!!e.collision},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(0),r=n(1),o=function(){function t(){this._topLeft=new i.e(0,0),this._topRight=new i.e(0,0),this._bottomLeft=new i.e(0,0),this._bottomRight=new i.e(0,0)}return t.prototype.isSpriteOffScreen=function(t,e){var n=t.currentDrawing.drawWidth,r=t.currentDrawing.drawHeight,o=t.rotation,s=t.getCenter(),a=t.getWorldPos();this._topLeft.x=a.x-n/2,this._topLeft.y=a.y-r/2,this._topLeft=this._topLeft.rotate(o,s),this._topRight.x=a.x+n/2,this._topRight.y=a.y-r/2,this._topRight=this._topRight.rotate(o,s),this._bottomLeft.x=a.x-n/2,this._bottomLeft.y=a.y+r/2,this._bottomLeft=this._bottomLeft.rotate(o,s),this._bottomRight.x=a.x+n/2,this._bottomRight.y=a.y+r/2,this._bottomRight=this._bottomRight.rotate(o,s);var u=e.worldToScreenCoordinates(this._topLeft),c=e.worldToScreenCoordinates(this._topRight),l=e.worldToScreenCoordinates(this._bottomLeft),h=e.worldToScreenCoordinates(this._bottomRight);this._xCoords=[],this._yCoords=[],this._xCoords.push(u.x,c.x,l.x,h.x),this._yCoords.push(u.y,c.y,l.y,h.y),this._xMin=Math.min.apply(null,this._xCoords),this._yMin=Math.min.apply(null,this._yCoords),this._xMax=Math.max.apply(null,this._xCoords),this._yMax=Math.max.apply(null,this._yCoords);var p=e.screenToWorldCoordinates(new i.e(this._xMin,this._yMin)),f=e.screenToWorldCoordinates(new i.e(this._xMax,this._yMax));this._xMinWorld=p.x,this._yMinWorld=p.y,this._xMaxWorld=f.x,this._yMaxWorld=f.y;var d=[new i.e(this._xMin,this._yMin),new i.e(this._xMax,this._yMin),new i.e(this._xMin,this._yMax),new i.e(this._xMax,this._yMax)];if(d[0].x<0&&d[1].x>e.canvas.clientWidth&&(d[0].y>0||d[2].y<e.canvas.clientHeight))return!1;if(d[0].y<0&&d[2].y>e.canvas.clientHeight&&(d[1].x>0||d[0].x<e.canvas.clientWidth))return!1;for(var y=0;y<d.length;y++)if(d[y].x>0&&d[y].y>0&&d[y].x<e.canvas.clientWidth&&d[y].y<e.canvas.clientHeight)return!1;return!0},t.prototype.debugDraw=function(t){t.beginPath(),t.strokeStyle=r.a.White.toString(),t.rect(this._xMinWorld,this._yMinWorld,this._xMaxWorld-this._xMinWorld,this._yMaxWorld-this._yMinWorld),t.stroke(),t.fillStyle=r.a.Red.toString(),t.beginPath(),t.arc(this._topLeft.x,this._topLeft.y,5,0,2*Math.PI),t.closePath(),t.fill(),t.fillStyle=r.a.Green.toString(),t.beginPath(),t.arc(this._topRight.x,this._topRight.y,5,0,2*Math.PI),t.closePath(),t.fill(),t.fillStyle=r.a.Blue.toString(),t.beginPath(),t.arc(this._bottomLeft.x,this._bottomLeft.y,5,0,2*Math.PI),t.closePath(),t.fill(),t.fillStyle=r.a.Magenta.toString(),t.beginPath(),t.arc(this._bottomRight.x,this._bottomRight.y,5,0,2*Math.PI),t.closePath(),t.fill()},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return h});var i,r=n(1),o=n(133),s=n(3),a=n(9),u=n(7),c=n(15),l=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),h=function(t){function e(e){var n=t.call(this)||this;return n._resourceList=[],n._index=0,n._resourceCount=0,n._numLoaded=0,n._progressCounts={},n._totalCounts={},n.logo="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAdQAAAB2CAYAAABxhGI9AAAACXBIWXMAAAsSAAALEgHS3X78AAAKnUlEQVR42u3dP2wjSx0H8N8hJIonIRmJjsq0SBR+BQ1dcqKhe0lD77SvSwpKkJKGPulpktfRIMUdEqKIqV57rpAokM4dbSiyq7ONPTP7x39ifz7SFbnEnp3xer47O7uzH15fXwMA6OYHmgAABCoACFQAEKgAgEAFAIEKAAIVAAQqACBQAUCgAoBABQCBCgAIVAAQqAAgUAFAoAIAAhUABCoACFQAEKgAgECFLbmOiNeFf2PbAyz68Pr6qhUgbRwR92v+/zwiJrYHMEKFMmcN///UtgcQqFBk1PD/97U9Qx8VCFSgu4EmAIEKAAIVAAQqACBQ4Z25jojP8eX+0WtNAgIVaOY+Im5j+eKh24h41jQgUIEyZ7F5NaPU7wCBCiwYd/w9cOB+qAlgJ3KLLow0EV198803RWvJfvfddx+0lhEqHKu5JgAjVCBvlhmFzjQRXUekHz9+TP79y8uLRjNChXfvoePvAYEKxNtj1e42/O5JoIJABcrdRMRVLM+X3kTEpaaB988cKuzWg9EobTWdMx0Oly8uN4dqhAoARqgnaN3arHfqu7OyH8ItKLVB/P+CEfMTHyGPY3npx1m8zWGDEeoBfUk/xdti57dr/r1Wv2+6EPow3tZ5rRdS72s1neuF97xvWd+XTH0/V+UMttDWqbI/r2nrxfp+jv2uSjSO7S+OXy/A/3lN+9xX5T5HxEUPZZ0tfB71+w57eJ/HFu+z+jkv1u92YX9fbI/HhX3JA9rp5MPr66tWaG9UfUGbrHIzi7cLUyYFf/tpTady03EEeL8mUJ6i7MKYNvWNqr4Pe2jradXO60LrvPAz2PQ5RPX684ah8dxD+2zantnCgVipSVV+m/tgB9W2DDq2Sx/vM95wcHhZhWVJm8yrv58cSgfTdc70+++/X/r522+/tUKSEepBqo+om4ZLPerMjUwuNnQCtx1GWJtee1FwdD5uWd86xLs8UaVt2aNEO1/saZ/Z5rYMW4zq6v34rGV9Bg3q2eZ9SkeNm9qwyUh30OPIHYFKx5FG03C7znSOqYBq+qW/zpQ3anH037TNHluG6f0WPsPhHvab4QFty7ogOeuxDYcNy2/zu2214WNYWxmBurNO8bGn97pNBOO8xy/9uCorZZ4I2r4C7aJgO7ZV9iE49Dm6NvOWx+pWE9CUq3zbdTp9doz38TbXtzqH9RT5CyWe422OaZoZGeZCabrhPQY9HjwsjpTvCg4YtlE2+Ta/j2bzn8fqrDqgm+6yUHOmAvWUjAtGhbNYvsBknDnqH1Qhc7VmxHgeb/NbudA5j/UXlYwif2p6luhAc9teu1npiHKnDs8if6tCm7JLX3NKpgttXe9ruc9mHMd7a83iwdxF5vt8tutARaCeklRnNK9C8WnNF7geJQ4T4XG3JhSnVdilQrG+yOnrlVHfsEGYzhNBn7Lu6tS7+HJafJQ4EMiNlNqWXZ9WPvVgnVYHG5M1ByDXkT6leX2EgTqJtyt45yv7S2qO3sEZjZhDLXeR+YKdJ0Zdk8QocvH9N732KrNtq+FZ/zzIHABcJrYpd+Xv14lOd5ap76SgrduW/VTQ1qcQpqnbgu4ifZvUMNpd9XuoZmvCtPaQ2Y/BCHVLgbrJTeRPDdVf6pfMKDU2fOkHmVFFfXr3MsouLsnNvV5kRoe5+s431PeuoKPqWnaurY/ZPBEeqwceN4l96iwO6H7Mjq4y7VGPVNe10VaZMzVCPVWpI/Z6FZbcv5fMqGCU+dLfFGzj58jP8+bCdJCo7yzKTwdOF0bu9Ug7V4c+yz7FJfYeGoysUss0HssIdVZwYLDujMqlESoCdTtGsZtbHnJBeNdDSJSs0jTKdMJN1HNX54Wv7bvsU9NkVJVa13dX+/wuArV0X/l5RHyo/lnfF4G6p6DrS0kHdtXhy35TGErDPYZUn2WfWqDOo/lVqdMD2O/hKJhD7S/odukymq9s02QN4EEPR/zbaOumZc+r15zK1Zqznl9jsfiemTM1QmV3HUuTkedlg9HIQzRbUD93dfC+2tpj2fIHEH2+RqCCQH13gZq7hWXTNpVu19OB1fc9nQ0AKOKUb5lU0P1kDyOneoWk0lOZ9cIP0x7qu8+2BhCoR2wYu1+e7DmaXzBSsu5vaX1ne2zrpmUPTmxf7PM1Dm4y/vC7ny7Nif7+z/9ZmtM0Z3panPLtPmra9f16bcK0Dpbnwk43Vd/RHtu6zfNQTy1QBy3aqG2g9nVmxml+BOoJyT3NpWmn9xhfFnu4bvDa+44BXhqqfdf3uUF9+yz77AT31Yue2mjecYQ62NLfgkA9ghHqLNEhNem4H1c6vdyDxhf/bpz5m4coW/c39wi6VH2bPtHlcaV9cvXts+zxCe6rTeqc2ndL7uGd93QwM9bFcAzMoZZ7SgTBbWx+asui61h/iq1+RmjqdbnQXQ3T1DNQ63V/U9ucqm/pMzPb1rePsk/1iTOjgvatR4W3Lc8ULB78pELyrnAfeTcj1NU509/86mfJ33/8+Mf00a05UyPUEw7UVCeWG/WNEiExyHRMt5ltW30izUPk18ytt7lNfc8i//DvtvXto+ySA5BjljsLUF8lPkqMPEtW1JomDsiGBZ9Byb4NAvUITSN9GuwsIj6t6UTOqk7jJREkmzqli8xIs96udSO20sX0H1vW92IL9e1a9rgqVyf91gbPsTy9UD9n9lOkT8k+RfkFR5PMNqxOcdSf32PBvg3vilO+zdxE+okx9Wm0ph36XYsRZCpMF993GOk5qvqB3Dct6jvssb67KvuUNJ3frw92bhr8/STSF0JdRPMLpUCgnsgo9S76PZ246ZFk1wWvK5m3vVoYvW1Sz7nN91jfXbQ1ZQc7TW6HeaoOalypG/8/p/rP1aNAc6ZHzSnfdqPUPhdy2PQw6Nz9gSVhuhiqueUHR3uu7y7K3rdDX4u46ZrPbUa0IFBZ0seKQ3XQTRt2vm3W/a2DbNKys++rvm3ep6+y1x2UdP3bWU9lzra47U1GmlctX/sQ23t+aOlByLTh/4NAPaCRxtcdO5HLSJ/6vNtCwGx67VPmPbvWd1q9frKHtp4kAqRJ2HR9j762JfX3bZ//elPtj13PPDx1+D5tqk/Xi6NO8SHz7MmH19dXrdBNfVFP6T2PT1UHNit87/t4m5+aRH+nQBdvqyhZDKJLfZs8h7XPsqdV2ZOV+tanKB8aln0dyxdAXbV4j4gvt4oMOrbP6vbU73NW7TMlbdTnPrWpfqXfh9HKZ9vke7KuTeZRNtXRSe6+1FV//ce/ln5eXfsXgcqXzr6+9261M3moOoa7E6nvTZTfy7iNsmfb7kjfgXGsvxe0vihsEts9HTquPpt1q1vtahu2TqAiUAEEKj0zhwoARqgAu/OnX/442WH+9xc/Wvr58re/Tr7f41/+ZsRqhAoACFQAEKgAcHjMoQJskJsz/eqrr5Z+vvr7v5fmQFevAl5lztQIFQAQqAAgUAHgIJlDBdhgdQ41N2eKESoAIFABQKACwFEwhwoARqgAIFABQKACAAIVAAQqAAhUABCoAIBABQCBCgACFQAEKgAgUAFAoAKAQAUAgQoACFQAEKgAIFABQKACAAIVAAQqAAhUABCoAIBABQCBCgACFQAQqAAgUAFAoAKAQAUAlvwPcFDns1DsH4sAAAAASUVORK5CYII=",n.logoWidth=468,n.logoHeight=118,n.backgroundColor="#176BAA",n.getData=function(){},n.setData=function(){},n.processData=function(){},n.onprogress=function(t){s.b.getInstance().debug("[ex.Loader] Loading "+(100*t.loaded/t.total).toFixed(0))},n.oncomplete=function(){},n.onerror=function(){},e&&n.addResources(e),n}return l(e,t),Object.defineProperty(e.prototype,"_image",{get:function(){return this._imageElement||(this._imageElement=new Image,this._imageElement.src=this.logo),this._imageElement},enumerable:!0,configurable:!0}),e.prototype.wireEngine=function(t){this._engine=t},e.prototype.addResource=function(t){var e=this._index++;this._resourceList.push(t),this._progressCounts[e]=0,this._totalCounts[e]=1,this._resourceCount++},e.prototype.addResources=function(t){for(var e=0,n=t.length;e<n;e++)this.addResource(t[e])},e.prototype.isLoaded=function(){return this._numLoaded===this._resourceCount},e.prototype.load=function(){var t=this,e=new a.a,n=this;if(0===this._resourceList.length)return n.oncomplete.call(n),e.resolve();var i=new Array(this._resourceList.length),r=this._resourceList.length;return this._resourceList.forEach(function(o,s){t._engine&&o.wireEngine(t._engine),o.onprogress=function(t){var e=t.total,o=t.loaded;i[s]={loaded:o/e*(100/r),total:100};var a=i.reduce(function(t,e){return{loaded:t.loaded+e.loaded,total:100}},{loaded:0,total:100});n.onprogress.call(n,a)},o.oncomplete=o.onerror=function(){n._numLoaded++,n._numLoaded===n._resourceCount&&(n.oncomplete.call(n),e.resolve())}}),function t(e,n){e[n]&&e[n].load().then(function(){t(e,n+1)})}(this._resourceList,0),e},e.prototype.draw=function(t){var e=this._engine.canvasHeight/window.devicePixelRatio,n=this._engine.canvasWidth/window.devicePixelRatio;t.fillStyle=this.backgroundColor,t.fillRect(0,0,n,e);var i=e/2,o=Math.min(this.logoWidth,.75*n),s=n/2-o/2,a=Math.floor(o*(this.logoHeight/this.logoWidth)),u=this._engine.getAntialiasing();this._engine.setAntialiasing(!0),t.drawImage(this._image,0,0,this.logoWidth,this.logoHeight,s,i-a-20,o,a),t.lineWidth=2,c.c(t,s,i,o,20,10);var l=o*(this._numLoaded/this._resourceCount)-10;c.c(t,s+5,i+5,l>0?l:0,10,5,null,r.a.White),this._engine.setAntialiasing(u)},e.prototype.update=function(t,e){},e}(u.a);!function(t){function e(e,n){var i=t.call(this,n)||this;return i._handleOnTrigger=function(){return i._waitPromise.state()===a.b.Pending&&(o.a.unlock(),i._waitPromise.resolve(i._loadedValue),i._playTrigger.style.display="none",!1)},i._playTrigger=document.getElementById(e),i._playTrigger.addEventListener("click",i._handleOnTrigger),i}l(e,t),e.prototype.load=function(){var e=this;return this._waitPromise=new a.a,t.prototype.load.call(this).then(function(t){e._loadedValue=t,e._playTrigger.style.display="block"},function(t){e._waitPromise.reject(t)}),this._waitPromise}}(h)},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(3),r={webgl:"WebGL",webaudio:"WebAudio",gamepadapi:"Gamepad API"},o=function(){function t(){this._features=null,this.failedTests=[],this._criticalTests={canvasSupport:function(){var t=document.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))},arrayBufferSupport:function(){var t=new XMLHttpRequest;t.open("GET","/");try{t.responseType="arraybuffer"}catch(t){return!1}return"arraybuffer"===t.responseType},dataUrlSupport:function(){return 0===document.createElement("canvas").toDataURL("image/png").indexOf("data:image/png")},objectUrlSupport:function(){return"URL"in window&&"revokeObjectURL"in URL&&"createObjectURL"in URL},rgbaSupport:function(){var t=document.createElement("a").style;return t.cssText="background-color:rgba(150,255,150,.5)",(""+t.backgroundColor).indexOf("rgba")>-1}},this._warningTest={webAudioSupport:function(){return!!(window.AudioContext||window.webkitAudioContext||window.mozAudioContext||window.msAudioContext||window.oAudioContext)},webglSupport:function(){var t=document.createElement("canvas");return!(!t.getContext||!t.getContext("webgl"))}},this._features=this._loadBrowserFeatures()}return t.prototype.getBrowserFeatures=function(){return null===this._features&&(this._features=this._loadBrowserFeatures()),this._features},t.prototype.logBrowserFeatures=function(){for(var t="%cSUPPORTED BROWSER FEATURES\n==========================%c\n",e=["font-weight: bold; color: navy","font-weight: normal; color: inherit"],n=this.getBrowserFeatures(),i=0,o=Object.keys(r);i<o.length;i++){var s=o[i];n[s]?(t+="(%c\u2713%c)",e.push("font-weight: bold; color: green"),e.push("font-weight: normal; color: inherit")):(t+="(%c\u2717%c)",e.push("font-weight: bold; color: red"),e.push("font-weight: normal; color: inherit")),t+=" "+r[s]+"\n"}e.unshift(t),console.log.apply(console,e)},t.prototype._loadBrowserFeatures=function(){var t=this;return{canvas:t._criticalTests.canvasSupport(),arraybuffer:t._criticalTests.arrayBufferSupport(),dataurl:t._criticalTests.dataUrlSupport(),objecturl:t._criticalTests.objectUrlSupport(),rgba:t._criticalTests.rgbaSupport(),webaudio:t._warningTest.webAudioSupport(),webgl:t._warningTest.webglSupport(),gamepadapi:!!navigator.getGamepads}},t.prototype.test=function(){var t=!1;for(var e in this._criticalTests)this._criticalTests[e].call(this)||(this.failedTests.push(e),i.b.getInstance().error("Critical browser feature missing, Excalibur requires:",e),t=!0);if(t)return!1;for(var n in this._warningTest)this._warningTest[n]()||i.b.getInstance().warn("Warning browser feature missing, Excalibur will have reduced performance:",n);return!0},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return b});var i,r=n(19),o=n(6),s=n(2),a=n(3),u=n(37),c=n(66),l=n(68),h=n(69),p=n(38),f=n(70),d=n(5),y=n(7),g=n(4),_=n(71),v=n(41),m=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),b=function(t){function e(e){var n=t.call(this)||this;return n.actors=[],n.triggers=[],n.tileMaps=[],n.groups={},n.uiActors=[],n._isInitialized=!1,n._sortedDrawingTree=new l.a(d.a.prototype.getZIndex),n._broadphase=new c.a,n._killQueue=[],n._triggerKillQueue=[],n._timers=[],n._cancelQueue=[],n._logger=a.b.getInstance(),n.camera=new f.a,e&&(n.camera.x=e.halfDrawWidth,n.camera.y=e.halfDrawHeight),n}return m(e,t),e.prototype.on=function(e,n){t.prototype.on.call(this,e,n)},e.prototype.once=function(e,n){t.prototype.once.call(this,e,n)},e.prototype.off=function(e,n){t.prototype.off.call(this,e,n)},e.prototype.onInitialize=function(t){},e.prototype.onActivate=function(t,e){},e.prototype.onDeactivate=function(t,e){},e.prototype.onPreUpdate=function(t,e){},e.prototype.onPostUpdate=function(t,e){},e.prototype.onPreDraw=function(t,e){},e.prototype.onPostDraw=function(t,e){},e.prototype._initializeChildren=function(){for(var t=0,e=this.actors;t<e.length;t++){e[t]._initialize(this.engine)}},Object.defineProperty(e.prototype,"isInitialized",{get:function(){return this._isInitialized},enumerable:!0,configurable:!0}),e.prototype._initialize=function(t){this.isInitialized||(this.camera&&(this.camera.x=t.halfDrawWidth,this.camera.y=t.halfDrawHeight),this._initializeChildren(),this._logger.debug("Scene.onInitialize",this,t),this.eventDispatcher.emit("initialize",new s.q(t,this)),this.onInitialize.call(this,t),this._isInitialized=!0)},e.prototype._activate=function(t,e){this._logger.debug("Scene.onActivate",this),this.onActivate(t,e)},e.prototype._deactivate=function(t,e){this._logger.debug("Scene.onDectivate",this),this.onDeactivate(t,e)},e.prototype._preupdate=function(t,e){this.emit("preupdate",new s.D(t,e,this)),this.onPreUpdate(t,e)},e.prototype._postupdate=function(t,e){this.emit("postupdate",new s.x(t,e,this)),this.onPostUpdate(t,e)},e.prototype._predraw=function(t,e){this.emit("predraw",new s.A(t,e,this)),this.onPreDraw(t,e)},e.prototype._postdraw=function(t,e){this.emit("postdraw",new s.u(t,e,this)),this.onPostDraw(t,e)},e.prototype.update=function(t,e){var n,i;for(this._preupdate(t,e),n=0,i=this._cancelQueue.length;n<i;n++)this.removeTimer(this._cancelQueue[n]);this._cancelQueue.length=0;for(var r=0,s=this._timers;r<s.length;r++){s[r].update(e)}for(n=0,i=this.uiActors.length;n<i;n++)this.uiActors[n].update(t,e);for(n=0,i=this.tileMaps.length;n<i;n++)this.tileMaps[n].update(t,e);for(n=0,i=this.actors.length;n<i;n++)this.actors[n].update(t,e);for(n=0,i=this.triggers.length;n<i;n++)this.triggers[n].update(t,e);if(this._collectActorStats(t),t.input.pointers.propagate(),this._broadphase&&o.b.enabled){var a=Date.now();this._broadphase.update(this.actors,e);for(var u=this._broadphase.broadphase(this.actors,e,t.stats.currFrame),c=Date.now(),l=Date.now(),h=o.b.collisionPasses,p=e/h;h>0;)u=this._broadphase.narrowphase(u,t.stats.currFrame),u=this._broadphase.resolve(u,p,o.b.collisionResolutionStrategy),this._broadphase.runCollisionStartEnd(u),h--;var f=Date.now();t.stats.currFrame.physics.broadphase=c-a,t.stats.currFrame.physics.narrowphase=f-l}t.stats.currFrame.actors.killed=this._killQueue.length+this._triggerKillQueue.length,this._processKillQueue(this._killQueue,this.actors),this._processKillQueue(this._triggerKillQueue,this.triggers),this.camera&&this.camera.update(t,e),this._postupdate(t,e)},e.prototype._processKillQueue=function(t,e){for(var n,i=0,r=t;i<r.length;i++){var o=r[i];(n=e.indexOf(o))>-1&&(this._sortedDrawingTree.removeByComparable(o),e.splice(n,1))}t.length=0},e.prototype.draw=function(t,e){var n,i;for(this._predraw(t,e),t.save(),this.camera&&this.camera.draw(t),n=0,i=this.tileMaps.length;n<i;n++)this.tileMaps[n].draw(t,e);var r=this._sortedDrawingTree.list();for(n=0,i=r.length;n<i;n++)r[n].visible&&!r[n].isOffScreen&&r[n].draw(t,e);for(this.engine&&this.engine.isDebug&&(t.strokeStyle="yellow",this.debugDraw(t)),t.restore(),n=0,i=this.uiActors.length;n<i;n++)this.uiActors[n].visible&&this.uiActors[n].draw(t,e);if(this.engine&&this.engine.isDebug)for(n=0,i=this.uiActors.length;n<i;n++)this.uiActors[n].debugDraw(t);this._postdraw(t,e)},e.prototype.debugDraw=function(t){var e,n;for(this.emit("predebugdraw",new s.z(t,this)),e=0,n=this.tileMaps.length;e<n;e++)this.tileMaps[e].debugDraw(t);for(e=0,n=this.actors.length;e<n;e++)this.actors[e].debugDraw(t);for(e=0,n=this.triggers.length;e<n;e++)this.triggers[e].debugDraw(t);this._broadphase.debugDraw(t,20),this.camera.debugDraw(t),this.emit("postdebugdraw",new s.t(t,this))},e.prototype.contains=function(t){return this.actors.indexOf(t)>-1},e.prototype.add=function(t){t instanceof d.a&&t.unkill(),t instanceof r.a?g.e(this.uiActors,t)||this.addUIActor(t):t instanceof d.a?g.e(this.actors,t)||this._addChild(t):t instanceof u.a?g.e(this._timers,t)||this.addTimer(t):t instanceof p.a&&(g.e(this.tileMaps,t)||this.addTileMap(t))},e.prototype.remove=function(t){t instanceof r.a?this.removeUIActor(t):(t instanceof d.a&&(this._removeChild(t),t.isKilled()||t.kill()),t instanceof u.a&&this.removeTimer(t),t instanceof p.a&&this.removeTileMap(t))},e.prototype.addUIActor=function(t){this.uiActors.push(t),t.scene=this},e.prototype.removeUIActor=function(t){var e=this.uiActors.indexOf(t);e>-1&&this.uiActors.splice(e,1)},e.prototype._addChild=function(t){this._broadphase.track(t.body),t.scene=this,t instanceof v.a?this.triggers.push(t):this.actors.push(t),this._sortedDrawingTree.add(t)},e.prototype.addTileMap=function(t){this.tileMaps.push(t)},e.prototype.removeTileMap=function(t){var e=this.tileMaps.indexOf(t);e>-1&&this.tileMaps.splice(e,1)},e.prototype._removeChild=function(t){this._broadphase.untrack(t.body),t instanceof v.a?this._triggerKillQueue.push(t):this._killQueue.push(t),t.parent=null},e.prototype.addTimer=function(t){return this._timers.push(t),t.scene=this,t},e.prototype.removeTimer=function(t){var e=this._timers.indexOf(t);return-1!==e&&this._timers.splice(e,1),t},e.prototype.cancelTimer=function(t){return this._cancelQueue.push(t),t},e.prototype.isTimerActive=function(t){return this._timers.indexOf(t)>-1&&!t.complete},e.prototype.createGroup=function(t){return new h.a(t,this)},e.prototype.getGroup=function(t){return this.groups[t]},e.prototype.removeGroup=function(t){"string"===typeof t?delete this.groups[t]:t instanceof h.a?delete this.groups[t.name]:this._logger.error("Invalid arguments to removeGroup",t)},e.prototype.cleanupDrawTree=function(t){this._sortedDrawingTree.removeByComparable(t)},e.prototype.updateDrawTree=function(t){this._sortedDrawingTree.add(t)},e.prototype.isCurrentScene=function(){return!!this.engine&&this.engine.currentScene===this},e.prototype._collectActorStats=function(t){for(var e=0,n=this.uiActors;e<n.length;e++){n[e];t.stats.currFrame.actors.ui++}for(var i=0,r=this.actors;i<r.length;i++){var o=r[i];t.stats.currFrame.actors.alive++;for(var s=0,a=o.children;s<a.length;s++){var u=a[s];_.a(u)?t.stats.currFrame.actors.ui++:t.stats.currFrame.actors.alive++}}},e}(y.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n(6),r=n(67),o=n(26),s=n(0),a=n(5),u=n(3),c=n(2),l=function(){function t(){this._dynamicCollisionTree=new r.a,this._collisionHash={},this._collisionPairCache=[],this._lastFramePairs=[],this._lastFramePairsHash={}}return t.prototype.track=function(t){t?this._dynamicCollisionTree.trackBody(t):u.b.getInstance().warn("Cannot track null physics body")},t.prototype.untrack=function(t){t?this._dynamicCollisionTree.untrackBody(t):u.b.getInstance().warn("Cannot untrack a null physics body")},t.prototype._canCollide=function(t,e){var n=o.a.calculatePairHash(t.body,e.body);return!this._collisionHash[n]&&((t.collisionType!==a.b.Fixed||e.collisionType!==a.b.Fixed)&&(e.collisionType!==a.b.PreventCollision&&!e.isKilled()))},t.prototype.broadphase=function(t,e,n){var r=this,u=e/1e3,c=t.filter(function(t){return!t.isKilled()&&t.collisionType!==a.b.PreventCollision});this._collisionPairCache=[],this._collisionHash={};for(var l=0,h=c.length;l<h;l++)d=c[l],this._dynamicCollisionTree.query(d.body,function(t){if(r._canCollide(d,t.actor)){var e=new o.a(d.body,t);r._collisionHash[e.id]=!0,r._collisionPairCache.push(e)}return!1});if(n&&(n.physics.pairs=this._collisionPairCache.length),i.b.checkForFastBodies)for(var p=0,f=c;p<f.length;p++){var d;if((d=f[p]).collisionType===a.b.Active){var y=d.vel.magnitude()*u+.5*d.acc.magnitude()*u*u,g=Math.min(d.body.getBounds().getHeight(),d.body.getBounds().getWidth());if(i.b.disableMinimumSpeedForFastBody||y>g/2){n&&n.physics.fastBodies++;var _,v=d.pos.sub(d.oldPos),m=d.body.collisionArea.getCenter(),b=d.body.collisionArea.getFurthestPoint(d.vel),w=b.sub(v),x=new s.d(w,d.vel);x.pos=x.pos.add(x.dir.scale(-2*i.b.surfaceEpsilon));var P=new s.e(1/0,1/0);if(this._dynamicCollisionTree.rayCastQuery(x,y+2*i.b.surfaceEpsilon,function(t){if(d.body!==t&&t.collisionArea){var e=t.collisionArea.rayCast(x,y+10*i.b.surfaceEpsilon);if(e){var n=e.sub(w);n.magnitude()<P.magnitude()&&(P=n,_=t)}}return!1}),_&&s.e.isValid(P)){var S=new o.a(d.body,_);this._collisionHash[S.id]||(this._collisionHash[S.id]=!0,this._collisionPairCache.push(S));var E=m.sub(b);d.pos=w.add(E).add(P).add(x.dir.scale(2*i.b.surfaceEpsilon)),d.body.collisionArea.recalc(),n&&n.physics.fastBodyCollisions++}}}}return this._collisionPairCache},t.prototype.narrowphase=function(t,e){for(var n=0;n<t.length;n++)t[n].collide(),e&&t[n].collision&&(e.physics.collisions++,e.physics.collidersHash[t[n].id]=t[n]);return t.filter(function(t){return t.collision})},t.prototype.resolve=function(t,e,n){for(var r=0,o=t;r<o.length;r++){var s=o[r];s.resolve(n),s.collision&&(s.bodyA.applyMtv(),s.bodyB.applyMtv(),s.bodyA.actor.integrate(e*i.b.collisionShift),s.bodyB.actor.integrate(e*i.b.collisionShift))}return t.filter(function(t){return t.canCollide})},t.prototype.runCollisionStartEnd=function(t){for(var e={},n=0,i=t;n<i.length;n++){if(e[(u=i[n]).id]=u,!this._lastFramePairsHash[u.id]){var r=u.bodyA.actor,o=u.bodyB.actor;r.emit("collisionstart",new c.c(r,o,u)),o.emit("collisionstart",new c.c(o,r,u))}}for(var s=0,a=this._lastFramePairs;s<a.length;s++){var u;if(!e[(u=a[s]).id]){r=u.bodyA.actor,o=u.bodyB.actor;r.emit("collisionend",new c.b(r,o)),o.emit("collisionend",new c.b(o,r))}}this._lastFramePairs=t,this._lastFramePairsHash=e},t.prototype.update=function(t){for(var e=0,n=0,i=t.length;n<i;n++)this._dynamicCollisionTree.updateBody(t[n].body)&&e++;return e},t.prototype.debugDraw=function(t){if(i.b.broadphaseDebug&&this._dynamicCollisionTree.debugDraw(t),i.b.showContacts||i.b.showCollisionNormals)for(var e=0,n=this._collisionPairCache;e<n.length;e++){n[e].debugDraw(t)}},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(6),r=n(10),o=n(3),s=function(){function t(t){this.parent=t,this.parent=t||null,this.body=null,this.bounds=new r.a,this.left=null,this.right=null,this.height=0}return t.prototype.isLeaf=function(){return!this.left&&!this.right},t}(),a=function(){function t(t){void 0===t&&(t=new r.a(-Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE)),this.worldBounds=t,this.root=null,this.nodes={}}return t.prototype._insert=function(t){if(null===this.root)return this.root=t,void(this.root.parent=null);for(var e=t.bounds,n=this.root;!n.isLeaf();){var i,r=n.left,o=n.right,a=n.bounds.getPerimeter(),u=n.bounds.combine(e).getPerimeter(),c=2*u,l=2*(u-a),h=0,p=e.combine(r.bounds);r.isLeaf()?h=p.getPerimeter()+l:(i=r.bounds.getPerimeter(),h=p.getPerimeter()-i+l);var f=0,d=e.combine(o.bounds);if(o.isLeaf()?f=d.getPerimeter()+l:(i=o.bounds.getPerimeter(),f=d.getPerimeter()-i+l),c<h&&c<f)break;n=h<f?r:o}var y=n.parent,g=new s(y);g.bounds=e.combine(n.bounds),g.height=n.height+1,null!==y?(y.left===n?y.left=g:y.right=g,g.left=n,g.right=t,n.parent=g,t.parent=g):(g.left=n,g.right=t,n.parent=g,t.parent=g,this.root=g);for(var _=t.parent;_;){if(!(_=this._balance(_)).left)throw new Error("Parent of current leaf cannot have a null left child"+_);if(!_.right)throw new Error("Parent of current leaf cannot have a null right child"+_);_.height=1+Math.max(_.left.height,_.right.height),_.bounds=_.left.bounds.combine(_.right.bounds),_=_.parent}},t.prototype._remove=function(t){if(t!==this.root){var e,n=t.parent,i=n.parent;if(e=n.left===t?n.right:n.left,i){i.left===n?i.left=e:i.right=e,e.parent=i;for(var r=i;r;)(r=this._balance(r)).bounds=r.left.bounds.combine(r.right.bounds),r.height=1+Math.max(r.left.height,r.right.height),r=r.parent}else this.root=e,e.parent=null}else this.root=null},t.prototype.trackBody=function(t){var e=new s;e.body=t,e.bounds=t.getBounds(),e.bounds.left-=2,e.bounds.top-=2,e.bounds.right+=2,e.bounds.bottom+=2,this.nodes[t.actor.id]=e,this._insert(e)},t.prototype.updateBody=function(t){var e=this.nodes[t.actor.id];if(!e)return!1;var n=t.getBounds();if(!this.worldBounds.contains(n))return o.b.getInstance().warn("Actor with id "+t.actor.id+" is outside the world bounds and will no longer be tracked for physics"),this.untrackBody(t),!1;if(e.bounds.contains(n))return!1;this._remove(e),n.left-=i.b.boundsPadding,n.top-=i.b.boundsPadding,n.right+=i.b.boundsPadding,n.bottom+=i.b.boundsPadding;var r=t.vel.x*i.b.dynamicTreeVelocityMultiplyer,s=t.vel.y*i.b.dynamicTreeVelocityMultiplyer;return r<0?n.left+=r:n.right+=r,s<0?n.top+=s:n.bottom+=s,e.bounds=n,this._insert(e),!0},t.prototype.untrackBody=function(t){var e=this.nodes[t.actor.id];e&&(this._remove(e),this.nodes[t.actor.id]=null,delete this.nodes[t.actor.id])},t.prototype._balance=function(t){if(null===t)throw new Error("Cannot balance at null node");if(t.isLeaf()||t.height<2)return t;var e=t.left,n=t.right,i=t,r=e,o=n,s=e.left,a=e.right,u=n.left,c=n.right,l=o.height-r.height;if(l>1)return o.left=i,o.parent=i.parent,i.parent=o,o.parent?o.parent.left===i?o.parent.left=o:o.parent.right=o:this.root=o,u.height>c.height?(o.right=u,i.right=c,c.parent=i,i.bounds=r.bounds.combine(c.bounds),o.bounds=i.bounds.combine(u.bounds),i.height=1+Math.max(r.height,c.height),o.height=1+Math.max(i.height,u.height)):(o.right=c,i.right=u,u.parent=i,i.bounds=r.bounds.combine(u.bounds),o.bounds=i.bounds.combine(c.bounds),i.height=1+Math.max(r.height,u.height),o.height=1+Math.max(i.height,c.height)),o;if(l<-1){if(r.left=i,r.parent=i.parent,i.parent=r,r.parent)if(r.parent.left===i)r.parent.left=r;else{if(r.parent.right!==i)throw"Error rotating Dynamic Tree";r.parent.right=r}else this.root=r;return s.height>a.height?(r.right=s,i.left=a,a.parent=i,i.bounds=o.bounds.combine(a.bounds),r.bounds=i.bounds.combine(s.bounds),i.height=1+Math.max(o.height,a.height),r.height=1+Math.max(i.height,s.height)):(r.right=a,i.left=s,s.parent=i,i.bounds=o.bounds.combine(s.bounds),r.bounds=i.bounds.combine(a.bounds),i.height=1+Math.max(o.height,s.height),r.height=1+Math.max(i.height,a.height)),r}return t},t.prototype.getHeight=function(){return null===this.root?0:this.root.height},t.prototype.query=function(t,e){var n=t.getBounds(),i=function(r){if(r&&r.bounds.collides(n)){if(!r.isLeaf()||r.body===t)return i(r.left)||i(r.right);if(e.call(t,r.body))return!0}return!1};i(this.root)},t.prototype.rayCastQuery=function(t,e,n){void 0===e&&(e=1/0);var i=function(r){if(r&&r.bounds.rayCast(t,e)){if(!r.isLeaf())return i(r.left)||i(r.right);if(n.call(t,r.body))return!0}return!1};i(this.root)},t.prototype.getNodes=function(){var t=function(e){return e?[e].concat(t(e.left),t(e.right)):[]};return t(this.root)},t.prototype.debugDraw=function(t){var e=function(n){n&&(n.isLeaf()?(t.lineWidth=1,t.strokeStyle="green"):(t.lineWidth=1,t.strokeStyle="white"),n.bounds.debugDraw(t),n.left&&e(n.left),n.right&&e(n.right))};e(this.root)},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(t){this._getComparable=t}return t.prototype.find=function(t){return this._find(this._root,t)},t.prototype._find=function(t,e){return null!=t&&(this._getComparable.call(e)===t.getKey()?t.getData().indexOf(e)>-1:this._getComparable.call(e)<t.getKey()?this._find(t.getLeft(),e):this._find(t.getRight(),e))},t.prototype.get=function(t){return this._get(this._root,t)},t.prototype._get=function(t,e){return null==t?[]:e===t.getKey()?t.getData():e<t.getKey()?this._get(t.getLeft(),e):this._get(t.getRight(),e)},t.prototype.add=function(t){return null==this._root?(this._root=new r(this._getComparable.call(t),[t],null,null),!0):this._insert(this._root,t)},t.prototype._insert=function(t,e){return null!=t&&(this._getComparable.call(e)===t.getKey()?!(t.getData().indexOf(e)>-1)&&(t.getData().push(e),!0):this._getComparable.call(e)<t.getKey()?null==t.getLeft()?(t.setLeft(new r(this._getComparable.call(e),[e],null,null)),!0):this._insert(t.getLeft(),e):null==t.getRight()?(t.setRight(new r(this._getComparable.call(e),[e],null,null)),!0):this._insert(t.getRight(),e))},t.prototype.removeByComparable=function(t){this._root=this._remove(this._root,t)},t.prototype._remove=function(t,e){if(null==t)return null;if(this._getComparable.call(e)!==t.getKey())return this._getComparable.call(e)<t.getKey()?(t.setLeft(this._remove(t.getLeft(),e)),t):(t.setRight(this._remove(t.getRight(),e)),t);var n=t.getData().indexOf(e);if(n>-1){if(t.getData().splice(n,1),0===t.getData().length){if(null==t.getLeft()&&null==t.getRight())return null;if(null==t.getLeft())return t.getRight();if(null==t.getRight())return t.getLeft();var i=this._findMinNode(t.getRight());return t.setKey(i.getKey()),t.setData(i.getData()),t.setRight(this._cleanup(t.getRight(),i)),t}return t}return null},t.prototype._cleanup=function(t,e){var n=e.getKey();if(null==t)return null;if(n===t.getKey()){if(null==t.getLeft()&&null==t.getRight())return null;if(null==t.getLeft())return t.getRight();if(null==t.getRight())return t.getLeft();var i=this._findMinNode(t.getRight());return t.setKey(i.getKey()),t.setData(i.getData()),t.setRight(this._cleanup(t.getRight(),i)),t}return this._getComparable.call(e)<t.getKey()?(t.setLeft(this._cleanup(t.getLeft(),e)),t):(t.setRight(this._cleanup(t.getRight(),e)),t)},t.prototype._findMinNode=function(t){for(var e=t;null!=e.getLeft();)e=e.getLeft();return e},t.prototype.list=function(){var t=new Array;return this._list(this._root,t),t},t.prototype._list=function(t,e){null!=t&&(this._list(t.getLeft(),e),t.getData().forEach(function(t){e.push(t)}),this._list(t.getRight(),e))},t}(),r=function(){function t(t,e,n,i){this._key=t,this._data=e,this._left=n,this._right=i}return t.prototype.getKey=function(){return this._key},t.prototype.setKey=function(t){this._key=t},t.prototype.getData=function(){return this._data},t.prototype.setData=function(t){this._data=t},t.prototype.getLeft=function(){return this._left},t.prototype.setLeft=function(t){this._left=t},t.prototype.getRight=function(){return this._right},t.prototype.setRight=function(t){this._right=t},t}();!function(){function t(t){this._key=0,this._key=t}t.prototype.getTheKey=function(){return this._key},t.prototype.setKey=function(t){this._key=t}}()},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i,r=n(0),o=n(35),s=n(5),a=n(3),u=n(7),c=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t){function e(e,n){var i=t.call(this)||this;(i.name=e,i.scene=n,i._logger=a.b.getInstance(),i._members=[],i.actions=new o.a,null==n)?i._logger.error("Invalid constructor arguments passed to Group: ",e,", scene must not be null!"):(n.groups[e]&&i._logger.warn("Group with name",e,"already exists. This new group will replace it."),n.groups[e]=i);return i}return c(e,t),e.prototype.add=function(t){t instanceof s.a&&(t=[].concat(t));for(var e=0,n=t.length;e<n;e++)-1===this.getMembers().indexOf(t[e])&&(this._members.push(t[e]),this.scene.add(t[e]),this.actions.addActorToContext(t[e]),this.eventDispatcher.wire(t[e].eventDispatcher))},e.prototype.remove=function(t){var e=this._members.indexOf(t);e>-1&&(this._members.splice(e,1),this.actions.removeActorFromContext(t),this.eventDispatcher.unwire(t.eventDispatcher))},e.prototype.move=function(t){var e=0,n=this.getMembers(),i=n.length;if(1===arguments.length&&t instanceof r.e)for(;e<i;e++)n[e].pos.x+=t.x,n[e].pos.y+=t.y;else if("number"===typeof arguments[0]&&"number"===typeof arguments[1])for(var o=arguments[0],s=arguments[1];e<i;e++)n[e].pos.x+=o,n[e].pos.y+=s;else this._logger.error("Invalid arguments passed to group move",this.name,"args:",arguments)},e.prototype.rotate=function(t){if("number"===typeof t)for(var e=0,n=this.getMembers();e<n.length;e++){n[e].rotation+=t}else this._logger.error("Invalid arguments passed to group rotate",this.name,"args:",arguments)},e.prototype.on=function(t,e){this.eventDispatcher.on(t,e)},e.prototype.off=function(t,e){this.eventDispatcher.off(t,e)},e.prototype.emit=function(t,e){this.eventDispatcher.emit(t,e)},e.prototype.contains=function(t){return this.getMembers().indexOf(t)>-1},e.prototype.getMembers=function(){return this._members},e.prototype.getRandomMember=function(){return this._members[Math.floor(Math.random()*this._members.length)]},e.prototype.getBounds=function(){return this.getMembers().map(function(t){return t.getBounds()}).reduce(function(t,e){return t.combine(e)})},e}(u.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return _});var i,r,o=n(36),s=n(9),a=n(0),u=n(4),c=n(2),l=n(7),h=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),p=function(){function t(t){this.camera=t}return t.prototype.lockToActor=function(t){this.camera.addStrategy(new f(t))},t.prototype.lockToActorAxis=function(t,e){this.camera.addStrategy(new d(t,e))},t.prototype.elasticToActor=function(t,e,n){this.camera.addStrategy(new y(t,e,n))},t.prototype.radiusAroundActor=function(t,e){this.camera.addStrategy(new g(t,e))},t}();!function(t){t[t.X=0]="X",t[t.Y=1]="Y"}(r||(r={}));var f=function(){return function(t){this.target=t,this.action=function(t,e,n,i){return t.getCenter()}}}(),d=function(){return function(t,e){var n=this;this.target=t,this.axis=e,this.action=function(t,e,i,o){var s=t.getCenter(),u=e.getFocus();return n.axis===r.X?new a.e(s.x,u.y):new a.e(u.x,s.y)}}}(),y=function(){return function(t,e,n){var i=this;this.target=t,this.cameraElasticity=e,this.cameraFriction=n,this.action=function(t,e,n,r){var o=t.getCenter(),s=e.getFocus(),u=new a.e(e.dx,e.dy),c=o.sub(s).scale(i.cameraElasticity),l=(u=u.add(c)).scale(-1).scale(i.cameraFriction);return u=u.add(l),s=s.add(u)}}}(),g=function(){return function(t,e){var n=this;this.target=t,this.radius=e,this.action=function(t,e,i,r){var o=t.getCenter(),s=e.getFocus(),a=o.sub(s),u=a.magnitude();if(u>=n.radius){var c=u-n.radius;return s.add(a.normalize().scale(c))}return s}}}(),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._cameraStrategies=[],e.strategy=new p(e),e.z=1,e.dx=0,e.dy=0,e.dz=0,e.ax=0,e.ay=0,e.az=0,e.rotation=0,e.rx=0,e._x=0,e._y=0,e._cameraMoving=!1,e._currentLerpTime=0,e._lerpDuration=1e3,e._lerpStart=null,e._lerpEnd=null,e._isShaking=!1,e._shakeMagnitudeX=0,e._shakeMagnitudeY=0,e._shakeDuration=0,e._elapsedShakeTime=0,e._xShake=0,e._yShake=0,e._isZooming=!1,e._zoomStart=1,e._zoomEnd=1,e._currentZoomTime=0,e._zoomDuration=0,e._zoomEasing=o.a.EaseInOutCubic,e._easing=o.a.EaseInOutCubic,e._isInitialized=!1,e}return h(e,t),Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(t){this._follow||this._cameraMoving||(this._x=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(t){this._follow||this._cameraMoving||(this._y=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pos",{get:function(){return new a.e(this.x,this.y)},set:function(t){this.x=t.x,this.y=t.y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"vel",{get:function(){return new a.e(this.dx,this.dy)},set:function(t){this.dx=t.x,this.dy=t.y},enumerable:!0,configurable:!0}),e.prototype.getFocus=function(){return new a.e(this.x,this.y)},e.prototype.move=function(t,e,n){if(void 0===n&&(n=o.a.EaseInOutCubic),"function"!==typeof n)throw"Please specify an EasingFunction";return this._follow?(new s.a).reject(t):(this._lerpPromise&&this._lerpPromise.state()===s.b.Pending&&this._lerpPromise.resolve(t),this._lerpPromise=new s.a,this._lerpStart=this.getFocus().clone(),this._lerpDuration=e,this._lerpEnd=t,this._currentLerpTime=0,this._cameraMoving=!0,this._easing=n,this._lerpPromise)},e.prototype.shake=function(t,e,n){this._isShaking=!0,this._shakeMagnitudeX=t,this._shakeMagnitudeY=e,this._shakeDuration=n},e.prototype.zoom=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=o.a.EaseInOutCubic),this._zoomPromise=new s.a,e?(this._isZooming=!0,this._zoomEasing=n,this._currentZoomTime=0,this._zoomDuration=e,this._zoomStart=this.z,this._zoomEnd=t):(this._isZooming=!1,this.z=t,this._zoomPromise.resolve(!0)),this._zoomPromise},e.prototype.getZoom=function(){return this.z},e.prototype.addStrategy=function(t){this._cameraStrategies.push(t)},e.prototype.removeStrategy=function(t){Object(u.k)(t,this._cameraStrategies)},e.prototype.clearAllStrategies=function(){this._cameraStrategies.length=0},e.prototype._preupdate=function(t,e){this.emit("preupdate",new c.D(t,e,this)),this.onPreUpdate(t,e)},e.prototype.onPreUpdate=function(t,e){},e.prototype._postupdate=function(t,e){this.emit("postupdate",new c.x(t,e,this)),this.onPostUpdate(t,e)},e.prototype.onPostUpdate=function(t,e){},Object.defineProperty(e.prototype,"isInitialized",{get:function(){return this._isInitialized},enumerable:!0,configurable:!0}),e.prototype._initialize=function(e){this.isInitialized||(this.onInitialize(e),t.prototype.emit.call(this,"initialize",new c.q(e,this)),this._isInitialized=!0)},e.prototype.onInitialize=function(t){},e.prototype.on=function(e,n){t.prototype.on.call(this,e,n)},e.prototype.off=function(e,n){t.prototype.off.call(this,e,n)},e.prototype.once=function(e,n){t.prototype.once.call(this,e,n)},e.prototype.update=function(t,e){if(this._initialize(t),this._preupdate(t,e),this._x+=this.dx*e/1e3,this._y+=this.dy*e/1e3,this.z+=this.dz*e/1e3,this.dx+=this.ax*e/1e3,this.dy+=this.ay*e/1e3,this.dz+=this.az*e/1e3,this.rotation+=this.rx*e/1e3,this._isZooming)if(this._currentZoomTime<this._zoomDuration){var n=(0,this._zoomEasing)(this._currentZoomTime,this._zoomStart,this._zoomEnd,this._zoomDuration);this.z=n,this._currentZoomTime+=e}else this._isZooming=!1,this.z=this._zoomEnd,this._currentZoomTime=0,this._zoomPromise.resolve(!0);if(this._cameraMoving)if(this._currentLerpTime<this._lerpDuration){var i=o.a.CreateVectorEasingFunction(this._easing)(this._currentLerpTime,this._lerpStart,this._lerpEnd,this._lerpDuration);this._x=i.x,this._y=i.y,this._currentLerpTime+=e}else{this._x=this._lerpEnd.x,this._y=this._lerpEnd.y;var r=this._lerpEnd.clone();this._lerpStart=null,this._lerpEnd=null,this._currentLerpTime=0,this._cameraMoving=!1,this._lerpPromise.resolve(r)}this._isDoneShaking()?(this._isShaking=!1,this._elapsedShakeTime=0,this._shakeMagnitudeX=0,this._shakeMagnitudeY=0,this._shakeDuration=0,this._xShake=0,this._yShake=0):(this._elapsedShakeTime+=e,this._xShake=1+(Math.random()*this._shakeMagnitudeX|0),this._yShake=1+(Math.random()*this._shakeMagnitudeY|0));for(var s=0,a=this._cameraStrategies;s<a.length;s++){var u=a[s];this.pos=u.action.call(u,u.target,this,t,e)}this._postupdate(t,e)},e.prototype.draw=function(t){var e=this.getFocus(),n=t.canvas.width,i=t.canvas.height,r=window.devicePixelRatio,o=this.getZoom(),s=n/o/r,a=i/o/r;t.scale(o,o),t.translate(-e.x+s/2+this._xShake,-e.y+a/2+this._yShake)},e.prototype.debugDraw=function(t){var e=this.getFocus();t.fillStyle="red",t.strokeStyle="white",t.lineWidth=3,t.beginPath(),t.arc(e.x,e.y,15,0,2*Math.PI),t.closePath(),t.stroke(),t.beginPath(),t.arc(e.x,e.y,5,0,2*Math.PI),t.closePath(),t.stroke()},e.prototype._isDoneShaking=function(){return!this._isShaking||this._elapsedShakeTime>=this._shakeDuration},e}(l.a)},function(t,e,n){"use strict";e.a=function(t){return t instanceof i.a};var i=n(19);n(40),n(41)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){return function(){this.stats={currFrame:new r,prevFrame:new r}}}(),r=function(){function t(){this._id=0,this._delta=0,this._fps=0,this._actorStats={alive:0,killed:0,ui:0,get remaining(){return this.alive-this.killed},get total(){return this.remaining+this.ui}},this._durationStats={update:0,draw:0,get total(){return this.update+this.draw}},this._physicsStats=new o}return t.prototype.reset=function(t){t?(this.id=t.id,this.delta=t.delta,this.fps=t.fps,this.actors.alive=t.actors.alive,this.actors.killed=t.actors.killed,this.actors.ui=t.actors.ui,this.duration.update=t.duration.update,this.duration.draw=t.duration.draw,this._physicsStats.reset(t.physics)):(this.id=this.delta=this.fps=0,this.actors.alive=this.actors.killed=this.actors.ui=0,this.duration.update=this.duration.draw=0,this._physicsStats.reset())},t.prototype.clone=function(){var e=new t;return e.reset(this),e},Object.defineProperty(t.prototype,"id",{get:function(){return this._id},set:function(t){this._id=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"delta",{get:function(){return this._delta},set:function(t){this._delta=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fps",{get:function(){return this._fps},set:function(t){this._fps=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"actors",{get:function(){return this._actorStats},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"duration",{get:function(){return this._durationStats},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"physics",{get:function(){return this._physicsStats},enumerable:!0,configurable:!0}),t}(),o=function(){function t(){this._pairs=0,this._collisions=0,this._collidersHash={},this._fastBodies=0,this._fastBodyCollisions=0,this._broadphase=0,this._narrowphase=0}return t.prototype.reset=function(t){t?(this.pairs=t.pairs,this.collisions=t.collisions,this.collidersHash=t.collidersHash,this.fastBodies=t.fastBodies,this.fastBodyCollisions=t.fastBodyCollisions,this.broadphase=t.broadphase,this.narrowphase=t.narrowphase):(this.pairs=this.collisions=this.fastBodies=0,this.fastBodyCollisions=this.broadphase=this.narrowphase=0,this.collidersHash={})},t.prototype.clone=function(){var e=new t;return e.reset(this),e},Object.defineProperty(t.prototype,"pairs",{get:function(){return this._pairs},set:function(t){this._pairs=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collisions",{get:function(){return this._collisions},set:function(t){this._collisions=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collidersHash",{get:function(){return this._collidersHash},set:function(t){this._collidersHash=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fastBodies",{get:function(){return this._fastBodies},set:function(t){this._fastBodies=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fastBodyCollisions",{get:function(){return this._fastBodyCollisions},set:function(t){this._fastBodyCollisions=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"broadphase",{get:function(){return this._broadphase},set:function(t){this._broadphase=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"narrowphase",{get:function(){return this._narrowphase},set:function(t){this._narrowphase=t},enumerable:!0,configurable:!0}),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(134);n.d(e,"Gamepads",function(){return i.d}),n.d(e,"Gamepad",function(){return i.c}),n.d(e,"Buttons",function(){return i.b}),n.d(e,"Axes",function(){return i.a});var r=n(135);n.d(e,"PointerType",function(){return r.l}),n.d(e,"PointerButton",function(){return r.b}),n.d(e,"WheelDeltaMode",function(){return r.o}),n.d(e,"PointerScope",function(){return r.k}),n.d(e,"PointerEvent",function(){return r.g}),n.d(e,"PointerEventFactory",function(){return r.h}),n.d(e,"PointerDragEvent",function(){return r.e}),n.d(e,"PointerUpEvent",function(){return r.m}),n.d(e,"PointerDownEvent",function(){return r.d}),n.d(e,"PointerMoveEvent",function(){return r.j}),n.d(e,"PointerEnterEvent",function(){return r.f}),n.d(e,"PointerLeaveEvent",function(){return r.i}),n.d(e,"PointerCancelEvent",function(){return r.c}),n.d(e,"WheelEvent",function(){return r.p}),n.d(e,"Pointers",function(){return r.n}),n.d(e,"Pointer",function(){return r.a});var o=n(136);n.d(e,"Keys",function(){return o.c}),n.d(e,"KeyEvent",function(){return o.a}),n.d(e,"Keyboard",function(){return o.b})},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i,r=n(2),o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(e,n){var i=t.call(this,e,"NativeSoundEvent")||this;return i.track=n,i}return o(e,t),e}(function(t){function e(e,n){void 0===n&&(n="MediaEvent");var i=t.call(this)||this;return i.target=e,i._name=n,i}return o(e,t),Object.defineProperty(e.prototype,"bubbles",{get:function(){return!1},set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_path",{get:function(){return null},set:function(t){},enumerable:!0,configurable:!0}),e.prototype.stopPropagation=function(){},e.prototype.action=function(){},e.prototype.propagate=function(){},e.prototype.layPath=function(t){},e}(r.i))},function(t,e,n){"use strict";n.d(e,"a",function(){return h});var i,r=n(14),o=n(0),s=n(31),a=n(4),u=n(11),c=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(){function t(t,e,n,i){this.sprites=[],this.currentFrame=0,this._oldTime=Date.now(),this.anchor=new o.e(0,0),this.rotation=0,this.scale=new o.e(1,1),this.loop=!0,this.freezeFrame=-1,this.flipVertical=!1,this.flipHorizontal=!1,this.drawWidth=0,this.drawHeight=0,this.width=0,this.height=0;var r=t;if(t&&!(t instanceof s.a)){var a=t;r=a.engine,e=a.sprites,n=a.speed,i=a.loop}this.sprites=e,this.speed=n,this._engine=r,null!=i&&(this.loop=i),e&&e[0]&&(this.drawHeight=e[0]?e[0].drawHeight:0,this.drawWidth=e[0]?e[0].drawWidth:0,this.width=e[0]?e[0].width:0,this.height=e[0]?e[0].height:0,this.freezeFrame=e.length-1)}return t.prototype.opacity=function(t){this.addEffect(new r.h(t))},t.prototype.grayscale=function(){this.addEffect(new r.e)},t.prototype.invert=function(){this.addEffect(new r.f)},t.prototype.fill=function(t){this.addEffect(new r.d(t))},t.prototype.colorize=function(t){this.addEffect(new r.a(t))},t.prototype.lighten=function(t){void 0===t&&(t=.1),this.addEffect(new r.g(t))},t.prototype.darken=function(t){void 0===t&&(t=.1),this.addEffect(new r.b(t))},t.prototype.saturate=function(t){void 0===t&&(t=.1),this.addEffect(new r.i(t))},t.prototype.desaturate=function(t){void 0===t&&(t=.1),this.addEffect(new r.c(t))},t.prototype.addEffect=function(t){for(var e in this.sprites)this.sprites[e].addEffect(t)},t.prototype.removeEffect=function(t){for(var e in this.sprites)this.sprites[e].removeEffect(t)},t.prototype.clearEffects=function(){for(var t in this.sprites)this.sprites[t].clearEffects()},t.prototype._setAnchor=function(t){for(var e in this.sprites)this.sprites[e].anchor.setTo(t.x,t.y)},t.prototype._setRotation=function(t){for(var e in this.sprites)this.sprites[e].rotation=t},t.prototype._setScale=function(t){for(var e in this.sprites)this.sprites[e].scale=t},t.prototype.reset=function(){this.currentFrame=0},t.prototype.isDone=function(){return!this.loop&&this.currentFrame>=this.sprites.length},t.prototype.tick=function(){var t=Date.now();t-this._oldTime>this.speed&&(this.currentFrame=this.loop?(this.currentFrame+1)%this.sprites.length:this.currentFrame+1,this._oldTime=t)},t.prototype._updateValues=function(){this._setAnchor(this.anchor),this._setRotation(this.rotation),this._setScale(this.scale)},t.prototype.skip=function(t){this.currentFrame=(this.currentFrame+t)%this.sprites.length},t.prototype.draw=function(t,e,n){var i;this.tick(),this._updateValues(),this.currentFrame<this.sprites.length&&(i=this.sprites[this.currentFrame],this.flipVertical&&(i.flipVertical=this.flipVertical),this.flipHorizontal&&(i.flipHorizontal=this.flipHorizontal),i.draw(t,e,n)),-1!==this.freezeFrame&&this.currentFrame>=this.sprites.length&&(i=this.sprites[a.d(this.freezeFrame,0,this.sprites.length-1)]).draw(t,e,n),i&&(this.drawWidth=i.drawWidth,this.drawHeight=i.drawHeight)},t.prototype.play=function(t,e){this.reset(),this._engine.playAnimation(this,t,e)},t}(),h=function(t){function e(e,n,i,r){return t.call(this,e,n,i,r)||this}return c(e,t),e}(Object(u.a)(l))},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){}return t.type={any:"",blob:"blob",json:"json",text:"text",document:"document",arraybuffer:"arraybuffer"},t}()},function(t,e,n){"use strict";function i(t,e){return t===e}function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,n=null,r=null;return function(){return function(t,e,n){if(null===e||null===n||e.length!==n.length)return!1;for(var i=e.length,r=0;r<i;r++)if(!t(e[r],n[r]))return!1;return!0}(e,n,arguments)||(r=t.apply(null,arguments)),n=arguments,r}}function o(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return function(){for(var e=arguments.length,i=Array(e),o=0;o<e;o++)i[o]=arguments[o];var s=0,a=i.pop(),u=function(t){var e=Array.isArray(t[0])?t[0]:t;if(!e.every(function(t){return"function"===typeof t})){var n=e.map(function(t){return typeof t}).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return e}(i),c=t.apply(void 0,[function(){return s++,a.apply(null,arguments)}].concat(n)),l=r(function(){for(var t=[],e=u.length,n=0;n<e;n++)t.push(u[n].apply(null,arguments));return c.apply(null,t)});return l.resultFunc=a,l.recomputations=function(){return s},l.resetRecomputations=function(){return s=0},l}}e.__esModule=!0,e.defaultMemoize=r,e.createSelectorCreator=o,e.createStructuredSelector=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s;if("object"!==typeof t)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof t);var n=Object.keys(t);return e(n.map(function(e){return t[e]}),function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return e.reduce(function(t,e,i){return t[n[i]]=e,t},{})})};var s=e.createSelector=o(r)},function(t,e,n){n(79),t.exports=n(86)},function(t,e,n){"use strict";"undefined"===typeof Promise&&(n(80).enable(),window.Promise=n(83)),n(84),Object.assign=n(85)},function(t,e,n){"use strict";var i=n(43),r=[ReferenceError,TypeError,RangeError],o=!1;function s(){o=!1,i._47=null,i._71=null}function a(t,e){return e.some(function(e){return t instanceof e})}e.disable=s,e.enable=function(t){t=t||{},o&&s();o=!0;var e=0,n=0,u={};function c(e){(t.allRejections||a(u[e].error,t.whitelist||r))&&(u[e].displayId=n++,t.onUnhandled?(u[e].logged=!0,t.onUnhandled(u[e].displayId,u[e].error)):(u[e].logged=!0,function(t,e){console.warn("Possible Unhandled Promise Rejection (id: "+t+"):"),((e&&(e.stack||e))+"").split("\n").forEach(function(t){console.warn("  "+t)})}(u[e].displayId,u[e].error)))}i._47=function(e){var n;2===e._83&&u[e._56]&&(u[e._56].logged?(n=e._56,u[n].logged&&(t.onHandled?t.onHandled(u[n].displayId,u[n].error):u[n].onUnhandled||(console.warn("Promise Rejection Handled (id: "+u[n].displayId+"):"),console.warn('  This means you can ignore any previous messages of the form "Possible Unhandled Promise Rejection" with id '+u[n].displayId+".")))):clearTimeout(u[e._56].timeout),delete u[e._56])},i._71=function(t,n){0===t._75&&(t._56=e++,u[t._56]={displayId:null,error:n,timeout:setTimeout(c.bind(null,t._56),a(n,r)?100:2e3),logged:!1})}}},function(t,e,n){"use strict";(function(e){function n(t){r.length||(i(),!0),r[r.length]=t}t.exports=n;var i,r=[],o=0,s=1024;function a(){for(;o<r.length;){var t=o;if(o+=1,r[t].call(),o>s){for(var e=0,n=r.length-o;e<n;e++)r[e]=r[e+o];r.length-=o,o=0}}r.length=0,o=0,!1}var u,c,l,h="undefined"!==typeof e?e:self,p=h.MutationObserver||h.WebKitMutationObserver;function f(t){return function(){var e=setTimeout(i,0),n=setInterval(i,50);function i(){clearTimeout(e),clearInterval(n),t()}}}"function"===typeof p?(u=1,c=new p(a),l=document.createTextNode(""),c.observe(l,{characterData:!0}),i=function(){u=-u,l.data=u}):i=f(a),n.requestFlush=i,n.makeRequestCallFromTimer=f}).call(e,n(82))},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"===typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var i=n(43);t.exports=i;var r=l(!0),o=l(!1),s=l(null),a=l(void 0),u=l(0),c=l("");function l(t){var e=new i(i._44);return e._83=1,e._18=t,e}i.resolve=function(t){if(t instanceof i)return t;if(null===t)return s;if(void 0===t)return a;if(!0===t)return r;if(!1===t)return o;if(0===t)return u;if(""===t)return c;if("object"===typeof t||"function"===typeof t)try{var e=t.then;if("function"===typeof e)return new i(e.bind(t))}catch(t){return new i(function(e,n){n(t)})}return l(t)},i.all=function(t){var e=Array.prototype.slice.call(t);return new i(function(t,n){if(0===e.length)return t([]);var r=e.length;function o(s,a){if(a&&("object"===typeof a||"function"===typeof a)){if(a instanceof i&&a.then===i.prototype.then){for(;3===a._83;)a=a._18;return 1===a._83?o(s,a._18):(2===a._83&&n(a._18),void a.then(function(t){o(s,t)},n))}var u=a.then;if("function"===typeof u)return void new i(u.bind(a)).then(function(t){o(s,t)},n)}e[s]=a,0===--r&&t(e)}for(var s=0;s<e.length;s++)o(s,e[s])})},i.reject=function(t){return new i(function(e,n){n(t)})},i.race=function(t){return new i(function(e,n){t.forEach(function(t){i.resolve(t).then(e,n)})})},i.prototype.catch=function(t){return this.then(null,t)}},function(t,e){!function(t){"use strict";if(!t.fetch){var e={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(e.arrayBuffer)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],i=function(t){return t&&DataView.prototype.isPrototypeOf(t)},r=ArrayBuffer.isView||function(t){return t&&n.indexOf(Object.prototype.toString.call(t))>-1};l.prototype.append=function(t,e){t=a(t),e=u(e);var n=this.map[t];this.map[t]=n?n+","+e:e},l.prototype.delete=function(t){delete this.map[a(t)]},l.prototype.get=function(t){return t=a(t),this.has(t)?this.map[t]:null},l.prototype.has=function(t){return this.map.hasOwnProperty(a(t))},l.prototype.set=function(t,e){this.map[a(t)]=u(e)},l.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},l.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),c(t)},l.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),c(t)},l.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),c(t)},e.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);var o=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];g.prototype.clone=function(){return new g(this,{body:this._bodyInit})},y.call(g.prototype),y.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},v.error=function(){var t=new v(null,{status:0,statusText:""});return t.type="error",t};var s=[301,302,303,307,308];v.redirect=function(t,e){if(-1===s.indexOf(e))throw new RangeError("Invalid status code");return new v(null,{status:e,headers:{location:t}})},t.Headers=l,t.Request=g,t.Response=v,t.fetch=function(t,n){return new Promise(function(i,r){var o=new g(t,n),s=new XMLHttpRequest;s.onload=function(){var t,e,n={status:s.status,statusText:s.statusText,headers:(t=s.getAllResponseHeaders()||"",e=new l,t.split(/\r?\n/).forEach(function(t){var n=t.split(":"),i=n.shift().trim();if(i){var r=n.join(":").trim();e.append(i,r)}}),e)};n.url="responseURL"in s?s.responseURL:n.headers.get("X-Request-URL");var r="response"in s?s.response:s.responseText;i(new v(r,n))},s.onerror=function(){r(new TypeError("Network request failed"))},s.ontimeout=function(){r(new TypeError("Network request failed"))},s.open(o.method,o.url,!0),"include"===o.credentials&&(s.withCredentials=!0),"responseType"in s&&e.blob&&(s.responseType="blob"),o.headers.forEach(function(t,e){s.setRequestHeader(e,t)}),s.send("undefined"===typeof o._bodyInit?null:o._bodyInit)})},t.fetch.polyfill=!0}function a(t){if("string"!==typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function u(t){return"string"!==typeof t&&(t=String(t)),t}function c(t){var n={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return e.iterable&&(n[Symbol.iterator]=function(){return n}),n}function l(t){this.map={},t instanceof l?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function h(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function p(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function f(t){var e=new FileReader,n=p(e);return e.readAsArrayBuffer(t),n}function d(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"===typeof t)this._bodyText=t;else if(e.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(e.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(e.arrayBuffer&&e.blob&&i(t))this._bodyArrayBuffer=d(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!e.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!r(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=d(t)}else this._bodyText="";this.headers.get("content-type")||("string"===typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},e.blob&&(this.blob=function(){var t=h(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(f)}),this.text=function(){var t,e,n,i=h(this);if(i)return i;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,n=p(e),e.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),i=0;i<e.length;i++)n[i]=String.fromCharCode(e[i]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},e.formData&&(this.formData=function(){return this.text().then(_)}),this.json=function(){return this.text().then(JSON.parse)},this}function g(t,e){var n,i,r=(e=e||{}).body;if(t instanceof g){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new l(t.headers)),this.method=t.method,this.mode=t.mode,r||null==t._bodyInit||(r=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new l(e.headers)),this.method=(n=e.method||this.method||"GET",i=n.toUpperCase(),o.indexOf(i)>-1?i:n),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function _(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),i=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(i),decodeURIComponent(r))}}),e}function v(t,e){e||(e={}),this.type="default",this.status="status"in e?e.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new l(e.headers),this.url=e.url||"",this._initBody(t)}}("undefined"!==typeof self?self:this)},function(t,e,n){"use strict";var i=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(t){i[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,s,a=function(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),u=1;u<arguments.length;u++){for(var c in n=Object(arguments[u]))r.call(n,c)&&(a[c]=n[c]);if(i){s=i(n);for(var l=0;l<s.length;l++)o.call(n,s[l])&&(a[s[l]]=n[s[l]])}}return a}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(8),r=(n.n(i),n(88)),o=(n.n(r),n(96)),s=n(30),a=n(159),u=(n.n(a),n(160));r.render(i.createElement(o.a,null),document.getElementById("root")),Object(u.a)(),s.b()},function(t,e,n){"use strict";var i=n(44),r=n(45),o=n(46),s=n(47),a="function"===typeof Symbol&&Symbol.for,u=a?Symbol.for("react.element"):60103,c=a?Symbol.for("react.portal"):60106,l=a?Symbol.for("react.fragment"):60107,h=a?Symbol.for("react.strict_mode"):60108,p=a?Symbol.for("react.profiler"):60114,f=a?Symbol.for("react.provider"):60109,d=a?Symbol.for("react.context"):60110,y=a?Symbol.for("react.async_mode"):60111,g=a?Symbol.for("react.forward_ref"):60112;a&&Symbol.for("react.timeout");var _="function"===typeof Symbol&&Symbol.iterator;function v(t){for(var e=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=0;i<e;i++)n+="&args[]="+encodeURIComponent(arguments[i+1]);r(!1,"Minified React error #"+t+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};function b(t,e,n){this.props=t,this.context=e,this.refs=o,this.updater=n||m}function w(){}function x(t,e,n){this.props=t,this.context=e,this.refs=o,this.updater=n||m}b.prototype.isReactComponent={},b.prototype.setState=function(t,e){"object"!==typeof t&&"function"!==typeof t&&null!=t&&v("85"),this.updater.enqueueSetState(this,t,e,"setState")},b.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},w.prototype=b.prototype;var P=x.prototype=new w;P.constructor=x,i(P,b.prototype),P.isPureReactComponent=!0;var S={current:null},E=Object.prototype.hasOwnProperty,T={key:!0,ref:!0,__self:!0,__source:!0};function C(t,e,n){var i=void 0,r={},o=null,s=null;if(null!=e)for(i in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(o=""+e.key),e)E.call(e,i)&&!T.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(1===a)r.children=n;else if(1<a){for(var c=Array(a),l=0;l<a;l++)c[l]=arguments[l+2];r.children=c}if(t&&t.defaultProps)for(i in a=t.defaultProps)void 0===r[i]&&(r[i]=a[i]);return{$$typeof:u,type:t,key:o,ref:s,props:r,_owner:S.current}}function k(t){return"object"===typeof t&&null!==t&&t.$$typeof===u}var O=/\/+/g,A=[];function D(t,e,n,i){if(A.length){var r=A.pop();return r.result=t,r.keyPrefix=e,r.func=n,r.context=i,r.count=0,r}return{result:t,keyPrefix:e,func:n,context:i,count:0}}function M(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>A.length&&A.push(t)}function R(t,e,n,i){var r=typeof t;"undefined"!==r&&"boolean"!==r||(t=null);var o=!1;if(null===t)o=!0;else switch(r){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case u:case c:o=!0}}if(o)return n(i,t,""===e?"."+j(t,0):e),1;if(o=0,e=""===e?".":e+":",Array.isArray(t))for(var s=0;s<t.length;s++){var a=e+j(r=t[s],s);o+=R(r,a,n,i)}else if(null===t||"undefined"===typeof t?a=null:a="function"===typeof(a=_&&t[_]||t["@@iterator"])?a:null,"function"===typeof a)for(t=a.call(t),s=0;!(r=t.next()).done;)o+=R(r=r.value,a=e+j(r,s++),n,i);else"object"===r&&v("31","[object Object]"===(n=""+t)?"object with keys {"+Object.keys(t).join(", ")+"}":n,"");return o}function j(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,function(t){return e[t]})}(t.key):e.toString(36)}function I(t,e){t.func.call(t.context,e,t.count++)}function F(t,e,n){var i=t.result,r=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?N(t,i,n,s.thatReturnsArgument):null!=t&&(k(t)&&(e=r+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(O,"$&/")+"/")+n,t={$$typeof:u,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}),i.push(t))}function N(t,e,n,i,r){var o="";null!=n&&(o=(""+n).replace(O,"$&/")+"/"),e=D(e,o,i,r),null==t||R(t,"",F,e),M(e)}var B={Children:{map:function(t,e,n){if(null==t)return t;var i=[];return N(t,i,null,e,n),i},forEach:function(t,e,n){if(null==t)return t;e=D(null,null,e,n),null==t||R(t,"",I,e),M(e)},count:function(t){return null==t?0:R(t,"",s.thatReturnsNull,null)},toArray:function(t){var e=[];return N(t,e,null,s.thatReturnsArgument),e},only:function(t){return k(t)||v("143"),t}},createRef:function(){return{current:null}},Component:b,PureComponent:x,createContext:function(t,e){return void 0===e&&(e=null),(t={$$typeof:d,_calculateChangedBits:e,_defaultValue:t,_currentValue:t,_currentValue2:t,_changedBits:0,_changedBits2:0,Provider:null,Consumer:null}).Provider={$$typeof:f,_context:t},t.Consumer=t},forwardRef:function(t){return{$$typeof:g,render:t}},Fragment:l,StrictMode:h,unstable_AsyncMode:y,unstable_Profiler:p,createElement:C,cloneElement:function(t,e,n){(null===t||void 0===t)&&v("267",t);var r=void 0,o=i({},t.props),s=t.key,a=t.ref,c=t._owner;if(null!=e){void 0!==e.ref&&(a=e.ref,c=S.current),void 0!==e.key&&(s=""+e.key);var l=void 0;for(r in t.type&&t.type.defaultProps&&(l=t.type.defaultProps),e)E.call(e,r)&&!T.hasOwnProperty(r)&&(o[r]=void 0===e[r]&&void 0!==l?l[r]:e[r])}if(1===(r=arguments.length-2))o.children=n;else if(1<r){l=Array(r);for(var h=0;h<r;h++)l[h]=arguments[h+2];o.children=l}return{$$typeof:u,type:t.type,key:s,ref:a,props:o,_owner:c}},createFactory:function(t){var e=C.bind(null,t);return e.type=t,e},isValidElement:k,version:"16.4.1",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:S,assign:i}},L={default:B},U=L&&B||L;t.exports=U.default?U.default:U},function(t,e,n){"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(t){console.error(t)}}(),t.exports=n(89)},function(t,e,n){"use strict";var i=n(45),r=n(8),o=n(90),s=n(44),a=n(47),u=n(91),c=n(92),l=n(93),h=n(46);function p(t){for(var e=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=0;r<e;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);i(!1,"Minified React error #"+t+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}r||p("227");var f={_caughtError:null,_hasCaughtError:!1,_rethrowError:null,_hasRethrowError:!1,invokeGuardedCallback:function(t,e,n,i,r,o,s,a,u){(function(t,e,n,i,r,o,s,a,u){this._hasCaughtError=!1,this._caughtError=null;var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(t){this._caughtError=t,this._hasCaughtError=!0}}).apply(f,arguments)},invokeGuardedCallbackAndCatchFirstError:function(t,e,n,i,r,o,s,a,u){if(f.invokeGuardedCallback.apply(this,arguments),f.hasCaughtError()){var c=f.clearCaughtError();f._hasRethrowError||(f._hasRethrowError=!0,f._rethrowError=c)}},rethrowCaughtError:function(){return function(){if(f._hasRethrowError){var t=f._rethrowError;throw f._rethrowError=null,f._hasRethrowError=!1,t}}.apply(f,arguments)},hasCaughtError:function(){return f._hasCaughtError},clearCaughtError:function(){if(f._hasCaughtError){var t=f._caughtError;return f._caughtError=null,f._hasCaughtError=!1,t}p("198")}};var d=null,y={};function g(){if(d)for(var t in y){var e=y[t],n=d.indexOf(t);if(-1<n||p("96",t),!v[n])for(var i in e.extractEvents||p("97",t),v[n]=e,n=e.eventTypes){var r=void 0,o=n[i],s=e,a=i;m.hasOwnProperty(a)&&p("99",a),m[a]=o;var u=o.phasedRegistrationNames;if(u){for(r in u)u.hasOwnProperty(r)&&_(u[r],s,a);r=!0}else o.registrationName?(_(o.registrationName,s,a),r=!0):r=!1;r||p("98",i,t)}}}function _(t,e,n){b[t]&&p("100",t),b[t]=e,w[t]=e.eventTypes[n].dependencies}var v=[],m={},b={},w={};function x(t){d&&p("101"),d=Array.prototype.slice.call(t),g()}function P(t){var e,n=!1;for(e in t)if(t.hasOwnProperty(e)){var i=t[e];y.hasOwnProperty(e)&&y[e]===i||(y[e]&&p("102",e),y[e]=i,n=!0)}n&&g()}var S={plugins:v,eventNameDispatchConfigs:m,registrationNameModules:b,registrationNameDependencies:w,possibleRegistrationNames:null,injectEventPluginOrder:x,injectEventPluginsByName:P},E=null,T=null,C=null;function k(t,e,n,i){e=t.type||"unknown-event",t.currentTarget=C(i),f.invokeGuardedCallbackAndCatchFirstError(e,n,void 0,t),t.currentTarget=null}function O(t,e){return null==e&&p("30"),null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function A(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)}var D=null;function M(t,e){if(t){var n=t._dispatchListeners,i=t._dispatchInstances;if(Array.isArray(n))for(var r=0;r<n.length&&!t.isPropagationStopped();r++)k(t,e,n[r],i[r]);else n&&k(t,e,n,i);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}function R(t){return M(t,!0)}function j(t){return M(t,!1)}var I={injectEventPluginOrder:x,injectEventPluginsByName:P};function F(t,e){var n=t.stateNode;if(!n)return null;var i=E(n);if(!i)return null;n=i[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(i=!i.disabled)||(i=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!i;break t;default:t=!1}return t?null:(n&&"function"!==typeof n&&p("231",e,typeof n),n)}function N(t,e){null!==t&&(D=O(D,t)),t=D,D=null,t&&(A(t,e?R:j),D&&p("95"),f.rethrowCaughtError())}function B(t,e,n,i){for(var r=null,o=0;o<v.length;o++){var s=v[o];s&&(s=s.extractEvents(t,e,n,i))&&(r=O(r,s))}N(r,!1)}var L={injection:I,getListener:F,runEventsInBatch:N,runExtractedEventsInBatch:B},U=Math.random().toString(36).slice(2),z="__reactInternalInstance$"+U,W="__reactEventHandlers$"+U;function H(t){if(t[z])return t[z];for(;!t[z];){if(!t.parentNode)return null;t=t.parentNode}return 5===(t=t[z]).tag||6===t.tag?t:null}function q(t){if(5===t.tag||6===t.tag)return t.stateNode;p("33")}function V(t){return t[W]||null}var X={precacheFiberNode:function(t,e){e[z]=t},getClosestInstanceFromNode:H,getInstanceFromNode:function(t){return!(t=t[z])||5!==t.tag&&6!==t.tag?null:t},getNodeFromInstance:q,getFiberCurrentPropsFromNode:V,updateFiberProps:function(t,e){t[W]=e}};function G(t){do{t=t.return}while(t&&5!==t.tag);return t||null}function K(t,e,n){for(var i=[];t;)i.push(t),t=G(t);for(t=i.length;0<t--;)e(i[t],"captured",n);for(t=0;t<i.length;t++)e(i[t],"bubbled",n)}function Y(t,e,n){(e=F(t,n.dispatchConfig.phasedRegistrationNames[e]))&&(n._dispatchListeners=O(n._dispatchListeners,e),n._dispatchInstances=O(n._dispatchInstances,t))}function Q(t){t&&t.dispatchConfig.phasedRegistrationNames&&K(t._targetInst,Y,t)}function Z(t){if(t&&t.dispatchConfig.phasedRegistrationNames){var e=t._targetInst;K(e=e?G(e):null,Y,t)}}function J(t,e,n){t&&n&&n.dispatchConfig.registrationName&&(e=F(t,n.dispatchConfig.registrationName))&&(n._dispatchListeners=O(n._dispatchListeners,e),n._dispatchInstances=O(n._dispatchInstances,t))}function $(t){t&&t.dispatchConfig.registrationName&&J(t._targetInst,null,t)}function tt(t){A(t,Q)}function et(t,e,n,i){if(n&&i)t:{for(var r=n,o=i,s=0,a=r;a;a=G(a))s++;a=0;for(var u=o;u;u=G(u))a++;for(;0<s-a;)r=G(r),s--;for(;0<a-s;)o=G(o),a--;for(;s--;){if(r===o||r===o.alternate)break t;r=G(r),o=G(o)}r=null}else r=null;for(o=r,r=[];n&&n!==o&&(null===(s=n.alternate)||s!==o);)r.push(n),n=G(n);for(n=[];i&&i!==o&&(null===(s=i.alternate)||s!==o);)n.push(i),i=G(i);for(i=0;i<r.length;i++)J(r[i],"bubbled",t);for(t=n.length;0<t--;)J(n[t],"captured",e)}var nt={accumulateTwoPhaseDispatches:tt,accumulateTwoPhaseDispatchesSkipTarget:function(t){A(t,Z)},accumulateEnterLeaveDispatches:et,accumulateDirectDispatches:function(t){A(t,$)}};function it(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n["ms"+t]="MS"+e,n["O"+t]="o"+e.toLowerCase(),n}var rt={animationend:it("Animation","AnimationEnd"),animationiteration:it("Animation","AnimationIteration"),animationstart:it("Animation","AnimationStart"),transitionend:it("Transition","TransitionEnd")},ot={},st={};function at(t){if(ot[t])return ot[t];if(!rt[t])return t;var e,n=rt[t];for(e in n)if(n.hasOwnProperty(e)&&e in st)return ot[t]=n[e];return t}o.canUseDOM&&(st=document.createElement("div").style,"AnimationEvent"in window||(delete rt.animationend.animation,delete rt.animationiteration.animation,delete rt.animationstart.animation),"TransitionEvent"in window||delete rt.transitionend.transition);var ut=at("animationend"),ct=at("animationiteration"),lt=at("animationstart"),ht=at("transitionend"),pt="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ft=null;function dt(){return!ft&&o.canUseDOM&&(ft="textContent"in document.documentElement?"textContent":"innerText"),ft}var yt={_root:null,_startText:null,_fallbackText:null};function gt(){if(yt._fallbackText)return yt._fallbackText;var t,e,n=yt._startText,i=n.length,r=_t(),o=r.length;for(t=0;t<i&&n[t]===r[t];t++);var s=i-t;for(e=1;e<=s&&n[i-e]===r[o-e];e++);return yt._fallbackText=r.slice(t,1<e?1-e:void 0),yt._fallbackText}function _t(){return"value"in yt._root?yt._root.value:yt._root[dt()]}var vt="dispatchConfig _targetInst nativeEvent isDefaultPrevented isPropagationStopped _dispatchListeners _dispatchInstances".split(" "),mt={type:null,target:null,currentTarget:a.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};function bt(t,e,n,i){for(var r in this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=n,t=this.constructor.Interface)t.hasOwnProperty(r)&&((e=t[r])?this[r]=e(n):"target"===r?this.target=i:this[r]=n[r]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?a.thatReturnsTrue:a.thatReturnsFalse,this.isPropagationStopped=a.thatReturnsFalse,this}function wt(t,e,n,i){if(this.eventPool.length){var r=this.eventPool.pop();return this.call(r,t,e,n,i),r}return new this(t,e,n,i)}function xt(t){t instanceof this||p("223"),t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function Pt(t){t.eventPool=[],t.getPooled=wt,t.release=xt}s(bt.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=a.thatReturnsTrue)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=a.thatReturnsTrue)},persist:function(){this.isPersistent=a.thatReturnsTrue},isPersistent:a.thatReturnsFalse,destructor:function(){var t,e=this.constructor.Interface;for(t in e)this[t]=null;for(e=0;e<vt.length;e++)this[vt[e]]=null}}),bt.Interface=mt,bt.extend=function(t){function e(){}function n(){return i.apply(this,arguments)}var i=this;e.prototype=i.prototype;var r=new e;return s(r,n.prototype),n.prototype=r,n.prototype.constructor=n,n.Interface=s({},i.Interface,t),n.extend=i.extend,Pt(n),n},Pt(bt);var St=bt.extend({data:null}),Et=bt.extend({data:null}),Tt=[9,13,27,32],Ct=o.canUseDOM&&"CompositionEvent"in window,kt=null;o.canUseDOM&&"documentMode"in document&&(kt=document.documentMode);var Ot=o.canUseDOM&&"TextEvent"in window&&!kt,At=o.canUseDOM&&(!Ct||kt&&8<kt&&11>=kt),Dt=String.fromCharCode(32),Mt={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Rt=!1;function jt(t,e){switch(t){case"keyup":return-1!==Tt.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function It(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var Ft=!1;var Nt={eventTypes:Mt,extractEvents:function(t,e,n,i){var r=void 0,o=void 0;if(Ct)t:{switch(t){case"compositionstart":r=Mt.compositionStart;break t;case"compositionend":r=Mt.compositionEnd;break t;case"compositionupdate":r=Mt.compositionUpdate;break t}r=void 0}else Ft?jt(t,n)&&(r=Mt.compositionEnd):"keydown"===t&&229===n.keyCode&&(r=Mt.compositionStart);return r?(At&&(Ft||r!==Mt.compositionStart?r===Mt.compositionEnd&&Ft&&(o=gt()):(yt._root=i,yt._startText=_t(),Ft=!0)),r=St.getPooled(r,e,n,i),o?r.data=o:null!==(o=It(n))&&(r.data=o),tt(r),o=r):o=null,(t=Ot?function(t,e){switch(t){case"compositionend":return It(e);case"keypress":return 32!==e.which?null:(Rt=!0,Dt);case"textInput":return(t=e.data)===Dt&&Rt?null:t;default:return null}}(t,n):function(t,e){if(Ft)return"compositionend"===t||!Ct&&jt(t,e)?(t=gt(),yt._root=null,yt._startText=null,yt._fallbackText=null,Ft=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return At?null:e.data;default:return null}}(t,n))?((e=Et.getPooled(Mt.beforeInput,e,n,i)).data=t,tt(e)):e=null,null===o?e:null===e?o:[o,e]}},Bt=null,Lt={injectFiberControlledHostComponent:function(t){Bt=t}},Ut=null,zt=null;function Wt(t){if(t=T(t)){Bt&&"function"===typeof Bt.restoreControlledState||p("194");var e=E(t.stateNode);Bt.restoreControlledState(t.stateNode,t.type,e)}}function Ht(t){Ut?zt?zt.push(t):zt=[t]:Ut=t}function qt(){return null!==Ut||null!==zt}function Vt(){if(Ut){var t=Ut,e=zt;if(zt=Ut=null,Wt(t),e)for(t=0;t<e.length;t++)Wt(e[t])}}var Xt={injection:Lt,enqueueStateRestore:Ht,needsStateRestore:qt,restoreStateIfNeeded:Vt};function Gt(t,e){return t(e)}function Kt(t,e,n){return t(e,n)}function Yt(){}var Qt=!1;function Zt(t,e){if(Qt)return t(e);Qt=!0;try{return Gt(t,e)}finally{Qt=!1,qt()&&(Yt(),Vt())}}var Jt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $t(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Jt[t.type]:"textarea"===e}function te(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function ee(t,e){return!(!o.canUseDOM||e&&!("addEventListener"in document))&&((e=(t="on"+t)in document)||((e=document.createElement("div")).setAttribute(t,"return;"),e="function"===typeof e[t]),e)}function ne(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function ie(t){t._valueTracker||(t._valueTracker=function(t){var e=ne(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(t){i=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(t){i=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function re(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=ne(t)?t.checked?"true":"false":t.value),(t=i)!==n&&(e.setValue(t),!0)}var oe=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,se="function"===typeof Symbol&&Symbol.for,ae=se?Symbol.for("react.element"):60103,ue=se?Symbol.for("react.portal"):60106,ce=se?Symbol.for("react.fragment"):60107,le=se?Symbol.for("react.strict_mode"):60108,he=se?Symbol.for("react.profiler"):60114,pe=se?Symbol.for("react.provider"):60109,fe=se?Symbol.for("react.context"):60110,de=se?Symbol.for("react.async_mode"):60111,ye=se?Symbol.for("react.forward_ref"):60112,ge=se?Symbol.for("react.timeout"):60113,_e="function"===typeof Symbol&&Symbol.iterator;function ve(t){return null===t||"undefined"===typeof t?null:"function"===typeof(t=_e&&t[_e]||t["@@iterator"])?t:null}function me(t){var e=t.type;if("function"===typeof e)return e.displayName||e.name;if("string"===typeof e)return e;switch(e){case de:return"AsyncMode";case fe:return"Context.Consumer";case ce:return"ReactFragment";case ue:return"ReactPortal";case he:return"Profiler("+t.pendingProps.id+")";case pe:return"Context.Provider";case le:return"StrictMode";case ge:return"Timeout"}if("object"===typeof e&&null!==e)switch(e.$$typeof){case ye:return""!==(t=e.render.displayName||e.render.name||"")?"ForwardRef("+t+")":"ForwardRef"}return null}function be(t){var e="";do{t:switch(t.tag){case 0:case 1:case 2:case 5:var n=t._debugOwner,i=t._debugSource,r=me(t),o=null;n&&(o=me(n)),n=i,r="\n    in "+(r||"Unknown")+(n?" (at "+n.fileName.replace(/^.*[\\\/]/,"")+":"+n.lineNumber+")":o?" (created by "+o+")":"");break t;default:r=""}e+=r,t=t.return}while(t);return e}var we=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xe={},Pe={};function Se(t,e,n,i,r){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e}var Ee={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ee[t]=new Se(t,0,!1,t,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ee[e]=new Se(e,1,!1,t[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ee[t]=new Se(t,2,!1,t.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","preserveAlpha"].forEach(function(t){Ee[t]=new Se(t,2,!1,t,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ee[t]=new Se(t,3,!1,t.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(t){Ee[t]=new Se(t,3,!0,t.toLowerCase(),null)}),["capture","download"].forEach(function(t){Ee[t]=new Se(t,4,!1,t.toLowerCase(),null)}),["cols","rows","size","span"].forEach(function(t){Ee[t]=new Se(t,6,!1,t.toLowerCase(),null)}),["rowSpan","start"].forEach(function(t){Ee[t]=new Se(t,5,!1,t.toLowerCase(),null)});var Te=/[\-:]([a-z])/g;function Ce(t){return t[1].toUpperCase()}function ke(t,e,n,i){var r=Ee.hasOwnProperty(e)?Ee[e]:null;(null!==r?0===r.type:!i&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function(t,e,n,i){if(null===e||"undefined"===typeof e||function(t,e,n,i){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,r,i)&&(n=null),i||null===r?function(t){return!!Pe.hasOwnProperty(t)||!xe.hasOwnProperty(t)&&(we.test(t)?Pe[t]=!0:(xe[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=null===n?3!==r.type&&"":n:(e=r.attributeName,i=r.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}function Oe(t,e){var n=e.checked;return s({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function Ae(t,e){var n=null==e.defaultValue?"":e.defaultValue,i=null!=e.checked?e.checked:e.defaultChecked;n=Ie(null!=e.value?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function De(t,e){null!=(e=e.checked)&&ke(t,"checked",e,!1)}function Me(t,e){De(t,e);var n=Ie(e.value);null!=n&&("number"===e.type?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n)),e.hasOwnProperty("value")?je(t,e.type,n):e.hasOwnProperty("defaultValue")&&je(t,e.type,Ie(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function Re(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){e=""+t._wrapperState.initialValue;var i=t.value;n||e===i||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!t.defaultChecked,t.defaultChecked=!t.defaultChecked,""!==n&&(t.name=n)}function je(t,e,n){"number"===e&&t.ownerDocument.activeElement===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function Ie(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Te,Ce);Ee[e]=new Se(e,1,!1,t,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Te,Ce);Ee[e]=new Se(e,1,!1,t,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Te,Ce);Ee[e]=new Se(e,1,!1,t,"http://www.w3.org/XML/1998/namespace")}),Ee.tabIndex=new Se("tabIndex",1,!1,"tabindex",null);var Fe={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Ne(t,e,n){return(t=bt.getPooled(Fe.change,t,e,n)).type="change",Ht(n),tt(t),t}var Be=null,Le=null;function Ue(t){N(t,!1)}function ze(t){if(re(q(t)))return t}function We(t,e){if("change"===t)return e}var He=!1;function qe(){Be&&(Be.detachEvent("onpropertychange",Ve),Le=Be=null)}function Ve(t){"value"===t.propertyName&&ze(Le)&&Zt(Ue,t=Ne(Le,t,te(t)))}function Xe(t,e,n){"focus"===t?(qe(),Le=n,(Be=e).attachEvent("onpropertychange",Ve)):"blur"===t&&qe()}function Ge(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return ze(Le)}function Ke(t,e){if("click"===t)return ze(e)}function Ye(t,e){if("input"===t||"change"===t)return ze(e)}o.canUseDOM&&(He=ee("input")&&(!document.documentMode||9<document.documentMode));var Qe={eventTypes:Fe,_isInputEventSupported:He,extractEvents:function(t,e,n,i){var r=e?q(e):window,o=void 0,s=void 0,a=r.nodeName&&r.nodeName.toLowerCase();if("select"===a||"input"===a&&"file"===r.type?o=We:$t(r)?He?o=Ye:(o=Ge,s=Xe):(a=r.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===r.type||"radio"===r.type)&&(o=Ke),o&&(o=o(t,e)))return Ne(o,n,i);s&&s(t,r,e),"blur"===t&&(t=r._wrapperState)&&t.controlled&&"number"===r.type&&je(r,"number",r.value)}},Ze=bt.extend({view:null,detail:null}),Je={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $e(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Je[t])&&!!e[t]}function tn(){return $e}var en=Ze.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:tn,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)}}),nn=en.extend({pointerId:null,width:null,height:null,pressure:null,tiltX:null,tiltY:null,pointerType:null,isPrimary:null}),rn={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},on={eventTypes:rn,extractEvents:function(t,e,n,i){var r="mouseover"===t||"pointerover"===t,o="mouseout"===t||"pointerout"===t;if(r&&(n.relatedTarget||n.fromElement)||!o&&!r)return null;if(r=i.window===i?i:(r=i.ownerDocument)?r.defaultView||r.parentWindow:window,o?(o=e,e=(e=n.relatedTarget||n.toElement)?H(e):null):o=null,o===e)return null;var s=void 0,a=void 0,u=void 0,c=void 0;return"mouseout"===t||"mouseover"===t?(s=en,a=rn.mouseLeave,u=rn.mouseEnter,c="mouse"):"pointerout"!==t&&"pointerover"!==t||(s=nn,a=rn.pointerLeave,u=rn.pointerEnter,c="pointer"),t=null==o?r:q(o),r=null==e?r:q(e),(a=s.getPooled(a,o,n,i)).type=c+"leave",a.target=t,a.relatedTarget=r,(n=s.getPooled(u,e,n,i)).type=c+"enter",n.target=r,n.relatedTarget=t,et(a,n,o,e),[a,n]}};function sn(t){var e=t;if(t.alternate)for(;e.return;)e=e.return;else{if(0!==(2&e.effectTag))return 1;for(;e.return;)if(0!==(2&(e=e.return).effectTag))return 1}return 3===e.tag?2:3}function an(t){2!==sn(t)&&p("188")}function un(t){var e=t.alternate;if(!e)return 3===(e=sn(t))&&p("188"),1===e?null:t;for(var n=t,i=e;;){var r=n.return,o=r?r.alternate:null;if(!r||!o)break;if(r.child===o.child){for(var s=r.child;s;){if(s===n)return an(r),t;if(s===i)return an(r),e;s=s.sibling}p("188")}if(n.return!==i.return)n=r,i=o;else{s=!1;for(var a=r.child;a;){if(a===n){s=!0,n=r,i=o;break}if(a===i){s=!0,i=r,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,i=r;break}if(a===i){s=!0,i=o,n=r;break}a=a.sibling}s||p("189")}}n.alternate!==i&&p("190")}return 3!==n.tag&&p("188"),n.stateNode.current===n?t:e}function cn(t){if(!(t=un(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}var ln=bt.extend({animationName:null,elapsedTime:null,pseudoElement:null}),hn=bt.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),pn=Ze.extend({relatedTarget:null});function fn(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}var dn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gn=Ze.extend({key:function(t){if(t.key){var e=dn[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=fn(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?yn[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:tn,charCode:function(t){return"keypress"===t.type?fn(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?fn(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),_n=en.extend({dataTransfer:null}),vn=Ze.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:tn}),mn=bt.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),bn=en.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),wn=[["abort","abort"],[ut,"animationEnd"],[ct,"animationIteration"],[lt,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[ht,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],xn={},Pn={};function Sn(t,e){var n=t[0],i="on"+((t=t[1])[0].toUpperCase()+t.slice(1));e={phasedRegistrationNames:{bubbled:i,captured:i+"Capture"},dependencies:[n],isInteractive:e},xn[t]=e,Pn[n]=e}[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach(function(t){Sn(t,!0)}),wn.forEach(function(t){Sn(t,!1)});var En={eventTypes:xn,isInteractiveTopLevelEventType:function(t){return void 0!==(t=Pn[t])&&!0===t.isInteractive},extractEvents:function(t,e,n,i){var r=Pn[t];if(!r)return null;switch(t){case"keypress":if(0===fn(n))return null;case"keydown":case"keyup":t=gn;break;case"blur":case"focus":t=pn;break;case"click":if(2===n.button)return null;case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":t=en;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":t=_n;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":t=vn;break;case ut:case ct:case lt:t=ln;break;case ht:t=mn;break;case"scroll":t=Ze;break;case"wheel":t=bn;break;case"copy":case"cut":case"paste":t=hn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=nn;break;default:t=bt}return tt(e=t.getPooled(r,e,n,i)),e}},Tn=En.isInteractiveTopLevelEventType,Cn=[];function kn(t){var e=t.targetInst;do{if(!e){t.ancestors.push(e);break}var n;for(n=e;n.return;)n=n.return;if(!(n=3!==n.tag?null:n.stateNode.containerInfo))break;t.ancestors.push(e),e=H(n)}while(e);for(n=0;n<t.ancestors.length;n++)e=t.ancestors[n],B(t.topLevelType,e,t.nativeEvent,te(t.nativeEvent))}var On=!0;function An(t){On=!!t}function Dn(t,e){if(!e)return null;var n=(Tn(t)?Rn:jn).bind(null,t);e.addEventListener(t,n,!1)}function Mn(t,e){if(!e)return null;var n=(Tn(t)?Rn:jn).bind(null,t);e.addEventListener(t,n,!0)}function Rn(t,e){Kt(jn,t,e)}function jn(t,e){if(On){var n=te(e);if(null===(n=H(n))||"number"!==typeof n.tag||2===sn(n)||(n=null),Cn.length){var i=Cn.pop();i.topLevelType=t,i.nativeEvent=e,i.targetInst=n,t=i}else t={topLevelType:t,nativeEvent:e,targetInst:n,ancestors:[]};try{Zt(kn,t)}finally{t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,10>Cn.length&&Cn.push(t)}}}var In={get _enabled(){return On},setEnabled:An,isEnabled:function(){return On},trapBubbledEvent:Dn,trapCapturedEvent:Mn,dispatchEvent:jn},Fn={},Nn=0,Bn="_reactListenersID"+(""+Math.random()).slice(2);function Ln(t){return Object.prototype.hasOwnProperty.call(t,Bn)||(t[Bn]=Nn++,Fn[t[Bn]]={}),Fn[t[Bn]]}function Un(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function zn(t,e){var n,i=Un(t);for(t=0;i;){if(3===i.nodeType){if(n=t+i.textContent.length,t<=e&&n>=e)return{node:i,offset:e-t};t=n}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=Un(i)}}function Wn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var Hn=o.canUseDOM&&"documentMode"in document&&11>=document.documentMode,qn={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Vn=null,Xn=null,Gn=null,Kn=!1;function Yn(t,e){if(Kn||null==Vn||Vn!==u())return null;var n=Vn;return"selectionStart"in n&&Wn(n)?n={start:n.selectionStart,end:n.selectionEnd}:window.getSelection?n={anchorNode:(n=window.getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}:n=void 0,Gn&&c(Gn,n)?null:(Gn=n,(t=bt.getPooled(qn.select,Xn,t,e)).type="select",t.target=Vn,tt(t),t)}var Qn={eventTypes:qn,extractEvents:function(t,e,n,i){var r,o=i.window===i?i.document:9===i.nodeType?i:i.ownerDocument;if(!(r=!o)){t:{o=Ln(o),r=w.onSelect;for(var s=0;s<r.length;s++){var a=r[s];if(!o.hasOwnProperty(a)||!o[a]){o=!1;break t}}o=!0}r=!o}if(r)return null;switch(o=e?q(e):window,t){case"focus":($t(o)||"true"===o.contentEditable)&&(Vn=o,Xn=e,Gn=null);break;case"blur":Gn=Xn=Vn=null;break;case"mousedown":Kn=!0;break;case"contextmenu":case"mouseup":return Kn=!1,Yn(n,i);case"selectionchange":if(Hn)break;case"keydown":case"keyup":return Yn(n,i)}return null}};I.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin TapEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),E=X.getFiberCurrentPropsFromNode,T=X.getInstanceFromNode,C=X.getNodeFromInstance,I.injectEventPluginsByName({SimpleEventPlugin:En,EnterLeaveEventPlugin:on,ChangeEventPlugin:Qe,SelectEventPlugin:Qn,BeforeInputEventPlugin:Nt});var Zn="function"===typeof requestAnimationFrame?requestAnimationFrame:void 0,Jn=Date,$n=setTimeout,ti=clearTimeout,ei=void 0;if("object"===typeof performance&&"function"===typeof performance.now){var ni=performance;ei=function(){return ni.now()}}else ei=function(){return Jn.now()};var ii=void 0,ri=void 0;if(o.canUseDOM){var oi="function"===typeof Zn?Zn:function(){p("276")},si=null,ai=null,ui=-1,ci=!1,li=!1,hi=0,pi=33,fi=33,di={didTimeout:!1,timeRemaining:function(){var t=hi-ei();return 0<t?t:0}},yi=function(t,e){var n=t.scheduledCallback,i=!1;try{n(e),i=!0}finally{ri(t),i||(ci=!0,window.postMessage(gi,"*"))}},gi="__reactIdleCallback$"+Math.random().toString(36).slice(2);window.addEventListener("message",function(t){if(t.source===window&&t.data===gi&&(ci=!1,null!==si)){if(null!==si){var e=ei();if(!(-1===ui||ui>e)){t=-1;for(var n=[],i=si;null!==i;){var r=i.timeoutTime;-1!==r&&r<=e?n.push(i):-1!==r&&(-1===t||r<t)&&(t=r),i=i.next}if(0<n.length)for(di.didTimeout=!0,e=0,i=n.length;e<i;e++)yi(n[e],di);ui=t}}for(t=ei();0<hi-t&&null!==si;)t=si,di.didTimeout=!1,yi(t,di),t=ei();null===si||li||(li=!0,oi(_i))}},!1);var _i=function(t){li=!1;var e=t-hi+fi;e<fi&&pi<fi?(8>e&&(e=8),fi=e<pi?pi:e):pi=e,hi=t+fi,ci||(ci=!0,window.postMessage(gi,"*"))};ii=function(t,e){var n=-1;return null!=e&&"number"===typeof e.timeout&&(n=ei()+e.timeout),(-1===ui||-1!==n&&n<ui)&&(ui=n),t={scheduledCallback:t,timeoutTime:n,prev:null,next:null},null===si?si=t:null!==(e=t.prev=ai)&&(e.next=t),ai=t,li||(li=!0,oi(_i)),t},ri=function(t){if(null!==t.prev||si===t){var e=t.next,n=t.prev;t.next=null,t.prev=null,null!==e?null!==n?(n.next=e,e.prev=n):(e.prev=null,si=e):null!==n?(n.next=null,ai=n):ai=si=null}}}else{var vi=new Map;ii=function(t){var e={scheduledCallback:t,timeoutTime:0,next:null,prev:null},n=$n(function(){t({timeRemaining:function(){return 1/0},didTimeout:!1})});return vi.set(t,n),e},ri=function(t){var e=vi.get(t.scheduledCallback);vi.delete(t),ti(e)}}function mi(t,e){return t=s({children:void 0},e),(e=function(t){var e="";return r.Children.forEach(t,function(t){null==t||"string"!==typeof t&&"number"!==typeof t||(e+=t)}),e}(e.children))&&(t.children=e),t}function bi(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+n,e=null,r=0;r<t.length;r++){if(t[r].value===n)return t[r].selected=!0,void(i&&(t[r].defaultSelected=!0));null!==e||t[r].disabled||(e=t[r])}null!==e&&(e.selected=!0)}}function wi(t,e){var n=e.value;t._wrapperState={initialValue:null!=n?n:e.defaultValue,wasMultiple:!!e.multiple}}function xi(t,e){return null!=e.dangerouslySetInnerHTML&&p("91"),s({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Pi(t,e){var n=e.value;null==n&&(n=e.defaultValue,null!=(e=e.children)&&(null!=n&&p("92"),Array.isArray(e)&&(1>=e.length||p("93"),e=e[0]),n=""+e),null==n&&(n="")),t._wrapperState={initialValue:""+n}}function Si(t,e){var n=e.value;null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&(t.defaultValue=n)),null!=e.defaultValue&&(t.defaultValue=e.defaultValue)}function Ei(t){var e=t.textContent;e===t._wrapperState.initialValue&&(t.value=e)}var Ti={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Ci(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ki(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?Ci(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var Oi,Ai=void 0,Di=(Oi=function(t,e){if(t.namespaceURI!==Ti.svg||"innerHTML"in t)t.innerHTML=e;else{for((Ai=Ai||document.createElement("div")).innerHTML="<svg>"+e+"</svg>",e=Ai.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,i){MSApp.execUnsafeLocalFunction(function(){return Oi(t,e)})}:Oi);function Mi(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var Ri={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ji=["Webkit","ms","Moz","O"];function Ii(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=n,o=e[n];r=null==o||"boolean"===typeof o||""===o?"":i||"number"!==typeof o||0===o||Ri.hasOwnProperty(r)&&Ri[r]?(""+o).trim():o+"px","float"===n&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}Object.keys(Ri).forEach(function(t){ji.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ri[e]=Ri[t]})});var Fi=s({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ni(t,e,n){e&&(Fi[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML)&&p("137",t,n()),null!=e.dangerouslySetInnerHTML&&(null!=e.children&&p("60"),"object"===typeof e.dangerouslySetInnerHTML&&"__html"in e.dangerouslySetInnerHTML||p("61")),null!=e.style&&"object"!==typeof e.style&&p("62",n()))}function Bi(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Li=a.thatReturns("");function Ui(t,e){var n=Ln(t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument);e=w[e];for(var i=0;i<e.length;i++){var r=e[i];if(!n.hasOwnProperty(r)||!n[r]){switch(r){case"scroll":Mn("scroll",t);break;case"focus":case"blur":Mn("focus",t),Mn("blur",t),n.blur=!0,n.focus=!0;break;case"cancel":case"close":ee(r,!0)&&Mn(r,t);break;case"invalid":case"submit":case"reset":break;default:-1===pt.indexOf(r)&&Dn(r,t)}n[r]=!0}}}function zi(t,e,n,i){return n=9===n.nodeType?n:n.ownerDocument,i===Ti.html&&(i=Ci(t)),i===Ti.html?"script"===t?((t=n.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):t="string"===typeof e.is?n.createElement(t,{is:e.is}):n.createElement(t):t=n.createElementNS(i,t),t}function Wi(t,e){return(9===e.nodeType?e:e.ownerDocument).createTextNode(t)}function Hi(t,e,n,i){var r=Bi(e,n);switch(e){case"iframe":case"object":Dn("load",t);var o=n;break;case"video":case"audio":for(o=0;o<pt.length;o++)Dn(pt[o],t);o=n;break;case"source":Dn("error",t),o=n;break;case"img":case"image":case"link":Dn("error",t),Dn("load",t),o=n;break;case"form":Dn("reset",t),Dn("submit",t),o=n;break;case"details":Dn("toggle",t),o=n;break;case"input":Ae(t,n),o=Oe(t,n),Dn("invalid",t),Ui(i,"onChange");break;case"option":o=mi(t,n);break;case"select":wi(t,n),o=s({},n,{value:void 0}),Dn("invalid",t),Ui(i,"onChange");break;case"textarea":Pi(t,n),o=xi(t,n),Dn("invalid",t),Ui(i,"onChange");break;default:o=n}Ni(e,o,Li);var u,c=o;for(u in c)if(c.hasOwnProperty(u)){var l=c[u];"style"===u?Ii(t,l):"dangerouslySetInnerHTML"===u?null!=(l=l?l.__html:void 0)&&Di(t,l):"children"===u?"string"===typeof l?("textarea"!==e||""!==l)&&Mi(t,l):"number"===typeof l&&Mi(t,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(b.hasOwnProperty(u)?null!=l&&Ui(i,u):null!=l&&ke(t,u,l,r))}switch(e){case"input":ie(t),Re(t,n,!1);break;case"textarea":ie(t),Ei(t);break;case"option":null!=n.value&&t.setAttribute("value",n.value);break;case"select":t.multiple=!!n.multiple,null!=(e=n.value)?bi(t,!!n.multiple,e,!1):null!=n.defaultValue&&bi(t,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof o.onClick&&(t.onclick=a)}}function qi(t,e,n,i,r){var o=null;switch(e){case"input":n=Oe(t,n),i=Oe(t,i),o=[];break;case"option":n=mi(t,n),i=mi(t,i),o=[];break;case"select":n=s({},n,{value:void 0}),i=s({},i,{value:void 0}),o=[];break;case"textarea":n=xi(t,n),i=xi(t,i),o=[];break;default:"function"!==typeof n.onClick&&"function"===typeof i.onClick&&(t.onclick=a)}Ni(e,i,Li),e=t=void 0;var u=null;for(t in n)if(!i.hasOwnProperty(t)&&n.hasOwnProperty(t)&&null!=n[t])if("style"===t){var c=n[t];for(e in c)c.hasOwnProperty(e)&&(u||(u={}),u[e]="")}else"dangerouslySetInnerHTML"!==t&&"children"!==t&&"suppressContentEditableWarning"!==t&&"suppressHydrationWarning"!==t&&"autoFocus"!==t&&(b.hasOwnProperty(t)?o||(o=[]):(o=o||[]).push(t,null));for(t in i){var l=i[t];if(c=null!=n?n[t]:void 0,i.hasOwnProperty(t)&&l!==c&&(null!=l||null!=c))if("style"===t)if(c){for(e in c)!c.hasOwnProperty(e)||l&&l.hasOwnProperty(e)||(u||(u={}),u[e]="");for(e in l)l.hasOwnProperty(e)&&c[e]!==l[e]&&(u||(u={}),u[e]=l[e])}else u||(o||(o=[]),o.push(t,u)),u=l;else"dangerouslySetInnerHTML"===t?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(o=o||[]).push(t,""+l)):"children"===t?c===l||"string"!==typeof l&&"number"!==typeof l||(o=o||[]).push(t,""+l):"suppressContentEditableWarning"!==t&&"suppressHydrationWarning"!==t&&(b.hasOwnProperty(t)?(null!=l&&Ui(r,t),o||c===l||(o=[])):(o=o||[]).push(t,l))}return u&&(o=o||[]).push("style",u),o}function Vi(t,e,n,i,r){"input"===n&&"radio"===r.type&&null!=r.name&&De(t,r),Bi(n,i),i=Bi(n,r);for(var o=0;o<e.length;o+=2){var s=e[o],a=e[o+1];"style"===s?Ii(t,a):"dangerouslySetInnerHTML"===s?Di(t,a):"children"===s?Mi(t,a):ke(t,s,a,i)}switch(n){case"input":Me(t,r);break;case"textarea":Si(t,r);break;case"select":t._wrapperState.initialValue=void 0,e=t._wrapperState.wasMultiple,t._wrapperState.wasMultiple=!!r.multiple,null!=(n=r.value)?bi(t,!!r.multiple,n,!1):e!==!!r.multiple&&(null!=r.defaultValue?bi(t,!!r.multiple,r.defaultValue,!0):bi(t,!!r.multiple,r.multiple?[]:"",!1))}}function Xi(t,e,n,i,r){switch(e){case"iframe":case"object":Dn("load",t);break;case"video":case"audio":for(i=0;i<pt.length;i++)Dn(pt[i],t);break;case"source":Dn("error",t);break;case"img":case"image":case"link":Dn("error",t),Dn("load",t);break;case"form":Dn("reset",t),Dn("submit",t);break;case"details":Dn("toggle",t);break;case"input":Ae(t,n),Dn("invalid",t),Ui(r,"onChange");break;case"select":wi(t,n),Dn("invalid",t),Ui(r,"onChange");break;case"textarea":Pi(t,n),Dn("invalid",t),Ui(r,"onChange")}for(var o in Ni(e,n,Li),i=null,n)if(n.hasOwnProperty(o)){var s=n[o];"children"===o?"string"===typeof s?t.textContent!==s&&(i=["children",s]):"number"===typeof s&&t.textContent!==""+s&&(i=["children",""+s]):b.hasOwnProperty(o)&&null!=s&&Ui(r,o)}switch(e){case"input":ie(t),Re(t,n,!0);break;case"textarea":ie(t),Ei(t);break;case"select":case"option":break;default:"function"===typeof n.onClick&&(t.onclick=a)}return i}function Gi(t,e){return t.nodeValue!==e}var Ki={createElement:zi,createTextNode:Wi,setInitialProperties:Hi,diffProperties:qi,updateProperties:Vi,diffHydratedProperties:Xi,diffHydratedText:Gi,warnForUnmatchedText:function(){},warnForDeletedHydratableElement:function(){},warnForDeletedHydratableText:function(){},warnForInsertedHydratedElement:function(){},warnForInsertedHydratedText:function(){},restoreControlledState:function(t,e,n){switch(e){case"input":if(Me(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=V(i);r||p("90"),re(i),Me(i,r)}}}break;case"textarea":Si(t,n);break;case"select":null!=(e=n.value)&&bi(t,!!n.multiple,e,!1)}}},Yi=null,Qi=null;function Zi(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function Ji(t,e){return"textarea"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&"string"===typeof e.dangerouslySetInnerHTML.__html}var $i=ei,tr=ii,er=ri;function nr(t){for(t=t.nextSibling;t&&1!==t.nodeType&&3!==t.nodeType;)t=t.nextSibling;return t}function ir(t){for(t=t.firstChild;t&&1!==t.nodeType&&3!==t.nodeType;)t=t.nextSibling;return t}new Set;var rr=[],or=-1;function sr(t){return{current:t}}function ar(t){0>or||(t.current=rr[or],rr[or]=null,or--)}function ur(t,e){rr[++or]=t.current,t.current=e}var cr=sr(h),lr=sr(!1),hr=h;function pr(t){return dr(t)?hr:cr.current}function fr(t,e){var n=t.type.contextTypes;if(!n)return h;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r,o={};for(r in n)o[r]=e[r];return i&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function dr(t){return 2===t.tag&&null!=t.type.childContextTypes}function yr(t){dr(t)&&(ar(lr),ar(cr))}function gr(t){ar(lr),ar(cr)}function _r(t,e,n){cr.current!==h&&p("168"),ur(cr,e),ur(lr,n)}function vr(t,e){var n=t.stateNode,i=t.type.childContextTypes;if("function"!==typeof n.getChildContext)return e;for(var r in n=n.getChildContext())r in i||p("108",me(t)||"Unknown",r);return s({},e,n)}function mr(t){if(!dr(t))return!1;var e=t.stateNode;return e=e&&e.__reactInternalMemoizedMergedChildContext||h,hr=cr.current,ur(cr,e),ur(lr,lr.current),!0}function br(t,e){var n=t.stateNode;if(n||p("169"),e){var i=vr(t,hr);n.__reactInternalMemoizedMergedChildContext=i,ar(lr),ar(cr),ur(cr,i)}else ar(lr);ur(lr,e)}function wr(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=null,this.index=0,this.ref=null,this.pendingProps=e,this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.expirationTime=0,this.alternate=null}function xr(t,e,n){var i=t.alternate;return null===i?((i=new wr(t.tag,e,t.key,t.mode)).type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.effectTag=0,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null),i.expirationTime=n,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i}function Pr(t,e,n){var i=t.type,r=t.key;if(t=t.props,"function"===typeof i)var o=i.prototype&&i.prototype.isReactComponent?2:0;else if("string"===typeof i)o=5;else switch(i){case ce:return Sr(t.children,e,n,r);case de:o=11,e|=3;break;case le:o=11,e|=2;break;case he:return(i=new wr(15,t,r,4|e)).type=he,i.expirationTime=n,i;case ge:o=16,e|=2;break;default:t:{switch("object"===typeof i&&null!==i?i.$$typeof:null){case pe:o=13;break t;case fe:o=12;break t;case ye:o=14;break t;default:p("130",null==i?i:typeof i,"")}o=void 0}}return(e=new wr(o,t,r,e)).type=i,e.expirationTime=n,e}function Sr(t,e,n,i){return(t=new wr(10,t,i,e)).expirationTime=n,t}function Er(t,e,n){return(t=new wr(6,t,null,e)).expirationTime=n,t}function Tr(t,e,n){return(e=new wr(4,null!==t.children?t.children:[],t.key,e)).expirationTime=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Cr(t,e,n){return t={current:e=new wr(3,null,null,e?3:0),containerInfo:t,pendingChildren:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,pendingCommitExpirationTime:0,finishedWork:null,context:null,pendingContext:null,hydrate:n,remainingExpirationTime:0,firstBatch:null,nextScheduledRoot:null},e.stateNode=t}var kr=null,Or=null;function Ar(t){return function(e){try{return t(e)}catch(t){}}}function Dr(t){"function"===typeof kr&&kr(t)}function Mr(t){"function"===typeof Or&&Or(t)}var Rr=!1;function jr(t){return{expirationTime:0,baseState:t,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Ir(t){return{expirationTime:t.expirationTime,baseState:t.baseState,firstUpdate:t.firstUpdate,lastUpdate:t.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Fr(t){return{expirationTime:t,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function Nr(t,e,n){null===t.lastUpdate?t.firstUpdate=t.lastUpdate=e:(t.lastUpdate.next=e,t.lastUpdate=e),(0===t.expirationTime||t.expirationTime>n)&&(t.expirationTime=n)}function Br(t,e,n){var i=t.alternate;if(null===i){var r=t.updateQueue,o=null;null===r&&(r=t.updateQueue=jr(t.memoizedState))}else r=t.updateQueue,o=i.updateQueue,null===r?null===o?(r=t.updateQueue=jr(t.memoizedState),o=i.updateQueue=jr(i.memoizedState)):r=t.updateQueue=Ir(o):null===o&&(o=i.updateQueue=Ir(r));null===o||r===o?Nr(r,e,n):null===r.lastUpdate||null===o.lastUpdate?(Nr(r,e,n),Nr(o,e,n)):(Nr(r,e,n),o.lastUpdate=e)}function Lr(t,e,n){var i=t.updateQueue;null===(i=null===i?t.updateQueue=jr(t.memoizedState):Ur(t,i)).lastCapturedUpdate?i.firstCapturedUpdate=i.lastCapturedUpdate=e:(i.lastCapturedUpdate.next=e,i.lastCapturedUpdate=e),(0===i.expirationTime||i.expirationTime>n)&&(i.expirationTime=n)}function Ur(t,e){var n=t.alternate;return null!==n&&e===n.updateQueue&&(e=t.updateQueue=Ir(e)),e}function zr(t,e,n,i,r,o){switch(n.tag){case 1:return"function"===typeof(t=n.payload)?t.call(o,i,r):t;case 3:t.effectTag=-1025&t.effectTag|64;case 0:if(null===(r="function"===typeof(t=n.payload)?t.call(o,i,r):t)||void 0===r)break;return s({},i,r);case 2:Rr=!0}return i}function Wr(t,e,n,i,r){if(Rr=!1,!(0===e.expirationTime||e.expirationTime>r)){for(var o=(e=Ur(t,e)).baseState,s=null,a=0,u=e.firstUpdate,c=o;null!==u;){var l=u.expirationTime;l>r?(null===s&&(s=u,o=c),(0===a||a>l)&&(a=l)):(c=zr(t,0,u,c,n,i),null!==u.callback&&(t.effectTag|=32,u.nextEffect=null,null===e.lastEffect?e.firstEffect=e.lastEffect=u:(e.lastEffect.nextEffect=u,e.lastEffect=u))),u=u.next}for(l=null,u=e.firstCapturedUpdate;null!==u;){var h=u.expirationTime;h>r?(null===l&&(l=u,null===s&&(o=c)),(0===a||a>h)&&(a=h)):(c=zr(t,0,u,c,n,i),null!==u.callback&&(t.effectTag|=32,u.nextEffect=null,null===e.lastCapturedEffect?e.firstCapturedEffect=e.lastCapturedEffect=u:(e.lastCapturedEffect.nextEffect=u,e.lastCapturedEffect=u))),u=u.next}null===s&&(e.lastUpdate=null),null===l?e.lastCapturedUpdate=null:t.effectTag|=32,null===s&&null===l&&(o=c),e.baseState=o,e.firstUpdate=s,e.firstCapturedUpdate=l,e.expirationTime=a,t.memoizedState=c}}function Hr(t,e){"function"!==typeof t&&p("191",t),t.call(e)}function qr(t,e,n){for(null!==e.firstCapturedUpdate&&(null!==e.lastUpdate&&(e.lastUpdate.next=e.firstCapturedUpdate,e.lastUpdate=e.lastCapturedUpdate),e.firstCapturedUpdate=e.lastCapturedUpdate=null),t=e.firstEffect,e.firstEffect=e.lastEffect=null;null!==t;){var i=t.callback;null!==i&&(t.callback=null,Hr(i,n)),t=t.nextEffect}for(t=e.firstCapturedEffect,e.firstCapturedEffect=e.lastCapturedEffect=null;null!==t;)null!==(e=t.callback)&&(t.callback=null,Hr(e,n)),t=t.nextEffect}function Vr(t,e){return{value:t,source:e,stack:be(e)}}var Xr=sr(null),Gr=sr(null),Kr=sr(0);function Yr(t){var e=t.type._context;ur(Kr,e._changedBits),ur(Gr,e._currentValue),ur(Xr,t),e._currentValue=t.pendingProps.value,e._changedBits=t.stateNode}function Qr(t){var e=Kr.current,n=Gr.current;ar(Xr),ar(Gr),ar(Kr),(t=t.type._context)._currentValue=n,t._changedBits=e}var Zr={},Jr=sr(Zr),$r=sr(Zr),to=sr(Zr);function eo(t){return t===Zr&&p("174"),t}function no(t,e){ur(to,e),ur($r,t),ur(Jr,Zr);var n=e.nodeType;switch(n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ki(null,"");break;default:e=ki(e=(n=8===n?e.parentNode:e).namespaceURI||null,n=n.tagName)}ar(Jr),ur(Jr,e)}function io(t){ar(Jr),ar($r),ar(to)}function ro(t){$r.current===t&&(ar(Jr),ar($r))}function oo(t,e,n){var i=t.memoizedState;i=null===(e=e(n,i))||void 0===e?i:s({},i,e),t.memoizedState=i,null!==(t=t.updateQueue)&&0===t.expirationTime&&(t.baseState=i)}var so={isMounted:function(t){return!!(t=t._reactInternalFiber)&&2===sn(t)},enqueueSetState:function(t,e,n){t=t._reactInternalFiber;var i=ms(),r=Fr(i=_s(i,t));r.payload=e,void 0!==n&&null!==n&&(r.callback=n),Br(t,r,i),vs(t,i)},enqueueReplaceState:function(t,e,n){t=t._reactInternalFiber;var i=ms(),r=Fr(i=_s(i,t));r.tag=1,r.payload=e,void 0!==n&&null!==n&&(r.callback=n),Br(t,r,i),vs(t,i)},enqueueForceUpdate:function(t,e){t=t._reactInternalFiber;var n=ms(),i=Fr(n=_s(n,t));i.tag=2,void 0!==e&&null!==e&&(i.callback=e),Br(t,i,n),vs(t,n)}};function ao(t,e,n,i,r,o){var s=t.stateNode;return t=t.type,"function"===typeof s.shouldComponentUpdate?s.shouldComponentUpdate(n,r,o):!t.prototype||!t.prototype.isPureReactComponent||(!c(e,n)||!c(i,r))}function uo(t,e,n,i){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,i),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&so.enqueueReplaceState(e,e.state,null)}function co(t,e){var n=t.type,i=t.stateNode,r=t.pendingProps,o=pr(t);i.props=r,i.state=t.memoizedState,i.refs=h,i.context=fr(t,o),null!==(o=t.updateQueue)&&(Wr(t,o,r,i,e),i.state=t.memoizedState),"function"===typeof(o=t.type.getDerivedStateFromProps)&&(oo(t,o,r),i.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(n=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),n!==i.state&&so.enqueueReplaceState(i,i.state,null),null!==(o=t.updateQueue)&&(Wr(t,o,r,i,e),i.state=t.memoizedState)),"function"===typeof i.componentDidMount&&(t.effectTag|=4)}var lo=Array.isArray;function ho(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){var i=void 0;(n=n._owner)&&(2!==n.tag&&p("110"),i=n.stateNode),i||p("147",t);var r=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===r?e.ref:((e=function(t){var e=i.refs===h?i.refs={}:i.refs;null===t?delete e[r]:e[r]=t})._stringRef=r,e)}"string"!==typeof t&&p("148"),n._owner||p("254",t)}return t}function po(t,e){"textarea"!==t.type&&p("31","[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,"")}function fo(t){function e(e,n){if(t){var i=e.lastEffect;null!==i?(i.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,i){if(!t)return null;for(;null!==i;)e(n,i),i=i.sibling;return null}function i(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(t,e,n){return(t=xr(t,e,n)).index=0,t.sibling=null,t}function o(e,n,i){return e.index=i,t?null!==(i=e.alternate)?(i=i.index)<n?(e.effectTag=2,n):i:(e.effectTag=2,n):n}function s(e){return t&&null===e.alternate&&(e.effectTag=2),e}function a(t,e,n,i){return null===e||6!==e.tag?((e=Er(n,t.mode,i)).return=t,e):((e=r(e,n,i)).return=t,e)}function u(t,e,n,i){return null!==e&&e.type===n.type?((i=r(e,n.props,i)).ref=ho(t,e,n),i.return=t,i):((i=Pr(n,t.mode,i)).ref=ho(t,e,n),i.return=t,i)}function c(t,e,n,i){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Tr(n,t.mode,i)).return=t,e):((e=r(e,n.children||[],i)).return=t,e)}function l(t,e,n,i,o){return null===e||10!==e.tag?((e=Sr(n,t.mode,i,o)).return=t,e):((e=r(e,n,i)).return=t,e)}function h(t,e,n){if("string"===typeof e||"number"===typeof e)return(e=Er(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case ae:return(n=Pr(e,t.mode,n)).ref=ho(t,null,e),n.return=t,n;case ue:return(e=Tr(e,t.mode,n)).return=t,e}if(lo(e)||ve(e))return(e=Sr(e,t.mode,n,null)).return=t,e;po(t,e)}return null}function f(t,e,n,i){var r=null!==e?e.key:null;if("string"===typeof n||"number"===typeof n)return null!==r?null:a(t,e,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case ae:return n.key===r?n.type===ce?l(t,e,n.props.children,i,r):u(t,e,n,i):null;case ue:return n.key===r?c(t,e,n,i):null}if(lo(n)||ve(n))return null!==r?null:l(t,e,n,i,null);po(t,n)}return null}function d(t,e,n,i,r){if("string"===typeof i||"number"===typeof i)return a(e,t=t.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case ae:return t=t.get(null===i.key?n:i.key)||null,i.type===ce?l(e,t,i.props.children,r,i.key):u(e,t,i,r);case ue:return c(e,t=t.get(null===i.key?n:i.key)||null,i,r)}if(lo(i)||ve(i))return l(e,t=t.get(n)||null,i,r,null);po(e,i)}return null}function y(r,s,a,u){for(var c=null,l=null,p=s,y=s=0,g=null;null!==p&&y<a.length;y++){p.index>y?(g=p,p=null):g=p.sibling;var _=f(r,p,a[y],u);if(null===_){null===p&&(p=g);break}t&&p&&null===_.alternate&&e(r,p),s=o(_,s,y),null===l?c=_:l.sibling=_,l=_,p=g}if(y===a.length)return n(r,p),c;if(null===p){for(;y<a.length;y++)(p=h(r,a[y],u))&&(s=o(p,s,y),null===l?c=p:l.sibling=p,l=p);return c}for(p=i(r,p);y<a.length;y++)(g=d(p,r,y,a[y],u))&&(t&&null!==g.alternate&&p.delete(null===g.key?y:g.key),s=o(g,s,y),null===l?c=g:l.sibling=g,l=g);return t&&p.forEach(function(t){return e(r,t)}),c}function g(r,s,a,u){var c=ve(a);"function"!==typeof c&&p("150"),null==(a=c.call(a))&&p("151");for(var l=c=null,y=s,g=s=0,_=null,v=a.next();null!==y&&!v.done;g++,v=a.next()){y.index>g?(_=y,y=null):_=y.sibling;var m=f(r,y,v.value,u);if(null===m){y||(y=_);break}t&&y&&null===m.alternate&&e(r,y),s=o(m,s,g),null===l?c=m:l.sibling=m,l=m,y=_}if(v.done)return n(r,y),c;if(null===y){for(;!v.done;g++,v=a.next())null!==(v=h(r,v.value,u))&&(s=o(v,s,g),null===l?c=v:l.sibling=v,l=v);return c}for(y=i(r,y);!v.done;g++,v=a.next())null!==(v=d(y,r,g,v.value,u))&&(t&&null!==v.alternate&&y.delete(null===v.key?g:v.key),s=o(v,s,g),null===l?c=v:l.sibling=v,l=v);return t&&y.forEach(function(t){return e(r,t)}),c}return function(t,i,o,a){var u="object"===typeof o&&null!==o&&o.type===ce&&null===o.key;u&&(o=o.props.children);var c="object"===typeof o&&null!==o;if(c)switch(o.$$typeof){case ae:t:{for(c=o.key,u=i;null!==u;){if(u.key===c){if(10===u.tag?o.type===ce:u.type===o.type){n(t,u.sibling),(i=r(u,o.type===ce?o.props.children:o.props,a)).ref=ho(t,u,o),i.return=t,t=i;break t}n(t,u);break}e(t,u),u=u.sibling}o.type===ce?((i=Sr(o.props.children,t.mode,a,o.key)).return=t,t=i):((a=Pr(o,t.mode,a)).ref=ho(t,i,o),a.return=t,t=a)}return s(t);case ue:t:{for(u=o.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){n(t,i.sibling),(i=r(i,o.children||[],a)).return=t,t=i;break t}n(t,i);break}e(t,i),i=i.sibling}(i=Tr(o,t.mode,a)).return=t,t=i}return s(t)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==i&&6===i.tag?(n(t,i.sibling),(i=r(i,o,a)).return=t,t=i):(n(t,i),(i=Er(o,t.mode,a)).return=t,t=i),s(t);if(lo(o))return y(t,i,o,a);if(ve(o))return g(t,i,o,a);if(c&&po(t,o),"undefined"===typeof o&&!u)switch(t.tag){case 2:case 1:p("152",(a=t.type).displayName||a.name||"Component")}return n(t,i)}}var yo=fo(!0),go=fo(!1),_o=null,vo=null,mo=!1;function bo(t,e){var n=new wr(5,null,null,0);n.type="DELETED",n.stateNode=e,n.return=t,n.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function wo(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);default:return!1}}function xo(t){if(mo){var e=vo;if(e){var n=e;if(!wo(t,e)){if(!(e=nr(n))||!wo(t,e))return t.effectTag|=2,mo=!1,void(_o=t);bo(_o,n)}_o=t,vo=ir(e)}else t.effectTag|=2,mo=!1,_o=t}}function Po(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag;)t=t.return;_o=t}function So(t){if(t!==_o)return!1;if(!mo)return Po(t),mo=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!Ji(e,t.memoizedProps))for(e=vo;e;)bo(t,e),e=nr(e);return Po(t),vo=_o?nr(t.stateNode):null,!0}function Eo(){vo=_o=null,mo=!1}function To(t,e,n){Co(t,e,n,e.expirationTime)}function Co(t,e,n,i){e.child=null===t?go(e,null,n,i):yo(e,t.child,n,i)}function ko(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.effectTag|=128)}function Oo(t,e,n,i,r){ko(t,e);var o=0!==(64&e.effectTag);if(!n&&!o)return i&&br(e,!1),Mo(t,e);n=e.stateNode,oe.current=e;var s=o?null:n.render();return e.effectTag|=1,o&&(Co(t,e,null,r),e.child=null),Co(t,e,s,r),e.memoizedState=n.state,e.memoizedProps=n.props,i&&br(e,!0),e.child}function Ao(t){var e=t.stateNode;e.pendingContext?_r(0,e.pendingContext,e.pendingContext!==e.context):e.context&&_r(0,e.context,!1),no(t,e.containerInfo)}function Do(t,e,n,i){var r=t.child;for(null!==r&&(r.return=t);null!==r;){switch(r.tag){case 12:var o=0|r.stateNode;if(r.type===e&&0!==(o&n)){for(o=r;null!==o;){var s=o.alternate;if(0===o.expirationTime||o.expirationTime>i)o.expirationTime=i,null!==s&&(0===s.expirationTime||s.expirationTime>i)&&(s.expirationTime=i);else{if(null===s||!(0===s.expirationTime||s.expirationTime>i))break;s.expirationTime=i}o=o.return}o=null}else o=r.child;break;case 13:o=r.type===t.type?null:r.child;break;default:o=r.child}if(null!==o)o.return=r;else for(o=r;null!==o;){if(o===t){o=null;break}if(null!==(r=o.sibling)){r.return=o.return,o=r;break}o=o.return}r=o}}function Mo(t,e){if(null!==t&&e.child!==t.child&&p("153"),null!==e.child){var n=xr(t=e.child,t.pendingProps,t.expirationTime);for(e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=xr(t,t.pendingProps,t.expirationTime)).return=e;n.sibling=null}return e.child}function Ro(t,e,n){if(0===e.expirationTime||e.expirationTime>n){switch(e.tag){case 3:Ao(e);break;case 2:mr(e);break;case 4:no(e,e.stateNode.containerInfo);break;case 13:Yr(e)}return null}switch(e.tag){case 0:null!==t&&p("155");var i=e.type,r=e.pendingProps,o=pr(e);return i=i(r,o=fr(e,o)),e.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(o=e.type,e.tag=2,e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,"function"===typeof(o=o.getDerivedStateFromProps)&&oo(e,o,r),r=mr(e),i.updater=so,e.stateNode=i,i._reactInternalFiber=e,co(e,n),t=Oo(t,e,!0,r,n)):(e.tag=1,To(t,e,i),e.memoizedProps=r,t=e.child),t;case 1:return r=e.type,n=e.pendingProps,lr.current||e.memoizedProps!==n?(r=r(n,i=fr(e,i=pr(e))),e.effectTag|=1,To(t,e,r),e.memoizedProps=n,t=e.child):t=Mo(t,e),t;case 2:if(r=mr(e),null===t)if(null===e.stateNode){var s=e.pendingProps,a=e.type;i=pr(e);var u=2===e.tag&&null!=e.type.contextTypes;s=new a(s,o=u?fr(e,i):h),e.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=so,e.stateNode=s,s._reactInternalFiber=e,u&&((u=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,u.__reactInternalMemoizedMaskedChildContext=o),co(e,n),i=!0}else{a=e.type,i=e.stateNode,u=e.memoizedProps,o=e.pendingProps,i.props=u;var c=i.context;s=fr(e,s=pr(e));var l=a.getDerivedStateFromProps;(a="function"===typeof l||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(u!==o||c!==s)&&uo(e,i,o,s),Rr=!1;var f=e.memoizedState;c=i.state=f;var d=e.updateQueue;null!==d&&(Wr(e,d,o,i,n),c=e.memoizedState),u!==o||f!==c||lr.current||Rr?("function"===typeof l&&(oo(e,l,o),c=e.memoizedState),(u=Rr||ao(e,u,o,f,c,s))?(a||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(e.effectTag|=4)):("function"===typeof i.componentDidMount&&(e.effectTag|=4),e.memoizedProps=o,e.memoizedState=c),i.props=o,i.state=c,i.context=s,i=u):("function"===typeof i.componentDidMount&&(e.effectTag|=4),i=!1)}else a=e.type,i=e.stateNode,o=e.memoizedProps,u=e.pendingProps,i.props=o,c=i.context,s=fr(e,s=pr(e)),(a="function"===typeof(l=a.getDerivedStateFromProps)||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==u||c!==s)&&uo(e,i,u,s),Rr=!1,c=e.memoizedState,f=i.state=c,null!==(d=e.updateQueue)&&(Wr(e,d,u,i,n),f=e.memoizedState),o!==u||c!==f||lr.current||Rr?("function"===typeof l&&(oo(e,l,u),f=e.memoizedState),(l=Rr||ao(e,o,u,c,f,s))?(a||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(u,f,s),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(u,f,s)),"function"===typeof i.componentDidUpdate&&(e.effectTag|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(e.effectTag|=256)):("function"!==typeof i.componentDidUpdate||o===t.memoizedProps&&c===t.memoizedState||(e.effectTag|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===t.memoizedProps&&c===t.memoizedState||(e.effectTag|=256),e.memoizedProps=u,e.memoizedState=f),i.props=u,i.state=f,i.context=s,i=l):("function"!==typeof i.componentDidUpdate||o===t.memoizedProps&&c===t.memoizedState||(e.effectTag|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===t.memoizedProps&&c===t.memoizedState||(e.effectTag|=256),i=!1);return Oo(t,e,i,r,n);case 3:return Ao(e),null!==(r=e.updateQueue)?(i=null!==(i=e.memoizedState)?i.element:null,Wr(e,r,e.pendingProps,null,n),(r=e.memoizedState.element)===i?(Eo(),t=Mo(t,e)):(i=e.stateNode,(i=(null===t||null===t.child)&&i.hydrate)&&(vo=ir(e.stateNode.containerInfo),_o=e,i=mo=!0),i?(e.effectTag|=2,e.child=go(e,null,r,n)):(Eo(),To(t,e,r)),t=e.child)):(Eo(),t=Mo(t,e)),t;case 5:return eo(to.current),(r=eo(Jr.current))!==(i=ki(r,e.type))&&(ur($r,e),ur(Jr,i)),null===t&&xo(e),r=e.type,u=e.memoizedProps,i=e.pendingProps,o=null!==t?t.memoizedProps:null,lr.current||u!==i||((u=1&e.mode&&!!i.hidden)&&(e.expirationTime=1073741823),u&&1073741823===n)?(u=i.children,Ji(r,i)?u=null:o&&Ji(r,o)&&(e.effectTag|=16),ko(t,e),1073741823!==n&&1&e.mode&&i.hidden?(e.expirationTime=1073741823,e.memoizedProps=i,t=null):(To(t,e,u),e.memoizedProps=i,t=e.child)):t=Mo(t,e),t;case 6:return null===t&&xo(e),e.memoizedProps=e.pendingProps,null;case 16:return null;case 4:return no(e,e.stateNode.containerInfo),r=e.pendingProps,lr.current||e.memoizedProps!==r?(null===t?e.child=yo(e,null,r,n):To(t,e,r),e.memoizedProps=r,t=e.child):t=Mo(t,e),t;case 14:return r=e.type.render,n=e.pendingProps,i=e.ref,lr.current||e.memoizedProps!==n||i!==(null!==t?t.ref:null)?(To(t,e,r=r(n,i)),e.memoizedProps=n,t=e.child):t=Mo(t,e),t;case 10:return n=e.pendingProps,lr.current||e.memoizedProps!==n?(To(t,e,n),e.memoizedProps=n,t=e.child):t=Mo(t,e),t;case 11:return n=e.pendingProps.children,lr.current||null!==n&&e.memoizedProps!==n?(To(t,e,n),e.memoizedProps=n,t=e.child):t=Mo(t,e),t;case 15:return n=e.pendingProps,e.memoizedProps===n?t=Mo(t,e):(To(t,e,n.children),e.memoizedProps=n,t=e.child),t;case 13:return function(t,e,n){var i=e.type._context,r=e.pendingProps,o=e.memoizedProps,s=!0;if(lr.current)s=!1;else if(o===r)return e.stateNode=0,Yr(e),Mo(t,e);var a=r.value;if(e.memoizedProps=r,null===o)a=1073741823;else if(o.value===r.value){if(o.children===r.children&&s)return e.stateNode=0,Yr(e),Mo(t,e);a=0}else{var u=o.value;if(u===a&&(0!==u||1/u===1/a)||u!==u&&a!==a){if(o.children===r.children&&s)return e.stateNode=0,Yr(e),Mo(t,e);a=0}else if(a="function"===typeof i._calculateChangedBits?i._calculateChangedBits(u,a):1073741823,0===(a|=0)){if(o.children===r.children&&s)return e.stateNode=0,Yr(e),Mo(t,e)}else Do(e,i,a,n)}return e.stateNode=a,Yr(e),To(t,e,r.children),e.child}(t,e,n);case 12:t:if(i=e.type,o=e.pendingProps,u=e.memoizedProps,r=i._currentValue,s=i._changedBits,lr.current||0!==s||u!==o){if(e.memoizedProps=o,void 0!==(a=o.unstable_observedBits)&&null!==a||(a=1073741823),e.stateNode=a,0!==(s&a))Do(e,i,s,n);else if(u===o){t=Mo(t,e);break t}n=(n=o.children)(r),e.effectTag|=1,To(t,e,n),t=e.child}else t=Mo(t,e);return t;default:p("156")}}function jo(t){t.effectTag|=4}var Io=void 0,Fo=void 0,No=void 0;function Bo(t,e){var n=e.pendingProps;switch(e.tag){case 1:return null;case 2:return yr(e),null;case 3:io(),gr();var i=e.stateNode;return i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==t&&null!==t.child||(So(e),e.effectTag&=-3),Io(e),null;case 5:ro(e),i=eo(to.current);var r=e.type;if(null!==t&&null!=e.stateNode){var o=t.memoizedProps,s=e.stateNode,a=eo(Jr.current);s=qi(s,r,o,n,i),Fo(t,e,s,r,o,n,i,a),t.ref!==e.ref&&(e.effectTag|=128)}else{if(!n)return null===e.stateNode&&p("166"),null;if(t=eo(Jr.current),So(e))n=e.stateNode,r=e.type,o=e.memoizedProps,n[z]=e,n[W]=o,i=Xi(n,r,o,t,i),e.updateQueue=i,null!==i&&jo(e);else{(t=zi(r,n,i,t))[z]=e,t[W]=n;t:for(o=e.child;null!==o;){if(5===o.tag||6===o.tag)t.appendChild(o.stateNode);else if(4!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===e)break;for(;null===o.sibling;){if(null===o.return||o.return===e)break t;o=o.return}o.sibling.return=o.return,o=o.sibling}Hi(t,r,n,i),Zi(r,n)&&jo(e),e.stateNode=t}null!==e.ref&&(e.effectTag|=128)}return null;case 6:if(t&&null!=e.stateNode)No(t,e,t.memoizedProps,n);else{if("string"!==typeof n)return null===e.stateNode&&p("166"),null;i=eo(to.current),eo(Jr.current),So(e)?(i=e.stateNode,n=e.memoizedProps,i[z]=e,Gi(i,n)&&jo(e)):((i=Wi(n,i))[z]=e,e.stateNode=i)}return null;case 14:case 16:case 10:case 11:case 15:return null;case 4:return io(),Io(e),null;case 13:return Qr(e),null;case 12:return null;case 0:p("167");default:p("156")}}function Lo(t,e){var n=e.source;null===e.stack&&null!==n&&be(n),null!==n&&me(n),e=e.value,null!==t&&2===t.tag&&me(t);try{e&&e.suppressReactErrorLogging||console.error(e)}catch(t){t&&t.suppressReactErrorLogging||console.error(t)}}function Uo(t){var e=t.ref;if(null!==e)if("function"===typeof e)try{e(null)}catch(e){ys(t,e)}else e.current=null}function zo(t){switch(Mr(t),t.tag){case 2:Uo(t);var e=t.stateNode;if("function"===typeof e.componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){ys(t,e)}break;case 5:Uo(t);break;case 4:qo(t)}}function Wo(t){return 5===t.tag||3===t.tag||4===t.tag}function Ho(t){t:{for(var e=t.return;null!==e;){if(Wo(e)){var n=e;break t}e=e.return}p("160"),n=void 0}var i=e=void 0;switch(n.tag){case 5:e=n.stateNode,i=!1;break;case 3:case 4:e=n.stateNode.containerInfo,i=!0;break;default:p("161")}16&n.effectTag&&(Mi(e,""),n.effectTag&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||Wo(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag;){if(2&n.effectTag)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break t}}for(var r=t;;){if(5===r.tag||6===r.tag)if(n)if(i){var o=e,s=r.stateNode,a=n;8===o.nodeType?o.parentNode.insertBefore(s,a):o.insertBefore(s,a)}else e.insertBefore(r.stateNode,n);else i?(o=e,s=r.stateNode,8===o.nodeType?o.parentNode.insertBefore(s,o):o.appendChild(s)):e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function qo(t){for(var e=t,n=!1,i=void 0,r=void 0;;){if(!n){n=e.return;t:for(;;){switch(null===n&&p("160"),n.tag){case 5:i=n.stateNode,r=!1;break t;case 3:case 4:i=n.stateNode.containerInfo,r=!0;break t}n=n.return}n=!0}if(5===e.tag||6===e.tag){t:for(var o=e,s=o;;)if(zo(s),null!==s.child&&4!==s.tag)s.child.return=s,s=s.child;else{if(s===o)break;for(;null===s.sibling;){if(null===s.return||s.return===o)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}r?(o=i,s=e.stateNode,8===o.nodeType?o.parentNode.removeChild(s):o.removeChild(s)):i.removeChild(e.stateNode)}else if(4===e.tag?i=e.stateNode.containerInfo:zo(e),null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return;4===(e=e.return).tag&&(n=!1)}e.sibling.return=e.return,e=e.sibling}}function Vo(t,e){switch(e.tag){case 2:break;case 5:var n=e.stateNode;if(null!=n){var i=e.memoizedProps;t=null!==t?t.memoizedProps:i;var r=e.type,o=e.updateQueue;e.updateQueue=null,null!==o&&(n[W]=i,Vi(n,o,r,t,i))}break;case 6:null===e.stateNode&&p("162"),e.stateNode.nodeValue=e.memoizedProps;break;case 3:case 15:case 16:break;default:p("163")}}function Xo(t,e,n){(n=Fr(n)).tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Js(i),Lo(t,e)},n}function Go(t,e,n){(n=Fr(n)).tag=3;var i=t.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){null===ls?ls=new Set([this]):ls.add(this);var n=e.value,i=e.stack;Lo(t,e),this.componentDidCatch(n,{componentStack:null!==i?i:""})}),n}function Ko(t,e,n,i,r,o){n.effectTag|=512,n.firstEffect=n.lastEffect=null,i=Vr(i,n),t=e;do{switch(t.tag){case 3:return t.effectTag|=1024,void Lr(t,i=Xo(t,i,o),o);case 2:if(e=i,n=t.stateNode,0===(64&t.effectTag)&&null!==n&&"function"===typeof n.componentDidCatch&&(null===ls||!ls.has(n)))return t.effectTag|=1024,void Lr(t,i=Go(t,e,o),o)}t=t.return}while(null!==t)}function Yo(t){switch(t.tag){case 2:yr(t);var e=t.effectTag;return 1024&e?(t.effectTag=-1025&e|64,t):null;case 3:return io(),gr(),1024&(e=t.effectTag)?(t.effectTag=-1025&e|64,t):null;case 5:return ro(t),null;case 16:return 1024&(e=t.effectTag)?(t.effectTag=-1025&e|64,t):null;case 4:return io(),null;case 13:return Qr(t),null;default:return null}}Io=function(){},Fo=function(t,e,n){(e.updateQueue=n)&&jo(e)},No=function(t,e,n,i){n!==i&&jo(e)};var Qo=$i(),Zo=2,Jo=Qo,$o=0,ts=0,es=!1,ns=null,is=null,rs=0,os=-1,ss=!1,as=null,us=!1,cs=!1,ls=null;function hs(){if(null!==ns)for(var t=ns.return;null!==t;){var e=t;switch(e.tag){case 2:yr(e);break;case 3:io(),gr();break;case 5:ro(e);break;case 4:io();break;case 13:Qr(e)}t=t.return}is=null,rs=0,os=-1,ss=!1,ns=null,cs=!1}function ps(t){for(;;){var e=t.alternate,n=t.return,i=t.sibling;if(0===(512&t.effectTag)){e=Bo(e,t);var r=t;if(1073741823===rs||1073741823!==r.expirationTime){var o=0;switch(r.tag){case 3:case 2:var s=r.updateQueue;null!==s&&(o=s.expirationTime)}for(s=r.child;null!==s;)0!==s.expirationTime&&(0===o||o>s.expirationTime)&&(o=s.expirationTime),s=s.sibling;r.expirationTime=o}if(null!==e)return e;if(null!==n&&0===(512&n.effectTag)&&(null===n.firstEffect&&(n.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=t.firstEffect),n.lastEffect=t.lastEffect),1<t.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=t:n.firstEffect=t,n.lastEffect=t)),null!==i)return i;if(null===n){cs=!0;break}t=n}else{if(null!==(t=Yo(t)))return t.effectTag&=511,t;if(null!==n&&(n.firstEffect=n.lastEffect=null,n.effectTag|=512),null!==i)return i;if(null===n)break;t=n}}return null}function fs(t){var e=Ro(t.alternate,t,rs);return null===e&&(e=ps(t)),oe.current=null,e}function ds(t,e,n){es&&p("243"),es=!0,e===rs&&t===is&&null!==ns||(hs(),rs=e,os=-1,ns=xr((is=t).current,null,rs),t.pendingCommitExpirationTime=0);var i=!1;for(ss=!n||rs<=Zo;;){try{if(n)for(;null!==ns&&!Zs();)ns=fs(ns);else for(;null!==ns;)ns=fs(ns)}catch(e){if(null===ns)i=!0,Js(e);else{null===ns&&p("271");var r=(n=ns).return;if(null===r){i=!0,Js(e);break}Ko(t,r,n,e,0,rs),ns=ps(n)}}break}if(es=!1,i)return null;if(null===ns){if(cs)return t.pendingCommitExpirationTime=e,t.current.alternate;ss&&p("262"),0<=os&&setTimeout(function(){var e=t.current.expirationTime;0!==e&&(0===t.remainingExpirationTime||t.remainingExpirationTime<e)&&Ws(t,e)},os),function(t){null===Cs&&p("246"),Cs.remainingExpirationTime=t}(t.current.expirationTime)}return null}function ys(t,e){var n;t:{for(es&&!us&&p("263"),n=t.return;null!==n;){switch(n.tag){case 2:var i=n.stateNode;if("function"===typeof n.type.getDerivedStateFromCatch||"function"===typeof i.componentDidCatch&&(null===ls||!ls.has(i))){Br(n,t=Go(n,t=Vr(e,t),1),1),vs(n,1),n=void 0;break t}break;case 3:Br(n,t=Xo(n,t=Vr(e,t),1),1),vs(n,1),n=void 0;break t}n=n.return}3===t.tag&&(Br(t,n=Xo(t,n=Vr(e,t),1),1),vs(t,1)),n=void 0}return n}function gs(){var t=2+25*(1+((ms()-2+500)/25|0));return t<=$o&&(t=$o+1),$o=t}function _s(t,e){return t=0!==ts?ts:es?us?1:rs:1&e.mode?Fs?2+10*(1+((t-2+15)/10|0)):2+25*(1+((t-2+500)/25|0)):1,Fs&&(0===Os||t>Os)&&(Os=t),t}function vs(t,e){for(;null!==t;){if((0===t.expirationTime||t.expirationTime>e)&&(t.expirationTime=e),null!==t.alternate&&(0===t.alternate.expirationTime||t.alternate.expirationTime>e)&&(t.alternate.expirationTime=e),null===t.return){if(3!==t.tag)break;var n=t.stateNode;!es&&0!==rs&&e<rs&&hs();var i=n.current.expirationTime;es&&!us&&is===n||Ws(n,i),Ls>Bs&&p("185")}t=t.return}}function ms(){return Jo=$i()-Qo,Zo=2+(Jo/10|0)}function bs(t){var e=ts;ts=2+25*(1+((ms()-2+500)/25|0));try{return t()}finally{ts=e}}function ws(t,e,n,i,r){var o=ts;ts=1;try{return t(e,n,i,r)}finally{ts=o}}var xs=null,Ps=null,Ss=0,Es=void 0,Ts=!1,Cs=null,ks=0,Os=0,As=!1,Ds=!1,Ms=null,Rs=null,js=!1,Is=!1,Fs=!1,Ns=null,Bs=1e3,Ls=0,Us=1;function zs(t){if(0!==Ss){if(t>Ss)return;null!==Es&&er(Es)}var e=$i()-Qo;Ss=t,Es=tr(qs,{timeout:10*(t-2)-e})}function Ws(t,e){if(null===t.nextScheduledRoot)t.remainingExpirationTime=e,null===Ps?(xs=Ps=t,t.nextScheduledRoot=t):(Ps=Ps.nextScheduledRoot=t).nextScheduledRoot=xs;else{var n=t.remainingExpirationTime;(0===n||e<n)&&(t.remainingExpirationTime=e)}Ts||(js?Is&&(Cs=t,ks=1,Ys(t,1,!1)):1===e?Vs():zs(e))}function Hs(){var t=0,e=null;if(null!==Ps)for(var n=Ps,i=xs;null!==i;){var r=i.remainingExpirationTime;if(0===r){if((null===n||null===Ps)&&p("244"),i===i.nextScheduledRoot){xs=Ps=i.nextScheduledRoot=null;break}if(i===xs)xs=r=i.nextScheduledRoot,Ps.nextScheduledRoot=r,i.nextScheduledRoot=null;else{if(i===Ps){(Ps=n).nextScheduledRoot=xs,i.nextScheduledRoot=null;break}n.nextScheduledRoot=i.nextScheduledRoot,i.nextScheduledRoot=null}i=n.nextScheduledRoot}else{if((0===t||r<t)&&(t=r,e=i),i===Ps)break;n=i,i=i.nextScheduledRoot}}null!==(n=Cs)&&n===e&&1===t?Ls++:Ls=0,Cs=e,ks=t}function qs(t){Xs(0,!0,t)}function Vs(){Xs(1,!1,null)}function Xs(t,e,n){if(Rs=n,Hs(),e)for(;null!==Cs&&0!==ks&&(0===t||t>=ks)&&(!As||ms()>=ks);)ms(),Ys(Cs,ks,!As),Hs();else for(;null!==Cs&&0!==ks&&(0===t||t>=ks);)Ys(Cs,ks,!1),Hs();null!==Rs&&(Ss=0,Es=null),0!==ks&&zs(ks),Rs=null,As=!1,Ks()}function Gs(t,e){Ts&&p("253"),Cs=t,ks=e,Ys(t,e,!1),Vs(),Ks()}function Ks(){if(Ls=0,null!==Ns){var t=Ns;Ns=null;for(var e=0;e<t.length;e++){var n=t[e];try{n._onComplete()}catch(t){Ds||(Ds=!0,Ms=t)}}}if(Ds)throw t=Ms,Ms=null,Ds=!1,t}function Ys(t,e,n){Ts&&p("245"),Ts=!0,n?null!==(n=t.finishedWork)?Qs(t,n,e):null!==(n=ds(t,e,!0))&&(Zs()?t.finishedWork=n:Qs(t,n,e)):null!==(n=t.finishedWork)?Qs(t,n,e):null!==(n=ds(t,e,!1))&&Qs(t,n,e),Ts=!1}function Qs(t,e,n){var i=t.firstBatch;if(null!==i&&i._expirationTime<=n&&(null===Ns?Ns=[i]:Ns.push(i),i._defer))return t.finishedWork=e,void(t.remainingExpirationTime=0);if(t.finishedWork=null,us=es=!0,(n=e.stateNode).current===e&&p("177"),0===(i=n.pendingCommitExpirationTime)&&p("261"),n.pendingCommitExpirationTime=0,ms(),oe.current=null,1<e.effectTag)if(null!==e.lastEffect){e.lastEffect.nextEffect=e;var r=e.firstEffect}else r=e;else r=e.firstEffect;Yi=On;var o=u();if(Wn(o)){if("selectionStart"in o)var s={start:o.selectionStart,end:o.selectionEnd};else t:{var a=window.getSelection&&window.getSelection();if(a&&0!==a.rangeCount){s=a.anchorNode;var c=a.anchorOffset,h=a.focusNode;a=a.focusOffset;try{s.nodeType,h.nodeType}catch(t){s=null;break t}var f=0,d=-1,y=-1,g=0,_=0,v=o,m=null;e:for(;;){for(var b;v!==s||0!==c&&3!==v.nodeType||(d=f+c),v!==h||0!==a&&3!==v.nodeType||(y=f+a),3===v.nodeType&&(f+=v.nodeValue.length),null!==(b=v.firstChild);)m=v,v=b;for(;;){if(v===o)break e;if(m===s&&++g===c&&(d=f),m===h&&++_===a&&(y=f),null!==(b=v.nextSibling))break;m=(v=m).parentNode}v=b}s=-1===d||-1===y?null:{start:d,end:y}}else s=null}s=s||{start:0,end:0}}else s=null;for(Qi={focusedElem:o,selectionRange:s},An(!1),as=r;null!==as;){o=!1,s=void 0;try{for(;null!==as;){if(256&as.effectTag){var w=as.alternate;switch((c=as).tag){case 2:if(256&c.effectTag&&null!==w){var x=w.memoizedProps,P=w.memoizedState,S=c.stateNode;S.props=c.memoizedProps,S.state=c.memoizedState;var E=S.getSnapshotBeforeUpdate(x,P);S.__reactInternalSnapshotBeforeUpdate=E}break;case 3:case 5:case 6:case 4:break;default:p("163")}}as=as.nextEffect}}catch(t){o=!0,s=t}o&&(null===as&&p("178"),ys(as,s),null!==as&&(as=as.nextEffect))}for(as=r;null!==as;){w=!1,x=void 0;try{for(;null!==as;){var T=as.effectTag;if(16&T&&Mi(as.stateNode,""),128&T){var C=as.alternate;if(null!==C){var k=C.ref;null!==k&&("function"===typeof k?k(null):k.current=null)}}switch(14&T){case 2:Ho(as),as.effectTag&=-3;break;case 6:Ho(as),as.effectTag&=-3,Vo(as.alternate,as);break;case 4:Vo(as.alternate,as);break;case 8:qo(P=as),P.return=null,P.child=null,P.alternate&&(P.alternate.child=null,P.alternate.return=null)}as=as.nextEffect}}catch(t){w=!0,x=t}w&&(null===as&&p("178"),ys(as,x),null!==as&&(as=as.nextEffect))}if(k=Qi,C=u(),T=k.focusedElem,w=k.selectionRange,C!==T&&l(document.documentElement,T)){null!==w&&Wn(T)&&(C=w.start,void 0===(k=w.end)&&(k=C),"selectionStart"in T?(T.selectionStart=C,T.selectionEnd=Math.min(k,T.value.length)):window.getSelection&&(C=window.getSelection(),x=T[dt()].length,k=Math.min(w.start,x),w=void 0===w.end?k:Math.min(w.end,x),!C.extend&&k>w&&(x=w,w=k,k=x),x=zn(T,k),P=zn(T,w),x&&P&&(1!==C.rangeCount||C.anchorNode!==x.node||C.anchorOffset!==x.offset||C.focusNode!==P.node||C.focusOffset!==P.offset)&&((S=document.createRange()).setStart(x.node,x.offset),C.removeAllRanges(),k>w?(C.addRange(S),C.extend(P.node,P.offset)):(S.setEnd(P.node,P.offset),C.addRange(S))))),C=[];for(k=T;k=k.parentNode;)1===k.nodeType&&C.push({element:k,left:k.scrollLeft,top:k.scrollTop});for("function"===typeof T.focus&&T.focus(),T=0;T<C.length;T++)(k=C[T]).element.scrollLeft=k.left,k.element.scrollTop=k.top}for(Qi=null,An(Yi),Yi=null,n.current=e,as=r;null!==as;){r=!1,T=void 0;try{for(C=i;null!==as;){var O=as.effectTag;if(36&O){var A=as.alternate;switch(w=C,(k=as).tag){case 2:var D=k.stateNode;if(4&k.effectTag)if(null===A)D.props=k.memoizedProps,D.state=k.memoizedState,D.componentDidMount();else{var M=A.memoizedProps,R=A.memoizedState;D.props=k.memoizedProps,D.state=k.memoizedState,D.componentDidUpdate(M,R,D.__reactInternalSnapshotBeforeUpdate)}var j=k.updateQueue;null!==j&&(D.props=k.memoizedProps,D.state=k.memoizedState,qr(k,j,D));break;case 3:var I=k.updateQueue;if(null!==I){if(x=null,null!==k.child)switch(k.child.tag){case 5:x=k.child.stateNode;break;case 2:x=k.child.stateNode}qr(k,I,x)}break;case 5:var F=k.stateNode;null===A&&4&k.effectTag&&Zi(k.type,k.memoizedProps)&&F.focus();break;case 6:case 4:case 15:case 16:break;default:p("163")}}if(128&O){k=void 0;var N=as.ref;if(null!==N){var B=as.stateNode;switch(as.tag){case 5:k=B;break;default:k=B}"function"===typeof N?N(k):N.current=k}}var L=as.nextEffect;as.nextEffect=null,as=L}}catch(t){r=!0,T=t}r&&(null===as&&p("178"),ys(as,T),null!==as&&(as=as.nextEffect))}es=us=!1,Dr(e.stateNode),0===(e=n.current.expirationTime)&&(ls=null),t.remainingExpirationTime=e}function Zs(){return!(null===Rs||Rs.timeRemaining()>Us)&&(As=!0)}function Js(t){null===Cs&&p("246"),Cs.remainingExpirationTime=0,Ds||(Ds=!0,Ms=t)}function $s(t,e){var n=js;js=!0;try{return t(e)}finally{(js=n)||Ts||Vs()}}function ta(t,e){if(js&&!Is){Is=!0;try{return t(e)}finally{Is=!1}}return t(e)}function ea(t,e){Ts&&p("187");var n=js;js=!0;try{return ws(t,e)}finally{js=n,Vs()}}function na(t,e,n){if(Fs)return t(e,n);js||Ts||0===Os||(Xs(Os,!1,null),Os=0);var i=Fs,r=js;js=Fs=!0;try{return t(e,n)}finally{Fs=i,(js=r)||Ts||Vs()}}function ia(t){var e=js;js=!0;try{ws(t)}finally{(js=e)||Ts||Xs(1,!1,null)}}function ra(t,e,n,i,r){var o=e.current;if(n){var s;n=n._reactInternalFiber;t:{for(2===sn(n)&&2===n.tag||p("170"),s=n;3!==s.tag;){if(dr(s)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}(s=s.return)||p("171")}s=s.stateNode.context}n=dr(n)?vr(n,s):s}else n=h;return null===e.context?e.context=n:e.pendingContext=n,e=r,(r=Fr(i)).payload={element:t},null!==(e=void 0===e?null:e)&&(r.callback=e),Br(o,r,i),vs(o,i),i}function oa(t){var e=t._reactInternalFiber;return void 0===e&&("function"===typeof t.render?p("188"):p("268",Object.keys(t))),null===(t=cn(e))?null:t.stateNode}function sa(t,e,n,i){var r=e.current;return ra(t,e,n,r=_s(ms(),r),i)}function aa(t){if(!(t=t.current).child)return null;switch(t.child.tag){case 5:default:return t.child.stateNode}}function ua(t){var e=t.findFiberByHostInstance;return function(t){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var n=e.inject(t);kr=Ar(function(t){return e.onCommitFiberRoot(n,t)}),Or=Ar(function(t){return e.onCommitFiberUnmount(n,t)})}catch(t){}return!0}(s({},t,{findHostInstanceByFiber:function(t){return null===(t=cn(t))?null:t.stateNode},findFiberByHostInstance:function(t){return e?e(t):null}}))}var ca=$s,la=na,ha=function(){Ts||0===Os||(Xs(Os,!1,null),Os=0)};function pa(t){this._expirationTime=gs(),this._root=t,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function fa(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function da(t,e,n){this._internalRoot=Cr(t,e,n)}function ya(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function ga(t,e,n,i,r){ya(n)||p("200");var o=n._reactRootContainer;if(o){if("function"===typeof r){var s=r;r=function(){var t=aa(o._internalRoot);s.call(t)}}null!=t?o.legacy_renderSubtreeIntoContainer(t,e,r):o.render(e,r)}else{if(o=n._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new da(t,!1,e)}(n,i),"function"===typeof r){var a=r;r=function(){var t=aa(o._internalRoot);a.call(t)}}ta(function(){null!=t?o.legacy_renderSubtreeIntoContainer(t,e,r):o.render(e,r)})}return aa(o._internalRoot)}function _a(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return ya(e)||p("200"),function(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:ue,key:null==i?null:""+i,children:t,containerInfo:e,implementation:n}}(t,e,null,n)}Lt.injectFiberControlledHostComponent(Ki),pa.prototype.render=function(t){this._defer||p("250"),this._hasChildren=!0,this._children=t;var e=this._root._internalRoot,n=this._expirationTime,i=new fa;return ra(t,e,null,n,i._onCommit),i},pa.prototype.then=function(t){if(this._didComplete)t();else{var e=this._callbacks;null===e&&(e=this._callbacks=[]),e.push(t)}},pa.prototype.commit=function(){var t=this._root._internalRoot,e=t.firstBatch;if(this._defer&&null!==e||p("251"),this._hasChildren){var n=this._expirationTime;if(e!==this){this._hasChildren&&(n=this._expirationTime=e._expirationTime,this.render(this._children));for(var i=null,r=e;r!==this;)i=r,r=r._next;null===i&&p("251"),i._next=r._next,this._next=e,t.firstBatch=this}this._defer=!1,Gs(t,n),e=this._next,this._next=null,null!==(e=t.firstBatch=e)&&e._hasChildren&&e.render(e._children)}else this._next=null,this._defer=!1},pa.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var t=this._callbacks;if(null!==t)for(var e=0;e<t.length;e++)(0,t[e])()}},fa.prototype.then=function(t){if(this._didCommit)t();else{var e=this._callbacks;null===e&&(e=this._callbacks=[]),e.push(t)}},fa.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var t=this._callbacks;if(null!==t)for(var e=0;e<t.length;e++){var n=t[e];"function"!==typeof n&&p("191",n),n()}}},da.prototype.render=function(t,e){var n=this._internalRoot,i=new fa;return null!==(e=void 0===e?null:e)&&i.then(e),sa(t,n,null,i._onCommit),i},da.prototype.unmount=function(t){var e=this._internalRoot,n=new fa;return null!==(t=void 0===t?null:t)&&n.then(t),sa(null,e,null,n._onCommit),n},da.prototype.legacy_renderSubtreeIntoContainer=function(t,e,n){var i=this._internalRoot,r=new fa;return null!==(n=void 0===n?null:n)&&r.then(n),sa(e,i,t,r._onCommit),r},da.prototype.createBatch=function(){var t=new pa(this),e=t._expirationTime,n=this._internalRoot,i=n.firstBatch;if(null===i)n.firstBatch=t,t._next=null;else{for(n=null;null!==i&&i._expirationTime<=e;)n=i,i=i._next;t._next=i,null!==n&&(n._next=t)}return t},Gt=ca,Kt=la,Yt=ha;var va={createPortal:_a,findDOMNode:function(t){return null==t?null:1===t.nodeType?t:oa(t)},hydrate:function(t,e,n){return ga(null,t,e,!0,n)},render:function(t,e,n){return ga(null,t,e,!1,n)},unstable_renderSubtreeIntoContainer:function(t,e,n,i){return(null==t||void 0===t._reactInternalFiber)&&p("38"),ga(t,e,n,!1,i)},unmountComponentAtNode:function(t){return ya(t)||p("40"),!!t._reactRootContainer&&(ta(function(){ga(null,null,t,!1,function(){t._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return _a.apply(void 0,arguments)},unstable_batchedUpdates:$s,unstable_deferredUpdates:bs,unstable_interactiveUpdates:na,flushSync:ea,unstable_flushControlled:ia,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{EventPluginHub:L,EventPluginRegistry:S,EventPropagators:nt,ReactControlledComponent:Xt,ReactDOMComponentTree:X,ReactDOMEventListener:In},unstable_createRoot:function(t,e){return new da(t,!0,null!=e&&!0===e.hydrate)}};ua({findFiberByHostInstance:H,bundleType:0,version:"16.4.1",rendererPackageName:"react-dom"});var ma={default:va},ba=ma&&va||ma;t.exports=ba.default?ba.default:ba},function(t,e,n){"use strict";var i=!("undefined"===typeof window||!window.document||!window.document.createElement),r={canUseDOM:i,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:i&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:i&&!!window.screen,isInWorker:!i};t.exports=r},function(t,e,n){"use strict";t.exports=function(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}},function(t,e,n){"use strict";var i=Object.prototype.hasOwnProperty;function r(t,e){return t===e?0!==t||0!==e||1/t===1/e:t!==t&&e!==e}t.exports=function(t,e){if(r(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),o=Object.keys(e);if(n.length!==o.length)return!1;for(var s=0;s<n.length;s++)if(!i.call(e,n[s])||!r(t[n[s]],e[n[s]]))return!1;return!0}},function(t,e,n){"use strict";var i=n(94);t.exports=function t(e,n){return!(!e||!n)&&(e===n||!i(e)&&(i(n)?t(e,n.parentNode):"contains"in e?e.contains(n):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(n))))}},function(t,e,n){"use strict";var i=n(95);t.exports=function(t){return i(t)&&3==t.nodeType}},function(t,e,n){"use strict";t.exports=function(t){var e=(t?t.ownerDocument||t:document).defaultView||window;return!(!t||!("function"===typeof e.Node?t instanceof e.Node:"object"===typeof t&&"number"===typeof t.nodeType&&"string"===typeof t.nodeName))}},function(t,e,n){"use strict";var i,r=n(8),o=(n.n(r),n(97)),s=(n.n(o),n(98)),a=n(48),u=n(29),c=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c(e,t),e.prototype.render=function(){return r.createElement(a.a,{store:u.a},r.createElement(s.a,null))},e}(r.Component);e.a=l},function(t,e){},function(t,e,n){"use strict";var i=n(48),r=n(124);e.a=Object(i.b)(function(t){var e=t.gameState,n=t.uiState;return{dialog:e.currentConversation,index:n.messageIndex}})(r.a)},function(t,e,n){"use strict";var i=n(8),r=(n.n(i),n(49)),o=n.n(r),s=n(50);n(28);e.a=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"store",n=arguments[1]||e+"Subscription",r=function(t){function r(n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,t.call(this,n,i));return o[e]=n.store,o}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,t),r.prototype.getChildContext=function(){var t;return(t={})[e]=this[e],t[n]=null,t},r.prototype.render=function(){return i.Children.only(this.props.children)},r}(i.Component);return r.propTypes={store:s.a.isRequired,children:o.a.element.isRequired},r.childContextTypes=((t={})[e]=s.a.isRequired,t[n]=s.b,t),r}()},function(t,e,n){"use strict";var i=n(101);function r(){}t.exports=function(){function t(t,e,n,r,o,s){if(s!==i){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e};return n.checkPropTypes=r,n.PropTypes=n,n}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){"use strict";var i={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o=Object.defineProperty,s=Object.getOwnPropertyNames,a=Object.getOwnPropertySymbols,u=Object.getOwnPropertyDescriptor,c=Object.getPrototypeOf,l=c&&c(Object);t.exports=function t(e,n,h){if("string"!==typeof n){if(l){var p=c(n);p&&p!==l&&t(e,p,h)}var f=s(n);a&&(f=f.concat(a(n)));for(var d=0;d<f.length;++d){var y=f[d];if(!i[y]&&!r[y]&&(!h||!h[y])){var g=u(n,y);try{o(e,y,g)}catch(t){}}}return e}return e}},function(t,e,n){"use strict";t.exports=function(t,e,n,i,r,o,s,a){if(!t){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,i,r,o,s,a],l=0;(u=new Error(e.replace(/%s/g,function(){return c[l++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=null,r={notify:function(){}};var o=function(){function t(e,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.store=e,this.parentSub=n,this.onStateChange=i,this.unsubscribe=null,this.listeners=r}return t.prototype.addNestedSub=function(t){return this.trySubscribe(),this.listeners.subscribe(t)},t.prototype.notifyNestedSubs=function(){this.listeners.notify()},t.prototype.isSubscribed=function(){return Boolean(this.unsubscribe)},t.prototype.trySubscribe=function(){var t,e;this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=(t=[],e=[],{clear:function(){e=i,t=i},notify:function(){for(var n=t=e,i=0;i<n.length;i++)n[i]()},get:function(){return e},subscribe:function(n){var r=!0;return e===t&&(e=t.slice()),e.push(n),function(){r&&t!==i&&(r=!1,e===t&&(e=t.slice()),e.splice(e.indexOf(n),1))}}}))},t.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=r)},t}()},function(t,e,n){"use strict";var i=n(51),r=n(106),o=n(107),s=n(120),a=n(121),u=n(122),c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};function l(t,e,n){for(var i=e.length-1;i>=0;i--){var r=e[i](t);if(r)return r}return function(e,i){throw new Error("Invalid value of type "+typeof t+" for "+n+" argument when connecting component "+i.wrappedComponentName+".")}}function h(t,e){return t===e}e.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.connectHOC,n=void 0===e?i.a:e,p=t.mapStateToPropsFactories,f=void 0===p?s.a:p,d=t.mapDispatchToPropsFactories,y=void 0===d?o.a:d,g=t.mergePropsFactories,_=void 0===g?a.a:g,v=t.selectorFactory,m=void 0===v?u.a:v;return function(t,e,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=o.pure,a=void 0===s||s,u=o.areStatesEqual,p=void 0===u?h:u,d=o.areOwnPropsEqual,g=void 0===d?r.a:d,v=o.areStatePropsEqual,b=void 0===v?r.a:v,w=o.areMergedPropsEqual,x=void 0===w?r.a:w,P=function(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}(o,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),S=l(t,f,"mapStateToProps"),E=l(e,y,"mapDispatchToProps"),T=l(i,_,"mergeProps");return n(m,c({methodName:"connect",getDisplayName:function(t){return"Connect("+t+")"},shouldHandleStateChanges:Boolean(t),initMapStateToProps:S,initMapDispatchToProps:E,initMergeProps:T,pure:a,areStatesEqual:p,areOwnPropsEqual:g,areStatePropsEqual:b,areMergedPropsEqual:x},P))}}()},function(t,e,n){"use strict";e.a=function(t,e){if(r(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),o=Object.keys(e);if(n.length!==o.length)return!1;for(var s=0;s<n.length;s++)if(!i.call(e,n[s])||!r(t[n[s]],e[n[s]]))return!1;return!0};var i=Object.prototype.hasOwnProperty;function r(t,e){return t===e?0!==t||0!==e||1/t===1/e:t!==t&&e!==e}},function(t,e,n){"use strict";var i=n(52),r=n(54);e.a=[function(t){return"function"===typeof t?Object(r.b)(t,"mapDispatchToProps"):void 0},function(t){return t?void 0:Object(r.a)(function(t){return{dispatch:t}})},function(t){return t&&"object"===typeof t?Object(r.a)(function(e){return Object(i.a)(t,e)}):void 0}]},function(t,e,n){"use strict";(function(t,i){var r,o=n(110);r="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof t?t:i;var s=Object(o.a)(r);e.a=s}).call(e,n(53),n(109)(t))},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e,n){"use strict";e.a=function(t){var e,n=t.Symbol;"function"===typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable";return e}},function(t,e,n){"use strict";var i=n(112),r=n(117),o=n(119),s="[object Object]",a=Function.prototype,u=Object.prototype,c=a.toString,l=u.hasOwnProperty,h=c.call(Object);e.a=function(t){if(!Object(o.a)(t)||Object(i.a)(t)!=s)return!1;var e=Object(r.a)(t);if(null===e)return!0;var n=l.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==h}},function(t,e,n){"use strict";var i=n(56),r=n(115),o=n(116),s="[object Null]",a="[object Undefined]",u=i.a?i.a.toStringTag:void 0;e.a=function(t){return null==t?void 0===t?a:s:u&&u in Object(t)?Object(r.a)(t):Object(o.a)(t)}},function(t,e,n){"use strict";var i=n(114),r="object"==typeof self&&self&&self.Object===Object&&self,o=i.a||r||Function("return this")();e.a=o},function(t,e,n){"use strict";(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.a=n}).call(e,n(53))},function(t,e,n){"use strict";var i=n(56),r=Object.prototype,o=r.hasOwnProperty,s=r.toString,a=i.a?i.a.toStringTag:void 0;e.a=function(t){var e=o.call(t,a),n=t[a];try{t[a]=void 0;var i=!0}catch(t){}var r=s.call(t);return i&&(e?t[a]=n:delete t[a]),r}},function(t,e,n){"use strict";var i=Object.prototype.toString;e.a=function(t){return i.call(t)}},function(t,e,n){"use strict";var i=n(118),r=Object(i.a)(Object.getPrototypeOf,Object);e.a=r},function(t,e,n){"use strict";e.a=function(t,e){return function(n){return t(e(n))}}},function(t,e,n){"use strict";e.a=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){"use strict";var i=n(54);e.a=[function(t){return"function"===typeof t?Object(i.b)(t,"mapStateToProps"):void 0},function(t){return t?void 0:Object(i.a)(function(){return{}})}]},function(t,e,n){"use strict";n(55);var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};function r(t,e,n){return i({},n,t,e)}e.a=[function(t){return"function"===typeof t?function(t){return function(e,n){n.displayName;var i=n.pure,r=n.areMergedPropsEqual,o=!1,s=void 0;return function(e,n,a){var u=t(e,n,a);return o?i&&r(u,s)||(s=u):(o=!0,s=u),s}}}(t):void 0},function(t){return t?void 0:function(){return r}}]},function(t,e,n){"use strict";e.a=function(t,e){var n=e.initMapStateToProps,o=e.initMapDispatchToProps,s=e.initMergeProps,a=function(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}(e,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),u=n(t,a),c=o(t,a),l=s(t,a);0;return(a.pure?r:i)(u,c,l,t,a)};n(123);function i(t,e,n,i){return function(r,o){return n(t(r,o),e(i,o),o)}}function r(t,e,n,i,r){var o=r.areStatesEqual,s=r.areOwnPropsEqual,a=r.areStatePropsEqual,u=!1,c=void 0,l=void 0,h=void 0,p=void 0,f=void 0;function d(r,u){var d,y,g=!s(u,l),_=!o(r,c);return c=r,l=u,g&&_?(h=t(c,l),e.dependsOnOwnProps&&(p=e(i,l)),f=n(h,p,l)):g?(t.dependsOnOwnProps&&(h=t(c,l)),e.dependsOnOwnProps&&(p=e(i,l)),f=n(h,p,l)):_?(d=t(c,l),y=!a(d,h),h=d,y&&(f=n(h,p,l)),f):f}return function(r,o){return u?d(r,o):(h=t(c=r,l=o),p=e(i,l),f=n(h,p,l),u=!0,f)}}},function(t,e,n){"use strict";n(28)},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n(8),r=(n.n(i),n(125)),o=n(16),s=n(59),a=n(57),u=function(t){return null==t.dialog?i.createElement("div",null):t.index<t.dialog.messages.length-1?i.createElement(a.a,{onFinish:function(){return t.dispatch(s.c())},key:t.index},t.dialog.messages[t.index].message):t.index===t.dialog.messages.length-1?i.createElement(r.a,{choices:Object.keys(t.dialog.choices),boundCallback:function(e){return t.dispatch(o.c(e))}},t.dialog.messages[t.index].message):(console.error("Dialog Index out of range"),i.createElement("div",null," I don't know what you did but it broke something. Check console for more."))}},function(t,e,n){"use strict";var i,r=n(8),o=(n.n(r),n(57)),s=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){var e=t.target,n=t.choiceCallback;return r.createElement("p",{className:"choice",onClick:function(){return n(e)}},e)},u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={shown:!1},e}return s(e,t),e.prototype.render=function(){var t=this;return r.createElement(o.a,{onFinish:function(){return t.setState({shown:!0})}},r.createElement("p",null,this.props.children),this.props.choices.map(function(e){return r.createElement(a,{target:e,choiceCallback:t.props.boundCallback})}))},e}(r.Component);e.a=u},function(t,e,n){t.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}return n.m=t,n.c=e,n.p="",n(0)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(1),s=p(o),a=p(n(2)),u=p(n(10)),c=p(n(12)),l=p(n(13)),h=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(14));function p(t){return t&&t.__esModule?t:{default:t}}var f=["\ud83d\udd19","\u23f0"],d=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={textLines:[],isDone:!1},n.onTypingDone=function(){n.mounted&&(n.setState({isDone:!0}),n.props.onTypingDone())},n.delayGenerator=function(t,e,i,r){var o=n.props.avgTypingDelay,s=n.props.stdTypingDelay;return n.props.delayGenerator(o,s,{line:t,lineIdx:e,character:i,charIdx:r,defDelayGenerator:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s;return h.gaussianRnd(t,e)}})},n.typeLine=function(t,e){if(!n.mounted)return Promise.resolve();var i=t,r=n.props.onLineTyped;return h.isBackspaceElement(t)?(t.props.delay>0&&(n.introducedDelay=t.props.delay),i=String("\ud83d\udd19").repeat(t.props.count)):h.isDelayElement(t)&&(n.introducedDelay=t.props.ms,i="\u23f0"),new Promise(function(t,o){n.setState({textLines:n.state.textLines.concat([""])},function(){h.eachPromise(i,n.typeCharacter,i,e).then(function(){return r(i,e)}).then(t).catch(o)})})},n.typeCharacter=function(t,e,i,r){if(!n.mounted)return Promise.resolve();var o=n.props.onCharacterTyped;return new Promise(function(s){var a=n.state.textLines.slice();h.sleep(n.introducedDelay).then(function(){n.introducedDelay=null;var u="\ud83d\udd19"===t;if("\u23f0"===t)s();else{if(u&&r>0){for(var c=r-1,l=a[c],h=c;h>=0&&(!(l.length>0)||f.includes(l[0]));h--)l=a[c=h];a[c]=l.substr(0,l.length-1)}else a[r]+=t;n.setState({textLines:a},function(){var a=n.delayGenerator(i,r,t,e);o(t,e),setTimeout(s,a)})}})})},n.mounted=!1,n.linesToType=[],n.introducedDelay=null,t.children&&(n.linesToType=h.extractTextFromElement(t.children)),n}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.Component),r(e,[{key:"componentDidMount",value:function(){this.mounted=!0;var t=this.props,e=t.children,n=t.startDelay;e?n>0&&"undefined"!==typeof window?setTimeout(this.typeAllLines.bind(this),n):this.typeAllLines():this.onTypingDone()}},{key:"shouldComponentUpdate",value:function(t,e){if(e.textLines.length!==this.state.textLines.length)return!0;for(var n=0;n<e.textLines.length;n++){if(this.state.textLines[n]!==e.textLines[n])return!0}return this.state.isDone!==e.isDone}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"typeAllLines",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.linesToType;return h.eachPromise(e,this.typeLine).then(function(){return t.onTypingDone()})}},{key:"render",value:function(){var t=this.props,e=t.className,n=t.cursor,r=this.state.isDone,o=h.cloneElementWithSpecifiedText({element:this.props.children,textLines:this.state.textLines});return s.default.createElement("div",{className:"Typist "+e},o,s.default.createElement(u.default,i({isDone:r},n)))}}]),e}();d.propTypes={children:a.default.node,className:a.default.string,avgTypingDelay:a.default.number,stdTypingDelay:a.default.number,startDelay:a.default.number,cursor:a.default.object,onCharacterTyped:a.default.func,onLineTyped:a.default.func,onTypingDone:a.default.func,delayGenerator:a.default.func},d.defaultProps={className:"",avgTypingDelay:70,stdTypingDelay:25,startDelay:0,cursor:{},onCharacterTyped:function(){},onLineTyped:function(){},onTypingDone:function(){},delayGenerator:h.gaussianRnd},e.default=d,d.Backspace=c.default,d.Delay=l.default},function(t,e){t.exports=n(8)},function(t,e,n){t.exports=n(9)()},function(t,e,n){"use strict";var i=n(4),r=n(5),o=n(6),s=n(7),a=n(8);t.exports=function(t,e){var n="function"===typeof Symbol&&Symbol.iterator,u="@@iterator";var c="<<anonymous>>",l={array:d("array"),bool:d("boolean"),func:d("function"),number:d("number"),object:d("object"),string:d("string"),symbol:d("symbol"),any:f(i.thatReturnsNull),arrayOf:function(t){return f(function(e,n,i,r,o){if("function"!==typeof t)return new p("Property `"+o+"` of component `"+i+"` has invalid PropType notation inside arrayOf.");var a=e[n];if(!Array.isArray(a)){var u=g(a);return new p("Invalid "+r+" `"+o+"` of type `"+u+"` supplied to `"+i+"`, expected an array.")}for(var c=0;c<a.length;c++){var l=t(a,c,i,r,o+"["+c+"]",s);if(l instanceof Error)return l}return null})},element:function(){return f(function(e,n,i,r,o){var s=e[n];if(!t(s)){var a=g(s);return new p("Invalid "+r+" `"+o+"` of type `"+a+"` supplied to `"+i+"`, expected a single ReactElement.")}return null})}(),instanceOf:function(t){return f(function(e,n,i,r,o){if(!(e[n]instanceof t)){var s=t.name||c,a=function(t){if(!t.constructor||!t.constructor.name)return c;return t.constructor.name}(e[n]);return new p("Invalid "+r+" `"+o+"` of type `"+a+"` supplied to `"+i+"`, expected instance of `"+s+"`.")}return null})},node:function(){return f(function(t,e,n,i,r){if(!y(t[e]))return new p("Invalid "+i+" `"+r+"` supplied to `"+n+"`, expected a ReactNode.");return null})}(),objectOf:function(t){return f(function(e,n,i,r,o){if("function"!==typeof t)return new p("Property `"+o+"` of component `"+i+"` has invalid PropType notation inside objectOf.");var a=e[n],u=g(a);if("object"!==u)return new p("Invalid "+r+" `"+o+"` of type `"+u+"` supplied to `"+i+"`, expected an object.");for(var c in a)if(a.hasOwnProperty(c)){var l=t(a,c,i,r,o+"."+c,s);if(l instanceof Error)return l}return null})},oneOf:function(t){if(!Array.isArray(t))return i.thatReturnsNull;return f(function(e,n,i,r,o){for(var s=e[n],a=0;a<t.length;a++)if(h(s,t[a]))return null;var u=JSON.stringify(t);return new p("Invalid "+r+" `"+o+"` of value `"+s+"` supplied to `"+i+"`, expected one of "+u+".")})},oneOfType:function(t){if(!Array.isArray(t))return i.thatReturnsNull;for(var e=0;e<t.length;e++){var n=t[e];if("function"!==typeof n)return o(!1,"Invalid argument supplid to oneOfType. Expected an array of check functions, but received %s at index %s.",v(n),e),i.thatReturnsNull}return f(function(e,n,i,r,o){for(var a=0;a<t.length;a++){var u=t[a];if(null==u(e,n,i,r,o,s))return null}return new p("Invalid "+r+" `"+o+"` supplied to `"+i+"`.")})},shape:function(t){return f(function(e,n,i,r,o){var a=e[n],u=g(a);if("object"!==u)return new p("Invalid "+r+" `"+o+"` of type `"+u+"` supplied to `"+i+"`, expected `object`.");for(var c in t){var l=t[c];if(l){var h=l(a,c,i,r,o+"."+c,s);if(h)return h}}return null})}};function h(t,e){return t===e?0!==t||1/t===1/e:t!==t&&e!==e}function p(t){this.message=t,this.stack=""}function f(t){function n(n,i,o,a,u,l,h){(a=a||c,l=l||o,h!==s)&&(e&&r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types"));return null==i[o]?n?null===i[o]?new p("The "+u+" `"+l+"` is marked as required in `"+a+"`, but its value is `null`."):new p("The "+u+" `"+l+"` is marked as required in `"+a+"`, but its value is `undefined`."):null:t(i,o,a,u,l)}var i=n.bind(null,!1);return i.isRequired=n.bind(null,!0),i}function d(t){return f(function(e,n,i,r,o,s){var a=e[n];return g(a)!==t?new p("Invalid "+r+" `"+o+"` of type `"+_(a)+"` supplied to `"+i+"`, expected `"+t+"`."):null})}function y(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(y);if(null===e||t(e))return!0;var i=function(t){var e=t&&(n&&t[n]||t[u]);if("function"===typeof e)return e}(e);if(!i)return!1;var r,o=i.call(e);if(i!==e.entries){for(;!(r=o.next()).done;)if(!y(r.value))return!1}else for(;!(r=o.next()).done;){var s=r.value;if(s&&!y(s[1]))return!1}return!0;default:return!1}}function g(t){var e=typeof t;return Array.isArray(t)?"array":t instanceof RegExp?"object":function(t,e){return"symbol"===t||"Symbol"===e["@@toStringTag"]||"function"===typeof Symbol&&e instanceof Symbol}(e,t)?"symbol":e}function _(t){if("undefined"===typeof t||null===t)return""+t;var e=g(t);if("object"===e){if(t instanceof Date)return"date";if(t instanceof RegExp)return"regexp"}return e}function v(t){var e=_(t);switch(e){case"array":case"object":return"an "+e;case"boolean":case"date":case"regexp":return"a "+e;default:return e}}return p.prototype=Error.prototype,l.checkPropTypes=a,l.PropTypes=l,l}},function(t,e){"use strict";function n(t){return function(){return t}}var i=function(){};i.thatReturns=n,i.thatReturnsFalse=n(!1),i.thatReturnsTrue=n(!0),i.thatReturnsNull=n(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(t){return t},t.exports=i},function(t,e){"use strict";var n=function(t){};t.exports=function(t,e,i,r,o,s,a,u){if(n(e),!t){var c;if(void 0===e)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[i,r,o,s,a,u],h=0;(c=new Error(e.replace(/%s/g,function(){return l[h++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}}},function(t,e,n){"use strict";var i=n(4);t.exports=i},function(t,e){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){"use strict";t.exports=function(t,e,n,i,r){}},function(t,e,n){"use strict";var i=n(4),r=n(5),o=n(7);t.exports=function(){function t(t,e,n,i,s,a){a!==o&&r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e};return n.checkPropTypes=i,n.PropTypes=n,n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(1),o=a(r),s=a(n(2));function a(t){return t&&t.__esModule?t:{default:t}}n(11);var u=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n._isReRenderingCursor=!1,n.state={shouldRender:n.props.show},n}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.Component),i(e,[{key:"componentWillReceiveProps",value:function(t){var e=this;!this.props.isDone&&t.isDone&&this.props.hideWhenDone&&setTimeout(function(){return e.setState({shouldRender:!1})},this.props.hideWhenDoneDelay)}},{key:"componentDidUpdate",value:function(){var t=this.props,e=t.show,n=t.isDone;e&&(n||this._isReRenderingCursor||this._reRenderCursor())}},{key:"_reRenderCursor",value:function(){var t=this;this._isReRenderingCursor=!0,this.setState({shouldRender:!1},function(){t.setState({shouldRender:!0},function(){t._isReRenderingCursor=!1})})}},{key:"render",value:function(){if(this.state.shouldRender){var t=this.props.blink?" Cursor--blinking":"";return o.default.createElement("span",{className:"Cursor"+t},this.props.element)}return null}}]),e}();u.propTypes={blink:s.default.bool,show:s.default.bool,element:s.default.node,hideWhenDone:s.default.bool,hideWhenDoneDelay:s.default.number,isDone:s.default.bool},u.defaultProps={blink:!0,show:!0,element:"|",hideWhenDone:!1,hideWhenDoneDelay:1e3,isDone:!1},e.default=u},function(t,e){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o(n(1)),r=o(n(2));function o(t){return t&&t.__esModule?t:{default:t}}var s=function(){return i.default.createElement("noscript",null)};s.propTypes={count:r.default.number,delay:r.default.number},s.defaultProps={count:1,delay:0},e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o(n(1)),r=o(n(2));function o(t){return t&&t.__esModule?t:{default:t}}var s=function(){return i.default.createElement("noscript",null)};s.propTypes={ms:r.default.number.isRequired},e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sleep=void 0;var i=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.gaussianRnd=function(t,e){for(var n=0,i=0;i<12;i++)n+=Math.random();return n-=6,Math.round(n*e)+t},e.eachPromise=function(t,e){for(var n=arguments.length,i=Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];return Array.from(t).reduce(function(t,n,r){return t.then(function(){return e.apply(void 0,[n,r].concat(i))})},Promise.resolve())},e.exclude=u,e.isBackspaceElement=c,e.isDelayElement=l,e.extractTextFromElement=function(t){var e=t?[t]:[],n=[];for(;e.length>0;){var i=e.pop();if(r.default.isValidElement(i))c(i)||l(i)?n.unshift(i):r.default.Children.forEach(i.props.children,function(t){e.push(t)});else if(Array.isArray(i)){var o=!0,s=!1,a=void 0;try{for(var u,h=i[Symbol.iterator]();!(o=(u=h.next()).done);o=!0){var p=u.value;e.push(p)}}catch(t){s=!0,a=t}finally{try{!o&&h.return&&h.return()}finally{if(s)throw a}}}else n.unshift(i)}return n},e.cloneElement=h,e.cloneElementWithSpecifiedText=function(t){var e=t.element,n=t.textLines;if(!e)return;return function t(e,n,o){if(o>=n.length)return[null,o];var s=o;var a=function(e){var r=t(e,n,s),o=i(r,2),a=o[0],u=o[1];return s=u,a};var u=r.default.isValidElement(e)&&!(c(e)||l(e));if(u){var p=r.default.Children.map(e.props.children,a)||[];return[h(e,p),s]}if(Array.isArray(e)){var f=e.map(a);return[f,s]}return[n[s],s+1]}(e,n,0)[0]};var r=a(n(1)),o=a(n(12)),s=a(n(13));function a(t){return t&&t.__esModule?t:{default:t}}e.sleep=function(t){return new Promise(function(e){return null!=t?setTimeout(e,t):e()})};function u(t,e){var n={};for(var i in t)-1===e.indexOf(i)&&(n[i]=t[i]);return n}function c(t){return t&&t.type===o.default}function l(t){return t&&t.type===s.default}function h(t,e){var n=t.type,i=u(t.props,["children"]);return i.key="Typist-element-"+n+"-"+(Date.now()+Math.random()+Math.random()),r.default.createElement.apply(r.default,[n,i].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(e)))}}])},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(58),r=function(){function t(t){for(var e in this.data=t,this.data.children)this.data.children[e].parentNode=this}return Object.defineProperty(t.prototype,"parent",{get:function(){return this.parentNode},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){for(var t=this;null!=t.parentNode;)t=t.parentNode;return t},enumerable:!0,configurable:!0}),t.prototype.resolveChoices=function(t){var e=this.data.choices(t);if(null==e)return{"==>":null};if("string"===typeof e)return{"==>":this.navigate(e)};var n={};for(var i in e)n[i]=this.navigate(e[i]);return n},t.prototype.navigate=function(t){if(t.startsWith("root://"))return i.a(t);var e=t.split("/"),n=this;/^\s+$/.test(e[0])&&(e.shift(),n=this.root),e.length>1&&(/^\s+$/.test(e[e.length-1])||""===e[e.length-1])&&e.pop();for(var r=0,o=e;r<o.length;r++){var s=o[r];if(/^\.+$/.test(s))for(var a=1;a<s.length;a++)n=n.parent||n;else n=n.data.children[s]}return n},t.prototype.renderDialogNode=function(t){return{choices:this.resolveChoices(t),title:this.data.title,messages:this.data.messages(t)}},t}()},function(t,e,n){"use strict";e.a=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t,n){for(var i=arguments.length,r=Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];return e.reduce(function(t,e){return e.apply(void 0,[t,n].concat(r))},t)}}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){}return t.prototype.update=function(t,e){t.enableCapturePointer&&(t.isKilled()||e.input.pointers.revisePointerEventsPaths(t))},t}()},function(t,e,n){"use strict";var i=n(6),r=n(5);!function(){function t(){}t.prototype.update=function(t,e,n){var o=n/1e3,s=t.acc.clone();t.collisionType===r.b.Active&&s.addEqual(i.b.acc),t.oldVel=t.vel,t.vel.addEqual(s.scale(o)),t.pos.addEqual(t.vel.scale(o)).addEqual(s.scale(.5*o*o)),t.rx+=t.torque*(1/t.moi)*o,t.rotation+=t.rx*o,t.scale.x+=t.sx*n/1e3,t.scale.y+=t.sy*n/1e3}}()},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(62),r=n(0),o=n(2),s=function(){function t(){this.cullingBox=new i.a}return t.prototype.update=function(t,e){var n=t.eventDispatcher,i=t.anchor,s=t.getGlobalScale(),a=s.x*t.getWidth()/t.scale.x,u=s.y*t.getHeight()/t.scale.y,c=e.currentScene.camera.pos,l=t.getWorldPos(),h=e.worldToScreenCoordinates(new r.e(l.x-i.x*a,l.y-i.y*u)),p=e.worldToScreenCoordinates(c),f=1;t.scene&&t.scene.camera&&(f=Math.abs(t.scene.camera.getZoom()));var d=!0;null!=t.currentDrawing&&(d=this.cullingBox.isSpriteOffScreen(t,e)),t.isOffScreen?(h.x+a*f>0&&h.y+u*f>0&&h.x<e.halfDrawWidth+p.x&&h.y<e.halfDrawHeight+p.y||!d)&&(n.emit("enterviewport",new o.f(t)),t.isOffScreen=!1):(h.x+a*f<0||h.y+u*f<0||h.x>e.halfDrawWidth+p.x||h.y>e.halfDrawHeight+p.y)&&d&&(n.emit("exitviewport",new o.h(t)),t.isOffScreen=!0)},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(5),r=n(18),o=n(2),s=function(){function t(){}return t.prototype.update=function(t,e){var n=t.eventDispatcher;if(t.collisionType!==i.b.PreventCollision&&e.currentScene&&e.currentScene.tileMaps)for(var s=0;s<e.currentScene.tileMaps.length;s++)for(var a,u=e.currentScene.tileMaps[s],c=r.a.None,l=2;(a=u.collides(t))&&!(l--<0);)c=t.getSideFromIntersect(a),n.emit("precollision",new o.y(t,null,c,a)),t.collisionType===i.b.Active&&(t.pos.y+=a.y,t.pos.x+=a.x,n.emit("postcollision",new o.s(t,null,c,a)))},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(39),r=function(){function t(){}return t.unlock=function(){if(!t._unlocked&&i.a.create()){var e=i.a.create(),n=e.createBuffer(1,1,22050),r=e.createBufferSource(),o=!1;r.buffer=n,r.connect(e.destination),r.onended=function(){return o=!0},r.noteOn?r.noteOn(0):r.start(0),setTimeout(function(){if(r.playbackState){var n=r;n.playbackState!==n.PLAYING_STATE&&n.playbackState!==n.FINISHED_STATE||(t._unlocked=!0)}else(e.currentTime>0||o)&&(t._unlocked=!0)},0)}},t.isUnlocked=function(){return this._unlocked},t._unlocked=!1,t}()},function(t,e,n){"use strict";n.d(e,"d",function(){return c}),n.d(e,"c",function(){return l}),n.d(e,"b",function(){return r}),n.d(e,"a",function(){return o});var i,r,o,s=n(7),a=n(2),u=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t){function e(){var e=t.call(this)||this;return e.enabled=!1,e.supported=!!navigator.getGamepads,e._gamePadTimeStamps=[0,0,0,0],e._oldPads=[],e._pads=[],e._initSuccess=!1,e._navigator=navigator,e._minimumConfiguration=null,e}return u(e,t),e.prototype.init=function(){this.supported&&(this._initSuccess||(this._oldPads=this._clonePads(this._navigator.getGamepads()),this._oldPads.length&&this._oldPads[0]&&(this._initSuccess=!0)))},e.prototype.setMinimumGamepadConfiguration=function(t){this._enableAndUpdate(),this._minimumConfiguration=t},e.prototype._enableAndUpdate=function(){this.enabled||(this.enabled=!0,this.update())},e.prototype._isGamepadValid=function(t){if(!this._minimumConfiguration)return!0;if(!t)return!1;var e=t.axes.filter(function(t){return void 0!==typeof t}).length,n=t.buttons.filter(function(t){return void 0!==typeof t}).length;return e>=this._minimumConfiguration.axis&&n>=this._minimumConfiguration.buttons&&t.connected},e.prototype.on=function(e,n){this._enableAndUpdate(),t.prototype.on.call(this,e,n)},e.prototype.off=function(e,n){this._enableAndUpdate(),t.prototype.off.call(this,e,n)},e.prototype.update=function(){if(this.enabled&&this.supported){this.init();for(var t=this._navigator.getGamepads(),e=0;e<t.length;e++)if(t[e]){if(!this.at(e).connected&&this._isGamepadValid(t[e])&&this.eventDispatcher.emit("connect",new a.n(e,this.at(e))),this.at(e).connected=!0,!t[e].timestamp||t[e].timestamp!==this._gamePadTimeStamps[e]){var n,i,s,u,c;for(n in this._gamePadTimeStamps[e]=t[e].timestamp,this.at(e).navigatorGamepad=t[e],r)"number"===typeof(i=r[n])&&t[e].buttons[i]&&(c=t[e].buttons[i].value)!==this._oldPads[e].getButton(i)&&(t[e].buttons[i].pressed?(this.at(e).updateButton(i,c),this.at(e).eventDispatcher.emit("button",new a.m(i,c,this.at(e)))):this.at(e).updateButton(i,0));for(s in o)"number"===typeof(u=o[s])&&(c=t[e].axes[u])!==this._oldPads[e].getAxes(u)&&(this.at(e).updateAxes(u,c),this.at(e).eventDispatcher.emit("axis",new a.l(u,c,this.at(e))));this._oldPads[e]=this._clonePad(t[e])}}else{var l=this.at(e);l.connected&&this.eventDispatcher.emit("disconnect",new a.o(e,l)),l.connected=!1}}},e.prototype.at=function(t){if(this._enableAndUpdate(),t>=this._pads.length)for(var e=this._pads.length-1,n=t;e<n;e++)this._pads.push(new l),this._oldPads.push(new l);return this._pads[t]},e.prototype.getValidGamepads=function(){this._enableAndUpdate();for(var t=[],e=0;e<this._pads.length;e++)this._isGamepadValid(this.at(e).navigatorGamepad)&&this.at(e).connected&&t.push(this.at(e));return t},e.prototype.count=function(){return this._pads.filter(function(t){return t.connected}).length},e.prototype._clonePads=function(t){for(var e=[],n=0,i=t.length;n<i;n++)e.push(this._clonePad(t[n]));return e},e.prototype._clonePad=function(t){var e,n,i=new l;if(!t)return i;for(e=0,n=t.buttons.length;e<n;e++)t.buttons[e]&&i.updateButton(e,t.buttons[e].value);for(e=0,n=t.axes.length;e<n;e++)i.updateAxes(e,t.axes[e]);return i},e.MinAxisMoveThreshold=.05,e}(s.a),l=function(t){function e(){var e,n=t.call(this)||this;for(n.connected=!1,n._buttons=new Array(16),n._axes=new Array(4),e=0;e<n._buttons.length;e++)n._buttons[e]=0;for(e=0;e<n._axes.length;e++)n._axes[e]=0;return n}return u(e,t),e.prototype.isButtonPressed=function(t,e){return void 0===e&&(e=1),this._buttons[t]>=e},e.prototype.getButton=function(t){return this._buttons[t]},e.prototype.getAxes=function(t){var e=this._axes[t];return Math.abs(e)<c.MinAxisMoveThreshold?0:e},e.prototype.updateButton=function(t,e){this._buttons[t]=e},e.prototype.updateAxes=function(t,e){this._axes[t]=e},e}(s.a);!function(t){t[t.Face1=0]="Face1",t[t.Face2=1]="Face2",t[t.Face3=2]="Face3",t[t.Face4=3]="Face4",t[t.LeftBumper=4]="LeftBumper",t[t.RightBumper=5]="RightBumper",t[t.LeftTrigger=6]="LeftTrigger",t[t.RightTrigger=7]="RightTrigger",t[t.Select=8]="Select",t[t.Start=9]="Start",t[t.LeftStick=10]="LeftStick",t[t.RightStick=11]="RightStick",t[t.DpadUp=12]="DpadUp",t[t.DpadDown=13]="DpadDown",t[t.DpadLeft=14]="DpadLeft",t[t.DpadRight=15]="DpadRight"}(r||(r={})),function(t){t[t.LeftStickX=0]="LeftStickX",t[t.LeftStickY=1]="LeftStickY",t[t.RightStickX=2]="RightStickX",t[t.RightStickY=3]="RightStickY"}(o||(o={}))},function(t,e,n){"use strict";n.d(e,"l",function(){return r}),n.d(e,"b",function(){return o}),n.d(e,"o",function(){return s}),n.d(e,"k",function(){return a}),n.d(e,"g",function(){return y}),n.d(e,"h",function(){return g}),n.d(e,"e",function(){return _}),n.d(e,"m",function(){return v}),n.d(e,"d",function(){return m}),n.d(e,"j",function(){return b}),n.d(e,"f",function(){return w}),n.d(e,"i",function(){return x}),n.d(e,"c",function(){return P}),n.d(e,"p",function(){return S}),n.d(e,"n",function(){return T}),n.d(e,"a",function(){return C});var i,r,o,s,a,u=n(31),c=n(2),l=n(0),h=n(7),p=n(71),f=n(4),d=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});!function(t){t[t.Touch=0]="Touch",t[t.Mouse=1]="Mouse",t[t.Pen=2]="Pen",t[t.Unknown=3]="Unknown"}(r||(r={})),function(t){t[t.Left=0]="Left",t[t.Middle=1]="Middle",t[t.Right=2]="Right",t[t.Unknown=3]="Unknown"}(o||(o={})),function(t){t[t.Pixel=0]="Pixel",t[t.Line=1]="Line",t[t.Page=2]="Page"}(s||(s={})),function(t){t[t.Canvas=0]="Canvas",t[t.Document=1]="Document"}(a||(a={}));var y=function(t){function e(e,n,i,r,o,s){var a=t.call(this)||this;return a.coordinates=e,a.pointer=n,a.index=i,a.pointerType=r,a.button=o,a.ev=s,a}return d(e,t),Object.defineProperty(e.prototype,"worldPos",{get:function(){return this.coordinates.worldPos.clone()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pagePos",{get:function(){return this.coordinates.pagePos.clone()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"screenPos",{get:function(){return this.coordinates.screenPos.clone()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pos",{get:function(){return this.coordinates.worldPos.clone()},enumerable:!0,configurable:!0}),e.prototype.layPath=function(t){if(this.pointer.isActorUnderPointer(t)){var e=t.getAncestors();this._path=e.length>this._path.length?e:this._path}},e}(c.i),g=function(){function t(t){this._pointerEventType=t}return t.prototype.create=function(t,e,n,i,r,o){return new this._pointerEventType(t,e,n,i,r,o)},t}(),_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),e}(y),v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._name="pointerup",e}return d(e,t),e.prototype._onActionEnd=function(t){this.pointer.isDragEnd&&t.capturePointer.captureDragEvents&&t.eventDispatcher.emit("pointerdragend",this)},e}(y),m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._name="pointerdown",e}return d(e,t),e.prototype._onActionEnd=function(t){this.pointer.isDragStart&&t.capturePointer.captureDragEvents&&t.eventDispatcher.emit("pointerdragstart",this)},e}(y),b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._name="pointermove",e}return d(e,t),e.prototype.propagate=function(){var t=this;this.eventPath.length?(this.action(),this.bubbles&&this.propagate()):this.pointer.hasActorsUnderPointer&&this.pointer.getActorsUnderPointer().forEach(function(e){t.pointer.isActorUnderPointer(e)||t._onActorLeave(e)})},e.prototype.layPath=function(t){if(this.pointer.isDragging)t=this.pointer.dragTarget||t;else if(!this.pointer.isActorUnderPointer(t))return;var e=t.getAncestors();this._path=e.length>this._path.length?e:this._path},e.prototype._onActionStart=function(t){t.capturePointer.captureMoveEvents&&(this.pointer.isActorUnderPointer(t)&&!this.pointer.hasActorUnderPointerInList(t)&&this._onActorEnter(t),this.pointer.isDragging&&t.capturePointer.captureDragEvents&&t.eventDispatcher.emit("pointerdragmove",this))},e.prototype._onActorEnter=function(t){var e=E("enter",this.coordinates,this.pointer,this.index,this.pointerType,this.button,this.ev);e.layPath(t),e.propagate(),this.pointer.addActorUnderPointer(t),this.pointer.isDragging&&(this.pointer.dragTarget=t)},e.prototype._onActorLeave=function(t){var e=E("leave",this.coordinates,this.pointer,this.index,this.pointerType,this.button,this.ev);e.layPath(t),e.propagate(),this.pointer.removeActorUnderPointer(t)},e}(y),w=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._name="pointerenter",e}return d(e,t),e.prototype._onActionStart=function(t){t.capturePointer.captureMoveEvents},e.prototype._onActionEnd=function(t){this.pointer.isDragging&&t.capturePointer.captureDragEvents&&t.eventDispatcher.emit("pointerdragenter",this)},e}(y),x=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._name="pointerleave",e}return d(e,t),e.prototype.layPath=function(t){var e=t.getAncestors();this._path=e.length>this._path.length?e:this._path},e.prototype._onActionStart=function(t){t.capturePointer.captureMoveEvents},e.prototype._onActionEnd=function(t){this.pointer.isDragging&&t.capturePointer.captureDragEvents&&t.eventDispatcher.emit("pointerdragleave",this)},e}(y),P=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._name="pointercancel",e}return d(e,t),e}(y),S=function(t){function e(e,n,i,r,o,s,a,u,c,l,h,p){var f=t.call(this)||this;return f.x=e,f.y=n,f.pageX=i,f.pageY=r,f.screenX=o,f.screenY=s,f.index=a,f.deltaX=u,f.deltaY=c,f.deltaZ=l,f.deltaMode=h,f.ev=p,f}return d(e,t),e}(c.i);function E(t,e,n,i,r,o,s){var a;switch(t){case"up":a=new g(v);break;case"down":a=new g(m);break;case"move":a=new g(b);break;case"cancel":a=new g(P);break;case"enter":a=new g(w);break;case"leave":a=new g(x)}return a.create(e,n,i,r,o,s)}var T=function(t){function e(e){var n=t.call(this)||this;return n._pointerDown=[],n._pointerUp=[],n._pointerMove=[],n._pointerCancel=[],n._wheel=[],n._pointers=[],n._activePointers=[],n._engine=e,n._pointers.push(new C),n._activePointers=[-1],n.primary=n._pointers[0],n}return d(e,t),e.prototype.on=function(e,n){t.prototype.on.call(this,e,n)},e.prototype.init=function(t){(t=t||this._engine.canvas).addEventListener("touchstart",this._handleTouchEvent("down",this._pointerDown)),t.addEventListener("touchend",this._handleTouchEvent("up",this._pointerUp)),t.addEventListener("touchmove",this._handleTouchEvent("move",this._pointerMove)),t.addEventListener("touchcancel",this._handleTouchEvent("cancel",this._pointerCancel)),window.PointerEvent?(this._engine.canvas.style.touchAction="none",t.addEventListener("pointerdown",this._handlePointerEvent("down",this._pointerDown)),t.addEventListener("pointerup",this._handlePointerEvent("up",this._pointerUp)),t.addEventListener("pointermove",this._handlePointerEvent("move",this._pointerMove)),t.addEventListener("pointercancel",this._handlePointerEvent("cancel",this._pointerCancel))):window.MSPointerEvent?(this._engine.canvas.style.msTouchAction="none",t.addEventListener("MSPointerDown",this._handlePointerEvent("down",this._pointerDown)),t.addEventListener("MSPointerUp",this._handlePointerEvent("up",this._pointerUp)),t.addEventListener("MSPointerMove",this._handlePointerEvent("move",this._pointerMove)),t.addEventListener("MSPointerCancel",this._handlePointerEvent("cancel",this._pointerCancel))):(t.addEventListener("mousedown",this._handleMouseEvent("down",this._pointerDown)),t.addEventListener("mouseup",this._handleMouseEvent("up",this._pointerUp)),t.addEventListener("mousemove",this._handleMouseEvent("move",this._pointerMove))),"onwheel"in document.createElement("div")?t.addEventListener("wheel",this._handleWheelEvent("wheel",this._wheel)):void 0!==document.onmousewheel?t.addEventListener("mousewheel",this._handleWheelEvent("wheel",this._wheel)):t.addEventListener("MozMousePixelScroll",this._handleWheelEvent("wheel",this._wheel))},e.prototype.update=function(){this._pointerUp.length=0,this._pointerDown.length=0,this._pointerMove.length=0,this._pointerCancel.length=0,this._wheel.length=0;for(var t=0;t<this._pointers.length;t++)this._pointers[t].update()},e.prototype.at=function(t){if(t>=this._pointers.length)for(var e=this._pointers.length-1,n=t;e<n;e++)this._pointers.push(new C),this._activePointers.push(-1);return this._pointers[t]},e.prototype.count=function(){return this._pointers.length},e.prototype.propagate=function(){this._propagatePointerEvent(this._pointerDown),this._propagatePointerEvent(this._pointerUp),this._propagatePointerEvent(this._pointerMove),this._propagatePointerEvent(this._pointerCancel),this._propagateWheelEvent("pointerwheel",this._wheel)},e.prototype.revisePointerEventsPaths=function(t){this._revisePointerEventPath(t,this._pointerDown),this._revisePointerEventPath(t,this._pointerUp),this._revisePointerEventPath(t,this._pointerMove),this._revisePointerEventPath(t,this._pointerCancel),this._validateWheelEventPath(this._wheel,t)},e.prototype._propagatePointerEvent=function(t){for(var e=t.length,n=0;n<e;n++)t[n].propagate()},e.prototype._revisePointerEventPath=function(t,e){for(var n=e.length,i=0;i<n;i++){e[i].layPath(t)}},e.prototype._validateWheelEventPath=function(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=!p.a(e);e.contains(i.x,i.y,r)&&i.layPath(e)}},e.prototype._propagateWheelEvent=function(t,e){for(var n,i=e.length,r=0;r<i;r++)switch(n=e[r],t){case"pointerwheel":this._propagateWheelPointerEvent(n)}},e.prototype._propagateWheelPointerEvent=function(t){t.eventPath.length&&(t.eventPath.pop().eventDispatcher.emit("pointerwheel",t),t.bubbles&&this._propagateWheelPointerEvent(t))},e.prototype._handleMouseEvent=function(t,e){var n=this;return function(i){i.preventDefault();var o=n.at(0),s=l.a.fromPagePosition(i.pageX,i.pageY,n._engine),a=E(t,s,o,0,r.Mouse,i.button,i);e.push(a),o.eventDispatcher.emit(t,a)}},e.prototype._handleTouchEvent=function(t,e){var n=this;return function(i){i.preventDefault();for(var s=0,a=i.changedTouches.length;s<a;s++){var u=n._pointers.length>1?n._getPointerIndex(i.changedTouches[s].identifier):0;if(-1!==u){var c=n.at(u),h=l.a.fromPagePosition(i.changedTouches[s].pageX,i.changedTouches[s].pageY,n._engine),p=E(t,h,c,u,r.Touch,o.Unknown,i);e.push(p),c.eventDispatcher.emit(t,p),n._pointers.length>1&&("up"===t?n._activePointers[u]=-1:"down"===t&&(n._activePointers[u]=i.changedTouches[s].identifier))}}}},e.prototype._handlePointerEvent=function(t,e){var n=this;return function(i){i.preventDefault();var r=n._pointers.length>1?n._getPointerIndex(i.pointerId):0;if(-1!==r){var o=n.at(r),s=l.a.fromPagePosition(i.pageX,i.pageY,n._engine),a=E(t,s,o,r,n._stringToPointerType(i.pointerType),i.button,i);e.push(a),o.eventDispatcher.emit(t,a),n._pointers.length>1&&("up"===t?n._activePointers[r]=-1:"down"===t&&(n._activePointers[r]=i.pointerId))}}},e.prototype._handleWheelEvent=function(t,e){var n=this;return function(i){(n._engine.pageScrollPreventionMode===u.b.All||n._engine.pageScrollPreventionMode===u.b.Canvas&&i.target===n._engine.canvas)&&i.preventDefault();var r=i.pageX-f.h(n._engine.canvas).x,o=i.pageY-f.h(n._engine.canvas).y,a=n._engine.screenToWorldCoordinates(new l.e(r,o)),c=i.deltaX||-.025*i.wheelDeltaX||0,h=i.deltaY||-.025*i.wheelDeltaY||-.025*i.wheelDelta||i.detail||0,p=i.deltaZ||0,d=s.Pixel;i.deltaMode&&(1===i.deltaMode?d=s.Line:2===i.deltaMode&&(d=s.Page));var y=new S(a.x,a.y,i.pageX,i.pageY,r,o,0,c,h,p,d,i);e.push(y),n.at(0).eventDispatcher.emit(t,y)}},e.prototype._getPointerIndex=function(t){var e;if((e=this._activePointers.indexOf(t))>-1)return e;for(var n=0;n<this._activePointers.length;n++)if(-1===this._activePointers[n])return n;return-1},e.prototype._stringToPointerType=function(t){switch(t){case"touch":return r.Touch;case"mouse":return r.Mouse;case"pen":return r.Pen;default:return r.Unknown}},e}(h.a),C=function(t){function e(){var e=t.call(this)||this;return e._isDown=!1,e._wasDown=!1,e._actorsUnderPointer={length:0},e.lastPagePos=null,e.lastScreenPos=null,e.lastWorldPos=null,e.dragTarget=null,e.on("move",e._onPointerMove),e.on("down",e._onPointerDown),e.on("up",e._onPointerUp),e}return d(e,t),Object.defineProperty(e.prototype,"isDragging",{get:function(){return this._isDown},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDragStart",{get:function(){return!this._wasDown&&this._isDown},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDragEnd",{get:function(){return this._wasDown&&!this._isDown},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasActorsUnderPointer",{get:function(){return!!this._actorsUnderPointer.length},enumerable:!0,configurable:!0}),e.prototype.update=function(){this._wasDown&&!this._isDown?this._wasDown=!1:!this._wasDown&&this._isDown&&(this._wasDown=!0)},e.prototype.addActorUnderPointer=function(t){this.hasActorUnderPointerInList(t)||(this._actorsUnderPointer[t.id]=t,this._actorsUnderPointer.length+=1)},e.prototype.removeActorUnderPointer=function(t){this.hasActorUnderPointerInList(t)&&(delete this._actorsUnderPointer[t.id],this._actorsUnderPointer.length-=1)},e.prototype.getActorsUnderPointer=function(){var t=[];for(var e in this._actorsUnderPointer)if("length"!==e){var n=this._actorsUnderPointer[e];t.push(n)}return t},e.prototype.isActorUnderPointer=function(t){return t.contains(this.lastWorldPos.x,this.lastWorldPos.y,!p.a(t))},e.prototype.hasActorUnderPointerInList=function(t){return this._actorsUnderPointer.hasOwnProperty(t.id.toString())},e.prototype._onPointerMove=function(t){this.lastPagePos=new l.e(t.pagePos.x,t.pagePos.y),this.lastScreenPos=new l.e(t.screenPos.x,t.screenPos.y),this.lastWorldPos=new l.e(t.worldPos.x,t.worldPos.y)},e.prototype._onPointerDown=function(){this._isDown=!0},e.prototype._onPointerUp=function(){this._isDown=!1,this.dragTarget=null},e}(h.a)},function(t,e,n){"use strict";n.d(e,"c",function(){return r}),n.d(e,"a",function(){return u}),n.d(e,"b",function(){return c});var i,r,o=n(7),s=n(2),a=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});!function(t){t[t.Num1=97]="Num1",t[t.Num2=98]="Num2",t[t.Num3=99]="Num3",t[t.Num4=100]="Num4",t[t.Num5=101]="Num5",t[t.Num6=102]="Num6",t[t.Num7=103]="Num7",t[t.Num8=104]="Num8",t[t.Num9=105]="Num9",t[t.Num0=96]="Num0",t[t.Numlock=144]="Numlock",t[t.Semicolon=186]="Semicolon",t[t.A=65]="A",t[t.B=66]="B",t[t.C=67]="C",t[t.D=68]="D",t[t.E=69]="E",t[t.F=70]="F",t[t.G=71]="G",t[t.H=72]="H",t[t.I=73]="I",t[t.J=74]="J",t[t.K=75]="K",t[t.L=76]="L",t[t.M=77]="M",t[t.N=78]="N",t[t.O=79]="O",t[t.P=80]="P",t[t.Q=81]="Q",t[t.R=82]="R",t[t.S=83]="S",t[t.T=84]="T",t[t.U=85]="U",t[t.V=86]="V",t[t.W=87]="W",t[t.X=88]="X",t[t.Y=89]="Y",t[t.Z=90]="Z",t[t.Shift=16]="Shift",t[t.Alt=18]="Alt",t[t.Up=38]="Up",t[t.Down=40]="Down",t[t.Left=37]="Left",t[t.Right=39]="Right",t[t.Space=32]="Space",t[t.Esc=27]="Esc"}(r||(r={}));var u=function(t){function e(e){var n=t.call(this)||this;return n.key=e,n}return a(e,t),e}(s.i),c=function(t){function e(){var e=t.call(this)||this;return e._keys=[],e._keysUp=[],e._keysDown=[],e}return a(e,t),e.prototype.on=function(e,n){t.prototype.on.call(this,e,n)},e.prototype.init=function(t){var e=this;(t=t||window).addEventListener("blur",function(){e._keys.length=0}),t.addEventListener("keyup",function(t){var n=e._normalizeKeyCode(t.keyCode),i=e._keys.indexOf(n);e._keys.splice(i,1),e._keysUp.push(n);var r=new u(n);e.eventDispatcher.emit("up",r),e.eventDispatcher.emit("release",r)}),t.addEventListener("keydown",function(t){var n=e._normalizeKeyCode(t.keyCode);if(-1===e._keys.indexOf(n)){e._keys.push(n),e._keysDown.push(n);var i=new u(n);e.eventDispatcher.emit("down",i),e.eventDispatcher.emit("press",i)}})},e.prototype.update=function(){this._keysDown.length=0,this._keysUp.length=0;for(var t=0;t<this._keys.length;t++)this.eventDispatcher.emit("hold",new u(this._keys[t]))},e.prototype.getKeys=function(){return this._keys},e.prototype.wasPressed=function(t){return this._keysDown.indexOf(t)>-1},e.prototype.isHeld=function(t){return this._keys.indexOf(t)>-1},e.prototype.wasReleased=function(t){return this._keysUp.indexOf(t)>-1},e.prototype._normalizeKeyCode=function(t){switch(t){case 59:return r.Semicolon;default:return t}},e}(o.a)},function(t,e,n){"use strict";var i,r,o=n(5),s=n(1),a=n(0),u=n(4),c=n(15),l=n(27),h=n(11),p=n(17),f=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});!function(t){t[t.Circle=0]="Circle",t[t.Rectangle=1]="Rectangle"}(r||(r={}));var d=function(){function t(t,e,n,i,r,o,u,c,l,h){this.position=new a.e(0,0),this.velocity=new a.e(0,0),this.acceleration=new a.e(0,0),this.particleRotationalVelocity=0,this.currentRotation=0,this.focus=null,this.focusAccel=0,this.opacity=1,this.beginColor=s.a.White.clone(),this.endColor=s.a.White.clone(),this.life=300,this.fadeFlag=!1,this._rRate=1,this._gRate=1,this._bRate=1,this._aRate=0,this._currentColor=s.a.White.clone(),this.emitter=null,this.particleSize=5,this.particleSprite=null,this.sizeRate=0,this.elapsedMultiplier=0;var p=t;if(p&&!(t instanceof _)){var f=t;p=f.emitter,e=f.life,n=f.opacity,r=f.endColor,i=f.beginColor,o=f.position,u=f.velocity,c=f.acceleration,l=f.startSize,h=f.endSize}this.emitter=p,this.life=e||this.life,this.opacity=n||this.opacity,this.endColor=r||this.endColor.clone(),this.beginColor=i||this.beginColor.clone(),this._currentColor=this.beginColor.clone(),this.position=o||this.position,this.velocity=u||this.velocity,this.acceleration=c||this.acceleration,this._rRate=(this.endColor.r-this.beginColor.r)/this.life,this._gRate=(this.endColor.g-this.beginColor.g)/this.life,this._bRate=(this.endColor.b-this.beginColor.b)/this.life,this._aRate=this.opacity/this.life,this.startSize=l||0,this.endSize=h||0,this.endSize>0&&this.startSize>0&&(this.sizeRate=(this.endSize-this.startSize)/this.life,this.particleSize=this.startSize)}return t.prototype.kill=function(){this.emitter.removeParticle(this)},t.prototype.update=function(t){if(this.life=this.life-t,this.elapsedMultiplier=this.elapsedMultiplier+t,this.life<0&&this.kill(),this.fadeFlag&&(this.opacity=u.d(this._aRate*this.life,1e-4,1)),this.startSize>0&&this.endSize>0&&(this.particleSize=u.d(this.sizeRate*t+this.particleSize,Math.min(this.startSize,this.endSize),Math.max(this.startSize,this.endSize))),this._currentColor.r=u.d(this._currentColor.r+this._rRate*t,0,255),this._currentColor.g=u.d(this._currentColor.g+this._gRate*t,0,255),this._currentColor.b=u.d(this._currentColor.b+this._bRate*t,0,255),this._currentColor.a=u.d(this.opacity,1e-4,1),this.focus){var e=this.focus.sub(this.position).normalize().scale(this.focusAccel).scale(t/1e3);this.velocity=this.velocity.add(e)}else this.velocity=this.velocity.add(this.acceleration.scale(t/1e3));this.position=this.position.add(this.velocity.scale(t/1e3)),this.particleRotationalVelocity&&(this.currentRotation=(this.currentRotation+this.particleRotationalVelocity*t/1e3)%(2*Math.PI))},t.prototype.draw=function(t){if(this.particleSprite)return this.particleSprite.rotation=this.currentRotation,this.particleSprite.scale.setTo(this.particleSize,this.particleSize),void this.particleSprite.draw(t,this.position.x,this.position.y);this._currentColor.a=u.d(this.opacity,1e-4,1),t.fillStyle=this._currentColor.toString(),t.beginPath(),t.arc(this.position.x,this.position.y,this.particleSize,0,2*Math.PI),t.fill(),t.closePath()},t}(),y=function(t){function e(e,n,i,r,o,s,a,u,c,l){return t.call(this,e,n,i,r,o,s,a,u,c,l)||this}return f(e,t),e}(Object(h.a)(d)),g=function(t){function e(e,n,i,c){var h=t.call(this,"number"===typeof e?{x:e,y:n,width:i,height:c}:e)||this;h.numParticles=0,h.isEmitting=!0,h.particles=null,h.deadParticles=null,h.minVel=0,h.maxVel=0,h.acceleration=new a.e(0,0),h.minAngle=0,h.maxAngle=0,h.emitRate=1,h.particleLife=2e3,h.opacity=1,h.fadeFlag=!1,h.focus=null,h.focusAccel=1,h.startSize=null,h.endSize=null,h.minSize=5,h.maxSize=5,h.beginColor=s.a.White.clone(),h.endColor=s.a.White.clone(),h.particleSprite=null,h.emitterType=r.Rectangle,h.radius=0,h.particleRotationalVelocity=0,h.randomRotation=!1,h._particlesToEmit=0,h.collisionType=o.b.PreventCollision,h.particles=new u.a,h.deadParticles=new u.a,h.random=new p.a;for(var f=0;f<h.traits.length;f++)h.traits[f]instanceof l.b&&h.traits.splice(f,1);return h}return f(e,t),e.prototype.removeParticle=function(t){this.deadParticles.push(t)},e.prototype.emitParticles=function(t){for(var e=0;e<t;e++)this.particles.push(this._createParticle())},e.prototype.clearParticles=function(){this.particles.clear()},e.prototype._createParticle=function(){var t=0,e=0,n=u.j(this.minAngle,this.maxAngle,this.random),i=u.j(this.minVel,this.maxVel,this.random),o=this.startSize||u.j(this.minSize,this.maxSize,this.random),s=i*Math.cos(n),c=i*Math.sin(n);if(this.emitterType===r.Rectangle)t=u.j(this.pos.x,this.pos.x+this.getWidth(),this.random),e=u.j(this.pos.y,this.pos.y+this.getHeight(),this.random);else if(this.emitterType===r.Circle){var l=u.j(0,this.radius,this.random);t=l*Math.cos(n)+this.pos.x,e=l*Math.sin(n)+this.pos.y}var h=new y(this,this.particleLife,this.opacity,this.beginColor,this.endColor,new a.e(t,e),new a.e(s,c),this.acceleration,this.startSize,this.endSize);return h.fadeFlag=this.fadeFlag,h.particleSize=o,this.particleSprite&&(h.particleSprite=this.particleSprite),h.particleRotationalVelocity=this.particleRotationalVelocity,this.randomRotation&&(h.currentRotation=u.j(0,2*Math.PI,this.random)),this.focus&&(h.focus=this.focus.add(new a.e(this.pos.x,this.pos.y)),h.focusAccel=this.focusAccel),h},e.prototype.update=function(e,n){var i=this;t.prototype.update.call(this,e,n),this.isEmitting&&(this._particlesToEmit+=this.emitRate*(n/1e3),this._particlesToEmit>1&&(this.emitParticles(Math.floor(this._particlesToEmit)),this._particlesToEmit=this._particlesToEmit-Math.floor(this._particlesToEmit))),this.particles.forEach(function(t){return t.update(n)}),this.deadParticles.forEach(function(t){return i.particles.removeElement(t)}),this.deadParticles.clear()},e.prototype.draw=function(t){this.particles.forEach(function(e){return e.draw(t)})},e.prototype.debugDraw=function(e){t.prototype.debugDraw.call(this,e),e.fillStyle=s.a.Black.toString(),e.fillText("Particles: "+this.particles.count(),this.pos.x,this.pos.y+20),this.focus&&(e.fillRect(this.focus.x+this.pos.x,this.focus.y+this.pos.y,3,3),c.a(e,s.a.Yellow,this.focus.x+this.pos.x,this.focus.y+this.pos.y,t.prototype.getCenter.call(this).x,t.prototype.getCenter.call(this).y),e.fillText("Focus",this.focus.x+this.pos.x,this.focus.y+this.pos.y))},e}(o.a),_=function(t){function e(e,n,i,r){return t.call(this,e,n,i,r)||this}return f(e,t),e}(Object(h.a)(g))},function(t,e,n){"use strict";n(35),n(60),n(25)},function(t,e,n){"use strict";n(61),n(10),n(22),n(33),n(21),n(67),n(66),n(20),n(140),n(26),n(12),n(18)},function(t,e,n){"use strict";var i=n(6),r=n(33),o=n(26),s=n(5),a=n(2);!function(){function t(){this._lastFramePairs=[],this._lastFramePairsHash={}}t.prototype.track=function(){},t.prototype.untrack=function(){},t.prototype.broadphase=function(t){for(var e,n,i=t.filter(function(t){return!t.isKilled()&&t.collisionType!==s.b.PreventCollision}),a=[],u=0,c=i.length;u<c;u++){e=i[u];for(var l=u+1;l<c;l++){var h;if(n=i[l],h=e.collides(n)){var p=new o.a(e.body,n.body);p.collision=new r.a(e.collisionArea,n.collisionArea,h,e.pos,h),a.some(function(t){return t.id===p.id})||a.push(p)}}}return a},t.prototype.narrowphase=function(t){return t},t.prototype.runCollisionStartEnd=function(t){for(var e={},n=0,i=t;n<i.length;n++){if(e[(c=i[n]).id]=c,!this._lastFramePairsHash[c.id]){var r=c.bodyA.actor,o=c.bodyB.actor;r.emit("collisionstart",new a.c(r,o,c)),o.emit("collisionstart",new a.c(o,r,c))}}for(var s=0,u=this._lastFramePairs;s<u.length;s++){var c;if(!e[(c=u[s]).id]){r=c.bodyA.actor,o=c.bodyB.actor;r.emit("collisionend",new a.b(r,o)),o.emit("collisionend",new a.b(o,r))}}this._lastFramePairs=t,this._lastFramePairsHash=e},t.prototype.resolve=function(t){for(var e=0,n=t;e<n.length;e++){n[e].resolve(i.b.collisionResolutionStrategy)}return t.filter(function(t){return t.canCollide})},t.prototype.update=function(){return 0},t.prototype.debugDraw=function(){}}()},function(t,e,n){"use strict";n(75);var i=n(1);n.d(e,"a",function(){return i.a});n(142),n(24),n(143),n(14)},function(t,e,n){"use strict";var i=n(0);!function(){function t(t){this.lineWidth=5,this.filled=!1,this._points=[],this.anchor=new i.e(0,0),this.rotation=0,this.scale=new i.e(1,1),this._points=t;var e=this._points.reduce(function(t,e){return Math.min(t,e.x)},0),n=this._points.reduce(function(t,e){return Math.max(t,e.x)},0);this.drawWidth=n-e;var r=this._points.reduce(function(t,e){return Math.min(t,e.y)},0),o=this._points.reduce(function(t,e){return Math.max(t,e.y)},0);this.drawHeight=o-r,this.height=this.drawHeight,this.width=this.drawWidth}t.prototype.addEffect=function(){},t.prototype.removeEffect=function(){},t.prototype.clearEffects=function(){},t.prototype.reset=function(){},t.prototype.draw=function(t,e,n){t.save(),t.translate(e+this.anchor.x,n+this.anchor.y),t.scale(this.scale.x,this.scale.y),t.rotate(this.rotation),t.beginPath(),t.lineWidth=this.lineWidth;var i=this._points[0];t.moveTo(i.x,i.y);for(var r=0,o=this._points.length;r<o;r++)t.lineTo(this._points[r].x,this._points[r].y);t.lineTo(i.x,i.y),t.closePath(),this.filled&&(t.fillStyle=this.fillColor.toString(),t.fill()),t.strokeStyle=this.lineColor.toString(),this.flipHorizontal&&(t.translate(this.drawWidth,0),t.scale(-1,1)),this.flipVertical&&(t.translate(0,this.drawHeight),t.scale(1,-1)),t.stroke(),t.restore()}}()},function(t,e,n){"use strict";var i,r=n(24),o=n(75),s=n(1),a=n(14),u=n(23),c=n(3),l=n(40),h=n(11),p=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),f=function(){function t(t,e,n,i,o){this.sprites=[],this.image=null,this.columns=0,this.rows=0,this.spWidth=0,this.spHeight=0;var s=!1;if(t instanceof Array?this.sprites=t:(!t||t instanceof u.a?(this.image=t,this.columns=e,this.rows=n,this.spWidth=i,this.spHeight=o):(this.columns=t.columns,this.rows=t.rows,this.spWidth=t.spWidth,this.spHeight=t.spHeight,this.image=t.image),this.sprites=new Array(this.columns*this.rows),s=!0),s){var a=0,c=0;for(a=0;a<this.rows;a++)for(c=0;c<this.columns;c++)this.sprites[c+a*this.columns]=new r.a(this.image,c*this.spWidth,a*this.spHeight,this.spWidth,this.spHeight)}}return t.prototype.getAnimationByIndices=function(t,e,n){var i=this,r=e.map(function(t){return i.sprites[t]});return r=r.map(function(t){return t.clone()}),new o.a(t,r,n)},t.prototype.getAnimationBetween=function(t,e,n,i){var r=this.sprites.slice(e,n);return r=r.map(function(t){return t.clone()}),new o.a(t,r,i)},t.prototype.getAnimationForAll=function(t,e){var n=this.sprites.map(function(t){return t.clone()});return new o.a(t,n,e)},t.prototype.getSprite=function(t){if(t>=0&&t<this.sprites.length)return this.sprites[t];throw new Error("Invalid index: "+t)},t.prototype.getAnimationByCoords=function(t,e,n){for(var i=0,s=0,a=new Array(e.length),u=0;u<e.length;u++){var c=e[u];c.image=c.image||this.image,i=Math.max(i,c.drawWidth),s=Math.max(s,c.drawHeight),a[u]=new r.a(c)}var l=new o.a(t,a,n);return l.drawWidth=i,l.drawHeight=s,l},t}(),d=function(t){function e(e,n,i,r,o,a,c){var l=t.call(this,e instanceof u.a?{image:e,spWidth:a,spHeight:c,rows:o,columns:r}:e)||this;return l._currentColor=s.a.Black.clone(),l._currentOpacity=1,l._sprites={},l._textShadowOn=!1,l._textShadowDirty=!0,l._textShadowColor=s.a.Black.clone(),l._textShadowSprites={},l._shadowOffsetX=5,l._shadowOffsetY=5,!e||e instanceof u.a||(n=e.alphabet,i=e.caseInsensitive),l._alphabet=n,l._caseInsensitive=i,l._sprites=l.getTextSprites(),l}return p(e,t),e.prototype.getTextSprites=function(){for(var t={},e=0;e<this._alphabet.length;e++){var n=this._alphabet[e];this._caseInsensitive&&(n=n.toLowerCase()),t[n]=this.sprites[e].clone()}return t},e.prototype.setTextShadow=function(t,e,n){for(var i in this._textShadowOn=!0,this._shadowOffsetX=t,this._shadowOffsetY=e,this._textShadowColor=n.clone(),this._textShadowDirty=!0,this._sprites)this._textShadowSprites[i]=this._sprites[i].clone()},e.prototype.useTextShadow=function(t){this._textShadowOn=t,t&&this.setTextShadow(5,5,this._textShadowColor)},e.prototype.draw=function(t,e,n,i,r){if(r=this._parseOptions(r),this._currentColor.toString()!==r.color.toString()||this._currentOpacity!==r.opacity)for(var o in this._currentOpacity=r.opacity,this._currentColor=r.color,this._sprites)this._sprites[o].clearEffects(),this._sprites[o].fill(r.color),this._sprites[o].opacity(r.opacity);if(this._textShadowOn&&this._textShadowDirty&&this._textShadowColor){for(var s in this._textShadowSprites)this._textShadowSprites[s].clearEffects(),this._textShadowSprites[s].addEffect(new a.d(this._textShadowColor.clone()));this._textShadowDirty=!1}var u=this.sprites[0],h=u.drawHeight,p=r.fontSize/h,f=e.length*u.drawWidth*p+e.length*r.letterSpacing,d=n;r.textAlign===l.c.Left||r.textAlign===l.c.Start?d=n:r.textAlign===l.c.Right||r.textAlign===l.c.End?d=n-f:r.textAlign===l.c.Center&&(d=n-f/2);var y=i-h*p;r.baseAlign===l.a.Top||r.baseAlign===l.a.Hanging?y=i:r.baseAlign===l.a.Ideographic||r.baseAlign===l.a.Bottom||r.baseAlign===l.a.Alphabetic?y=i-h*p:r.baseAlign===l.a.Middle&&(y=i-h*p/2);for(var g=0;g<e.length;g++){var _=e[g];this._caseInsensitive&&(_=_.toLowerCase());try{this._textShadowOn&&(this._textShadowSprites[_].scale.x=p,this._textShadowSprites[_].scale.y=p,this._textShadowSprites[_].draw(t,d+this._shadowOffsetX,y+this._shadowOffsetY));var v=this._sprites[_];v.scale.x=p,v.scale.y=p,v.draw(t,d,y),d+=v.drawWidth+r.letterSpacing}catch(t){c.b.getInstance().error("SpriteFont Error drawing char "+_)}}},e.prototype._parseOptions=function(t){return{fontSize:t.fontSize||10,letterSpacing:t.letterSpacing||0,color:t.color||s.a.Black.clone(),textAlign:void 0===typeof t.textAlign?l.c.Left:t.textAlign,baseAlign:void 0===typeof t.baseAlign?l.a.Bottom:t.baseAlign,maxWidth:t.maxWidth||-1,opacity:t.opacity||0}},e}(function(t){function e(e,n,i,r,o){return t.call(this,e,n,i,r,o)||this}return p(e,t),e}(Object(h.a)(f)));!function(t){function e(e,n,i,r,o,s,a){return t.call(this,e,n,i,r,o,s,a)||this}p(e,t)}(Object(h.a)(d))},function(t,e,n){"use strict";n(76)},function(t,e,n){"use strict";n(146),n(17)},function(t,e,n){"use strict";var i=n(17),r=n(1),o=n(4);function s(t,e,n){return e+t*(n-e)}function a(t){return t*t*t*(t*(6*t-15)+10)}(function(){function t(t){this._perm=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],this._p=new Uint8Array(512),this._defaultPerlinOptions={octaves:1,frequency:1,amplitude:1,persistance:.5},t=o.f({},this._defaultPerlinOptions,t),this.persistance=t.persistance,this.amplitude=t.amplitude,this.frequency=t.frequency,this.octaves=t.octaves,t.seed?this._random=new i.a(t.seed):this._random=new i.a,this._perm=this._random.shuffle(this._perm);for(var e=0;e<512;e++)this._p[e]=255&this._perm[e%256]}t.prototype.noise=function(){for(var t=this.amplitude,e=this.frequency,n=0,i=0,r=0;r<this.octaves;r++){switch(arguments.length){case 1:n+=this._noise1d(arguments[0]*e)*t;break;case 2:n+=this._noise2d(arguments[0]*e,arguments[1]*e)*t;break;case 3:n+=this._noise3d(arguments[0]*e,arguments[1]*e,arguments[2]*e)*t;break;default:throw new Error("Invalid arguments for perlin noise")}i+=t,t*=this.persistance,e*=2}return n/i},t.prototype.sequence=function(t,e){e||(e=1/t);for(var n=new Array(t),i=0;i<t;i++)n[i]=this.noise(i*e);return n},t.prototype.grid=function(t,e,n){n||(n=1/Math.min(t,e));for(var i=new Array(t*e),r=0;r<e;r++)for(var o=0;o<t;o++)i[o+r*t]=this.noise(o*n,r*n);return i},t.prototype._gradient3d=function(t,e,n,i){var r=15&t,o=r<8?e:n,s=r<4?n:12===r||14===r?e:i;return(0===(1&r)?o:-o)+(0===(2&r)?s:-s)},t.prototype._gradient2d=function(t,e,n){var i=0===(1&t)?e:n;return 0===(2&t)?-i:i},t.prototype._gradient1d=function(t,e){return 0===(1&t)?-e:e},t.prototype._noise1d=function(t){var e=255&Math.floor(t);return(s(a(t-=Math.floor(t)),this._gradient1d(this._p[e],t),this._gradient1d(this._p[e+1],t-1))+1)/2},t.prototype._noise2d=function(t,e){var n=255&Math.floor(t),i=255&Math.floor(e);t-=Math.floor(t),e-=Math.floor(e);var r=a(t),o=a(e),u=this._p[n]+i,c=this._p[n+1]+i;return(s(o,s(r,this._gradient2d(this._p[u],t,e),this._gradient2d(this._p[c],t-1,e)),s(r,this._gradient2d(this._p[u+1],t,e-1),this._gradient2d(this._p[c+1],t-1,e-1)))+1)/2},t.prototype._noise3d=function(t,e,n){var i=255&Math.floor(t),r=255&Math.floor(e),o=255&Math.floor(n);t-=Math.floor(t),e-=Math.floor(e),n-=Math.floor(n);var u=a(t),c=a(e),l=a(n),h=this._p[i]+r,p=this._p[i+1]+r,f=this._p[h]+o,d=this._p[p]+o,y=this._p[h+1]+o,g=this._p[p+1]+o;return(s(l,s(c,s(u,this._gradient3d(this._p[f],t,e,n),this._gradient3d(this._p[d],t-1,e,n)),s(u,this._gradient3d(this._p[y],t,e-1,n),this._gradient3d(this._p[g],t-1,e-1,n))),s(c,s(u,this._gradient3d(this._p[f+1],t,e,n-1),this._gradient3d(this._p[d+1],t-1,e,n-1)),s(u,this._gradient3d(this._p[y+1],t,e-1,n-1),this._gradient3d(this._p[g+1],t-1,e-1,n-1))))+1)/2}})(),function(){function t(t,e){this.generator=t,this.colorFcn=e,e||(this.colorFcn=function(t){return t<125?r.a.Black:r.a.White})}t.prototype.image=function(t,e){var n=document.createElement("img"),i=document.createElement("canvas");i.width=t,i.height=e;var r=i.getContext("2d");return this.draw(r,0,0,t,e),n.src=i.toDataURL(),n},t.prototype.draw=function(t,e,n,i,r){for(var o=this.generator.grid(i,r),s=t.getImageData(e,n,i,r),a=0;a<r;a++)for(var u=0;u<i;u++){var c=o[u+i*a],l=255&Math.floor(255*c),h=4*(u+a*s.width),p=this.colorFcn(l);s.data[h]=p.r,s.data[h+1]=p.g,s.data[h+2]=p.b,s.data[h+3]=Math.floor(255*p.a)}t.putImageData(s,e,n)}}()},function(t,e,n){"use strict";n(148)},function(t,e,n){"use strict";var i,r=n(3);!function(t){t[t.Protanope=0]="Protanope",t[t.Deuteranope=1]="Deuteranope",t[t.Tritanope=2]="Tritanope"}(i||(i={}));!function(){function t(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=i.Protanope),this.engine=t,this.simulate=e,this.colorMode=n,this._vertexShader="attribute vec2 a_position;attribute vec2 a_texCoord;uniform vec2 u_resolution;varying vec2 v_texCoord;void main() {vec2 zeroToOne = a_position / u_resolution;vec2 zeroToTwo = zeroToOne * 2.0;vec2 clipSpace = zeroToTwo - 1.0;gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);v_texCoord = a_texCoord;}",this._fragmentShader="precision mediump float;uniform sampler2D u_image;varying vec2 v_texCoord;void main() {vec4 o =  texture2D(u_image, v_texCoord);float L = (17.8824 * o.r) + (43.5161 * o.g) + (4.11935 * o.b);float M = (3.45565 * o.r) + (27.1554 * o.g) + (3.86714 * o.b);float S = (0.0299566 * o.r) + (0.184309 * o.g) + (1.46709 * o.b);//MODE CODE//vec4 error;error.r = (0.0809444479 * l) + (-0.130504409 * m) + (0.116721066 * s);error.g = (-0.0102485335 * l) + (0.0540193266 * m) + (-0.113614708 * s);error.b = (-0.000365296938 * l) + (-0.00412161469 * m) + (0.693511405 * s);error.a = 1.0;vec4 diff = o - error;vec4 correction;correction.r = 0.0;correction.g =  (diff.r * 0.7) + (diff.g * 1.0);correction.b =  (diff.r * 0.7) + (diff.b * 1.0);correction = o + correction;correction.a = o.a;//SIMULATE//}",this._internalCanvas=document.createElement("canvas"),this._internalCanvas.width=t.drawWidth,this._internalCanvas.height=t.drawHeight,this._gl=this._internalCanvas.getContext("webgl",{preserveDrawingBuffer:!0}),this._program=this._gl.createProgram();var o=this._getShader("Fragment",this._getFragmentShaderByMode(n)),s=this._getShader("Vertex",this._vertexShader);this._gl.attachShader(this._program,s),this._gl.attachShader(this._program,o),this._gl.linkProgram(this._program),this._gl.getProgramParameter(this._program,this._gl.LINK_STATUS)||r.b.getInstance().error("Unable to link shader program!"),this._gl.useProgram(this._program)}t.prototype._getFragmentShaderByMode=function(t){var e="";return t===i.Protanope?e="float l = 0.0 * L + 2.02344 * M + -2.52581 * S;float m = 0.0 * L + 1.0 * M + 0.0 * S;float s = 0.0 * L + 0.0 * M + 1.0 * S;":t===i.Deuteranope?e="float l = 1.0 * L + 0.0 * M + 0.0 * S;float m = 0.494207 * L + 0.0 * M + 1.24827 * S;float s = 0.0 * L + 0.0 * M + 1.0 * S;":t===i.Tritanope&&(e="float l = 1.0 * L + 0.0 * M + 0.0 * S;float m = 0.0 * L + 1.0 * M + 0.0 * S;float s = -0.395913 * L + 0.801109 * M + 0.0 * S;"),this.simulate?this._fragmentShader=this._fragmentShader.replace("//SIMULATE//","gl_FragColor = error.rgba;"):this._fragmentShader=this._fragmentShader.replace("//SIMULATE//","gl_FragColor = correction.rgba;"),this._fragmentShader.replace("//MODE CODE//",e)},t.prototype._setRectangle=function(t,e,n,i){var r=t,o=t+n,s=e,a=e+i;this._gl.bufferData(this._gl.ARRAY_BUFFER,new Float32Array([r,s,o,s,r,a,r,a,o,s,o,a]),this._gl.STATIC_DRAW)},t.prototype._getShader=function(t,e){var n;return"Fragment"===t?n=this._gl.createShader(this._gl.FRAGMENT_SHADER):"Vertex"===t?n=this._gl.createShader(this._gl.VERTEX_SHADER):r.b.getInstance().error("Error unknown shader type",t),this._gl.shaderSource(n,e),this._gl.compileShader(n),this._gl.getShaderParameter(n,this._gl.COMPILE_STATUS)?n:(r.b.getInstance().error("Unable to compile shader!",this._gl.getShaderInfoLog(n)),null)},t.prototype.process=function(t,e){var n=this._gl.getAttribLocation(this._program,"a_position"),i=this._gl.getAttribLocation(this._program,"a_texCoord"),r=this._gl.createBuffer();this._gl.bindBuffer(this._gl.ARRAY_BUFFER,r),this._gl.bufferData(this._gl.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),this._gl.STATIC_DRAW),this._gl.enableVertexAttribArray(i),this._gl.vertexAttribPointer(i,2,this._gl.FLOAT,!1,0,0);var o=this._gl.createTexture();this._gl.bindTexture(this._gl.TEXTURE_2D,o),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MIN_FILTER,this._gl.NEAREST),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MAG_FILTER,this._gl.NEAREST),this._gl.pixelStorei(this._gl.UNPACK_FLIP_Y_WEBGL,1),this._gl.texImage2D(this._gl.TEXTURE_2D,0,this._gl.RGBA,this._gl.RGBA,this._gl.UNSIGNED_BYTE,t);var s=this._gl.getUniformLocation(this._program,"u_resolution");this._gl.uniform2f(s,this._internalCanvas.width,this._internalCanvas.height);var a=this._gl.createBuffer();this._gl.bindBuffer(this._gl.ARRAY_BUFFER,a),this._gl.enableVertexAttribArray(n),this._gl.vertexAttribPointer(n,2,this._gl.FLOAT,!1,0,0),this._setRectangle(0,0,t.width,t.height),this._gl.drawArrays(this._gl.TRIANGLES,0,6);var u=new Uint8Array(t.width*t.height*4);this._gl.readPixels(0,0,t.width,t.height,this._gl.RGBA,this._gl.UNSIGNED_BYTE,u),t.data.set(u),e.putImageData(t,0,0)}}()},function(t,e,n){"use strict";n(34),n(150),n(23)},function(t,e,n){"use strict";n(151)},function(t,e,n){"use strict";var i,r=n(76),o=n(34),s=n(152),a=n(39),u=n(74),c=n(42),l=n(9),h=n(153),p=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),f=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};!function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=t.call(this,"","")||this;i._loop=!1,i._volume=1,i._isPaused=!1,i._tracks=[],i._wasPlayingOnHidden=!1,i._processedData=new l.a,i._audioContext=a.a.create(),i._detectResponseType();for(var r=0,o=e;r<o.length;r++){var s=o[r];if(Object(h.a)(s)){i.path=s;break}}return i.path||(i.logger.warn("This browser does not support any of the audio files specified:",e.join(", ")),i.logger.warn("Attempting to use",e[0]),i.path=e[0]),i}p(e,t),Object.defineProperty(e.prototype,"loop",{get:function(){return this._loop},set:function(t){this._loop=t;for(var e=0,n=this._tracks;e<n.length;e++){n[e].loop=this._loop}this.logger.debug("Set loop for all instances of sound",this.path,"to",this._loop)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"volume",{get:function(){return this._volume},set:function(t){this._volume=t;for(var e=0,n=this._tracks;e<n.length;e++){n[e].volume=this._volume}this.emit("volumechange",new u.a(this)),this.logger.debug("Set loop for all instances of sound",this.path,"to",this._volume)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"instances",{get:function(){return this._tracks},enumerable:!0,configurable:!0}),e.prototype.setLoop=function(t){this.loop=t},e.prototype.setVolume=function(t){this.volume=t},e.prototype.wireEngine=function(t){var e=this;t&&(this._engine=t,this._engine.on("hidden",function(){t.pauseAudioWhenHidden&&e.isPlaying()&&(e._wasPlayingOnHidden=!0,e.pause())}),this._engine.on("visible",function(){t.pauseAudioWhenHidden&&e._wasPlayingOnHidden&&(e.play(),e._wasPlayingOnHidden=!1)}))},e.prototype.instanceCount=function(){return this._tracks.length},e.prototype.isPlaying=function(){return this._tracks.some(function(t){return t.isPlaying()})},e.prototype.play=function(t){return this.isLoaded()?(this.volume=t||this.volume,this._isPaused?this._resumePlayback():this._startPlayback()):(this.logger.warn("Cannot start playing. Resource",this.path,"is not loaded yet"),l.a.resolve(!0))},e.prototype.pause=function(){if(this.isPlaying()){for(var t=0,e=this._tracks;t<e.length;t++){e[t].pause()}this._isPaused=!0,this.emit("pause",new u.a(this)),this.logger.debug("Paused all instances of sound",this.path)}},e.prototype.stop=function(){if(this.isPlaying()){for(var t=0,e=this._tracks;t<e.length;t++){e[t].stop()}this.emit("stop",new u.a(this)),this._isPaused=!1,this._tracks.length=0,this.logger.debug("Stopped all instances of sound",this.path)}},e.prototype.setData=function(t){this.emit("emptied",new u.a(this)),this.data=t,this._processedData=new l.a},e.prototype.processData=function(t){var e=this;return(t instanceof ArrayBuffer?this._processArrayBufferData(t):this._processBlobData(t)).then(function(t){return e._setProcessedData(t)})},e.prototype.getTrackId=function(t){return this._tracks.indexOf(t)},e.prototype._resumePlayback=function(){if(this._isPaused){for(var t=[],e=0,n=this._tracks;e<n.length;e++){var i=n[e];t.push(i.play())}return this._isPaused=!1,this.emit("resume",new u.a(this)),this.logger.debug("Resuming paused instances for sound",this.path,this._tracks),l.a.join(t)}return l.a.resolve(!0)},e.prototype._startPlayback=function(){var t=this,e=this._createNewTrack(),n=new l.a;return e.then(function(e){e.play().then(function(i){return t.emit("playbackend",new u.a(t,e)),t._tracks.splice(t.getTrackId(e),1),n.resolve(i),i}),t.emit("playbackstart",new u.a(t,e)),t.logger.debug("Playing new instance for sound",t.path)}),n},e.prototype._processArrayBufferData=function(t){var e=this,n=new l.a;return this._audioContext.decodeAudioData(t,function(t){n.resolve(t)},function(){e.logger.error("Unable to decode  this browser may not fully support this format, or the file may be corrupt, if this is an mp3 try removing id3 tags and album art from the file."),n.resolve(void 0)}),n},e.prototype._processBlobData=function(e){return(new l.a).resolve(t.prototype.processData.call(this,e))},e.prototype._setProcessedData=function(t){this._processedData.resolve(t)},e.prototype._createNewTrack=function(){var t=this,e=new l.a;return 0!==this._processedData.state()&&this.processData(this.data),this._processedData.then(function(n){return e.resolve(t._getTrackInstance(n)),n},function(e){t.logger.error(e,"Cannot create AudioInstance due to wrong processed data.")}),e},e.prototype._getTrackInstance=function(t){var e=s.a.create(t);return e.loop=this.loop,e.volume=this.volume,this._tracks.push(e),e},e.prototype._detectResponseType=function(){window.AudioContext?this.responseType=r.a.type.arraybuffer:this.responseType=r.a.type.blob},f([Object(c.a)({message:"will be removed in v0.18, use loop instead"})],e.prototype,"setLoop",null),f([Object(c.a)({message:"will be removed in v0.18, use volume instead"})],e.prototype,"setVolume",null)}(o.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i,r=n(9),o=n(4),s=n(39),a=n(42),u=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},l=function(){function t(){}return t.create=function(t){return"string"===typeof t?new p(t):t instanceof AudioBuffer?new f(t):new h(t)},t}(),h=function(){function t(t){this._src=t,this._volume=1,this._loop=!1,this._isPlaying=!1,this._isPaused=!1}return Object.defineProperty(t.prototype,"loop",{get:function(){return this._loop},set:function(t){this._loop=t,this._instance&&(this._instance.loop=t,this._wireUpOnEnded())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"volume",{get:function(){return this._volume},set:function(t){this._volume=o.d(t,0,1)},enumerable:!0,configurable:!0}),t.prototype.setLoop=function(t){this.loop=t},t.prototype.setVolume=function(t){this.volume=t},t.prototype.isPlaying=function(){return this._isPlaying},t.prototype.pause=function(){this._isPlaying&&(this._isPaused=!0,this._isPlaying=!1)},t.prototype.stop=function(){this._isPlaying&&(this._isPlaying=!1,this._isPaused=!1)},t.prototype.play=function(){return this._isPaused&&this._resumePlayBack(),this._isPlaying||this._startPlayBack(),this._playingPromise},t.prototype._startPlayBack=function(){this._isPlaying=!0,this._isPaused=!1,this._playingPromise=new r.a},t.prototype._resumePlayBack=function(){this._isPaused&&(this._isPaused=!1,this._isPlaying=!0)},t.prototype._wireUpOnEnded=function(){var t=this;this.loop||(this._instance.onended=function(){return t._handleOnEnded()})},t.prototype._handleOnEnded=function(){},c([Object(a.a)({message:"will be removed in v0.18, use loop instead"})],t.prototype,"setLoop",null),c([Object(a.a)({message:"will be removed in v0.18, use volume instead"})],t.prototype,"setVolume",null),t}(),p=function(t){function e(e){var n=t.call(this,e)||this;return n._instance=new Audio(e),n}return u(e,t),Object.defineProperty(e.prototype,"volume",{get:function(){return this._volume},set:function(t){t=o.d(t,0,1),this._volume=t,this._instance.volume=t},enumerable:!0,configurable:!0}),e.prototype.pause=function(){this._isPlaying&&(this._instance.pause(),this._isPaused=!0,this._isPlaying=!1)},e.prototype.stop=function(){t.prototype.stop.call(this),this._instance.pause(),this._instance.currentTime=0,this._handleOnEnded()},e.prototype._startPlayBack=function(){t.prototype._startPlayBack.call(this),this._instance.load(),this._instance.loop=this.loop,this._instance.play(),this._wireUpOnEnded()},e.prototype._resumePlayBack=function(){t.prototype._resumePlayBack.call(this),this._instance.play(),this._wireUpOnEnded()},e.prototype._handleOnEnded=function(){this._isPlaying=!1,this._isPaused=!1,this._playingPromise.resolve(!0)},e}(h),f=function(t){function e(e){var n=t.call(this,e)||this;return n._audioContext=s.a.create(),n._volumeNode=n._audioContext.createGain(),n._currentOffset=0,n._createNewBufferSource(),n}return u(e,t),Object.defineProperty(e.prototype,"volume",{get:function(){return this._volume},set:function(t){t=o.d(t,0,1),this._volume=t,this._volumeNode.gain.setTargetAtTime?this._volumeNode.gain.setTargetAtTime(t,this._audioContext.currentTime,0):this._volumeNode.gain.value=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_playbackRate",{get:function(){return this._instance?1/(this._instance.playbackRate.value||1):null},enumerable:!0,configurable:!0}),e.prototype.pause=function(){t.prototype.pause.call(this),this._instance.stop(0),this._setPauseOffset()},e.prototype.stop=function(){t.prototype.stop.call(this),this._currentOffset=0,this._instance.stop(0),this._instance.onended||this._handleOnEnded()},e.prototype._startPlayBack=function(){t.prototype._startPlayBack.call(this),this._instance||this._createNewBufferSource(),this._rememberStartTime(),this._volumeNode.connect(this._audioContext.destination),this._instance.start(0,0),this._currentOffset=0,this._playingPromise=new r.a,this._wireUpOnEnded()},e.prototype._resumePlayBack=function(){t.prototype._resumePlayBack.call(this),this._instance.onended=null,this._createNewBufferSource();var e=this._playbackRate*this._src.duration,n=this._currentOffset%e;this._rememberStartTime(-1e3*n),this._instance.start(0,n),this._wireUpOnEnded()},e.prototype._handleOnEnded=function(){this._isPaused||(this._isPlaying=!1,this._playingPromise.resolve(!0))},e.prototype._rememberStartTime=function(t){this._startTime=(new Date).getTime()+(0|t)},e.prototype._setPauseOffset=function(){this._currentOffset=((new Date).getTime()-this._startTime)*this._playbackRate/1e3},e.prototype._createNewBufferSource=function(){this._instance=this._audioContext.createBufferSource(),this._instance.buffer=this._src,this._instance.loop=this.loop,this._instance.playbackRate.setValueAtTime(1,0),this._instance.connect(this._volumeNode)},e}(h)},function(t,e,n){"use strict";e.a=function(t){try{var e=new Audio,n=t.match(/.*\.([A-Za-z0-9]+)$/)[1];return!!e.canPlayType("audio/"+n)}catch(t){return i.b.getInstance().warn("Cannot determine audio support, assuming no support for the Audio Tag",t),!1}};var i=n(3)},function(t,e,n){"use strict";n(4),n(15)},function(t,e,n){"use strict";var i=n(156);n.d(e,"b",function(){return i.a});var r=n(157);n.d(e,"a",function(){return r.a});n(158)},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i,r=n(13),o=n(77),s=(n.n(o),n(29)),a=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(t){function e(){var e=t.call(this,{pos:new r.i(0,0),width:64,height:64,collisionType:r.b.Active,color:r.c.Red})||this;e.speed=100,e.notTalking=!0;var n=Object(o.createSelector)(function(t){return t.gameState.currentConversation},function(t){return null==t});return s.a.subscribe(function(){e.notTalking=n(s.a.getState())}),e}return a(e,t),e.prototype.update=function(e,n){t.prototype.update.call(this,e,n);var i=new r.i(0,0);this.notTalking&&(i.y-=e.input.keyboard.isHeld(r.f.Keys.W)?1:0,i.y+=e.input.keyboard.isHeld(r.f.Keys.S)?1:0,i.x+=e.input.keyboard.isHeld(r.f.Keys.D)?1:0,i.x-=e.input.keyboard.isHeld(r.f.Keys.A)?1:0),0!=i.distance()&&(i=i.normalize().scale(this.speed)),this.vel=i},e}(r.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(13),r=n(30),o=n(29),s=n(77),a=(n.n(s),function(){function t(t,e){var n=this;this.active=!1,this.actor=new i.a({pos:new i.i(t,e),width:64,height:64,color:i.c.Blue,collisionType:i.b.Fixed}),this.area=new i.h({width:100,height:100,pos:new i.i(t,e),target:r.a,action:function(){n.active=!0}}),this.area.on("entertrigger",function(){n.active=!0}),this.area.on("exittrigger",function(t){n.active=!1})}return t.prototype.afterEnter=function(){var t=this;this.game.add(this.actor),this.game.add(this.area),this.interactEvent=function(e){e.key==i.f.Keys.E&&t.interact()},this.game.input.keyboard.on("press",this.interactEvent)},t.prototype.beforeExit=function(){this.game.input.keyboard.off("press",this.interactEvent),this.game.remove(this.actor),this.game.remove(this.area)},t.prototype.interact=function(){this.active&&null==o.a.getState().currentConversation&&o.a.dispatch(this.dispatchActionCreator())},t.prototype.add=function(t){var e=this,n=function(){var t=Object(s.createSelector)(function(t){return t.gameState.playerState},e.shouldExit);e.afterEnter(),e.cancelExitSub=o.a.subscribe(function(){t(o.a.getState())&&(e.cancelExitSub(),e.beforeExit())})};this.game=t;var i=Object(s.createSelector)(function(t){return t.gameState.playerState},this.shouldEnter);i(o.a.getState())?n():this.cancelEnterSub=o.a.subscribe(function(){i(o.a.getState())&&(e.cancelEnterSub(),n())})},t}())},function(t,e,n){"use strict";var i=n(13),r=n(30);!function(){function t(t,e,n){this.area=new i.h({width:100,height:100,pos:new i.i(t,e),target:r.a,repeat:n}),this.area.on("entertrigger",function(){alert("triggered zone")})}t.prototype.add=function(t){t.add(this.area)}}()},function(t,e){},function(t,e,n){"use strict";e.a=function(){if("serviceWorker"in navigator){var t=new URL("/MedLeY",window.location.toString());if(t.origin!==window.location.origin)return;window.addEventListener("load",function(){var t="/MedLeY/service-worker.js";i?(!function(t){fetch(t).then(function(e){404===e.status||-1===e.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(t){t.unregister().then(function(){window.location.reload()})}):r(t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):r(t)})}};var i=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function r(t){navigator.serviceWorker.register(t).then(function(t){t.onupdatefound=function(){var e=t.installing;e&&(e.onstatechange=function(){"installed"===e.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))})}}).catch(function(t){console.error("Error during service worker registration:",t)})}}]);
//# sourceMappingURL=main.83136111.js.map